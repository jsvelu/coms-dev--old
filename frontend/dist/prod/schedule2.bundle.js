webpackJsonp([8],{0:function(e,t,n){e.exports=n(179)},2:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},3:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(23),r=a(o);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,r.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()},19:function(e,t){},23:function(e,t,n){e.exports={default:n(25),__esModule:!0}},24:function(e,t,n){e.exports={default:n(46),__esModule:!0}},25:function(e,t,n){n(31);var a=n(4).Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},31:function(e,t,n){var a=n(9);a(a.S+a.F*!n(8),"Object",{defineProperty:n(11).f})},46:function(e,t,n){n(62),e.exports=n(4).Object.values},53:function(e,t,n){var a=n(8),o=n(18),r=n(13),i=n(22).f;e.exports=function(e){return function(t){for(var n,d=r(t),s=o(d),l=s.length,c=0,u=[];l>c;)n=s[c++],a&&!i.call(d,n)||u.push(e?[n,d[n]]:d[n]);return u}}},62:function(e,t,n){var a=n(9),o=n(53)(!1);a(a.S,"Object",{values:function(e){return o(e)}})},74:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleDashboardApiService",["ApiService",function(e){var t=function(){function t(){(0,r.default)(this,t)}return(0,d.default)(t,[{key:"assignProductionDates",value:function(t){return e.postData("schedule/dashboard2/assign-production-dates",{assign_production_dates_for_month:e.formatDate(t)})}},{key:"changeOrderScheduleMonthPosition",value:function(t,n,a,o){return e.postData("schedule/dashboard2/change-order-schedule-month-position",{view_month:e.formatDate(t),order_list:o,new_schedule_month:e.formatDate(n),new_position_month:a})}},{key:"changeOrderScheduleMonthPosition1",value:function(t,n,a,o,r){return e.postData("schedule/dashboard2/change-order-schedule-unit-position",{view_month:e.formatDate(t),order_list:o,new_schedule_month:e.formatDate(n),new_position_month:a,production_unit:1})}},{key:"getInitialData",value:function(t){return e.getData("schedule/dashboard2/initial/"+e.formatDate(t))}},{key:"getInitialData1",value:function(t){return e.getData("schedule/dashboard2/initialdata/"+e.formatDate(t))}},{key:"getDealerInitialData",value:function(t){return e.getData("schedule/dashboard2/dealer/"+e.formatDate(t))}},{key:"saveCommentOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-order",{order_id:t.id,schedule_comments:n})}},{key:"saveQCOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-transport-order",{order_id:t.id+"",qc_comments_from:n})}},{key:"saveWaterOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-water-order",{order_id:t.id+"",watertest_comments:n})}},{key:"saveDispatchOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-dispatch-order",{order_id:t.id+"",dispatch_comments:n})}},{key:"saveDealerCommentOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-order",{order_id:t.id,dealer_comments:n})}},{key:"saveLockdown",value:function(t,n){return e.postData("schedule/dashboard2/update-lockdown",{lockdown_number:n,lockdown_month:t})}},{key:"updateOrderPosition",value:function(t,n,a,o,r,i){return e.postData("schedule/dashboard2/update-order",{view_month:e.formatDate(t),order_id:n.id,new_month:a,new_position:o,previous_order_id:r,next_order_id:i})}},{key:"massFinalizeOrder",value:function(t,n){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(t),order_list:n})}}]),t}();return new t}])},e.exports=t.default},75:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleDashboardService",function(){var e=function(){function e(){(0,r.default)(this,e)}return(0,d.default)(e,[{key:"getSpecialFeatureClass",value:function(e){return"pending"==e.special_feature_status?"glyphicon-question-sign":"approved"==e.special_feature_status?"glyphicon-ok-sign":"rejected"==e.special_feature_status?"glyphicon-remove-sign":""}},{key:"isSameMonth",value:function(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()}},{key:"containsCaseInsensitive",value:function(e,t){return e.toLowerCase().indexOf(t.toLowerCase())!=-1}}]),e}();return new e})},e.exports=t.default},94:function(e,t){},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){n(152)(e),n(159)(e),n(151)(e),n(150)(e),n(156)(e),n(154)(e),e.controller("ScheduleController",function(){n(94),n(19)})},e.exports=t.default},149:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleCapacityApiService",["ApiService",function(e){var t=function(){function t(){(0,r.default)(this,t)}return(0,d.default)(t,[{key:"getInitialData",value:function(t){return e.getData("schedule/capacity2/initial/"+e.formatDate(t))}},{key:"saveData",value:function(t){return e.postData("schedule/capacity2/save",{weekList:t})}}]),t}();return new t}])},e.exports=t.default},150:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=a(o),i=n(1),d=a(i);t.default=function(e){n(149)(e),e.controller("ScheduleCapacityController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","$state","$stateParams","AppSettings","ScheduleCapacityApiService",function(e,t,n,a,o,i,s,l,c){o.initialDataLoading=!1,o.saveLoading=!1,o.currentMonth=s.currentMonth,t.putObject("scheduleCapacityCurrentMonth",s.currentMonth),o.monthList=[];var u=function(e){o.initialDataLoading=!0,c.getInitialData(e).then(function(e){if(o.weekList=e.week_list,a.permissions=e.permissions,0==o.monthList.length){var t=!0,r=!1,i=void 0;try{for(var s,c=(0,d.default)(e.month_list);!(t=(s=c.next()).done);t=!0){var u=s.value,g=new Date(Date.parse(u)),p=new Date(g);p.setMonth(p.getMonth()+5),o.monthList.push({title:n("date")(g,l.FORMAT_DATE_MONTH_SHORT_JS)+" - "+n("date")(p,l.FORMAT_DATE_MONTH_SHORT_JS),value:g}),h(o.currentMonth,g)&&(o.currentMonth=g)}}catch(e){r=!0,i=e}finally{try{!t&&c.return&&c.return()}finally{if(r)throw i}}}var _=!0,m=!1,b=void 0;try{for(var f,v=function(){var e=f.value;o.$watch(function(){return e.days},function(t,n){e.total_capacity=t.reduce(function(e,t){return e+Number(t.capacity)},0)},!0)},y=(0,d.default)(o.weekList);!(_=(f=y.next()).done);_=!0)v()}catch(e){m=!0,b=e}finally{try{!_&&y.return&&y.return()}finally{if(m)throw b}}}).finally(function(){o.initialDataLoading=!1})};u(o.currentMonth),o.$watch("currentMonth",function(e,t){h(e,t)||i.go("schedule2.capacity",{currentMonth:e},{reload:!0})}),o.duplicate=function(e){for(var t=0,n=o.weekList[t];n.start_label!=e.start_label&&t<o.weekList.length;)t++,n=o.weekList[t];if(t<o.weekList.length-1)for(var a=0;a<7;a++)o.weekList[t+1].days[a].capacity=o.weekList[t].days[a].capacity},o.save=function(){o.saveLoading=!0,c.saveData(o.weekList).then(function(e){o.successMessages=["Data saved successfully"],o.errorMessages=[]},function(e){var t=e.data.message||e.data;("undefined"==typeof t?"undefined":(0,r.default)(t))==(0,r.default)("")&&(t=[t]),o.errorMessages=t}).finally(function(){e("message-anchor"),o.saveLoading=!1})};var h=function(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()}}])},e.exports=t.default},151:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o);t.default=function(e){n(74)(e),n(75)(e),e.controller("DealerScheduleDashboardController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleDashboardApiService","ScheduleDashboardService",function(e,t,a,o,i,d,s,l,c){if(n(94),n(19),o.permissions={},i.monthDataLoading=!1,i.searchStr="",i.monthList=[],i.isOrderDealerCommentSaving={},t.getObject("scheduleDashboardCurrentMonth"))i.currentMonth=new Date(Date.parse(t.getObject("scheduleDashboardCurrentMonth")));else{var u=s.now();i.currentMonth=new Date(u.getFullYear(),u.getMonth())}var h=function(e){i.monthDataLoading=!0,l.getDealerInitialData(e).then(function(e){if(i.orderList=e.order_list,o.permissions=e.permissions,0==i.monthList.length){var t=!0,n=!1,s=void 0;try{for(var l,u=(0,r.default)(e.month_list);!(t=(l=u.next()).done);t=!0){var h=l.value,g=new Date(Date.parse(h));i.monthList.push({title:a("date")(g,d.FORMAT_DATE_MONTH_SHORT_JS),value:g}),c.isSameMonth(i.currentMonth,g)&&(i.currentMonth=g)}}catch(e){n=!0,s=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw s}}}}).catch(function(e){e?i.errorMessages=[e.data]:i.errorMessages=["Error while getting the initial data."]}).finally(function(){i.monthDataLoading=!1})};h(i.currentMonth),i.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},i.$watch("currentMonth",function(e,n){c.isSameMonth(e,n)||(h(e),t.putObject("scheduleDashboardCurrentMonth",e))}),i.onOrderDealerCommentChange=function(e,t){var n=e.target.value,o=t.dealer_comments;n!=o&&(i.isOrderDealerCommentSaving[t.id]=!0,l.saveDealerCommentOnOrder(t,n).then(function(){i.errorMessages=[]}).catch(function(){i.errorMessages=["Error while updating the comments for order #"+t.index+" for "+a("date")(t.month,d.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){i.isOrderDealerCommentSaving[t.id]=!1}))},i.filterOrders=function(e){return!!e.month_header||(c.containsCaseInsensitive(e.model_series,i.searchStr)||c.containsCaseInsensitive(e.customer,i.searchStr)||c.containsCaseInsensitive(e.chassis,i.searchStr)||c.containsCaseInsensitive(e.dealer_comments,i.searchStr))}}])},e.exports=t.default},152:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),r=a(o),i=n(1),d=a(i);t.default=function(e){n(74)(e),n(75)(e),e.controller("ScheduleDashboardController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleDashboardApiService","ScheduleDashboardService",function(e,t,n,a,o,i,s,l,c){a.permissions={},o.monthDataLoading=!1,o.assignProductionDatesLoading=!1,o.orderCommentLoading={},o.orderSortLoading={},o.searchStr="",o.monthList=[],o.ordersSelected=[],o.production_unit=[],o.sortableOptions={axis:"y",containment:"#dashboard .content table tbody, #dashboard .content table tfoot",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".drag-handle",placeholder:"sortable-placeholder",helper:function e(t,n){var a=n.children(),e=n.clone();return e.children().each(function(e,t){$(t).width(a.eq(e).outerWidth())}),e},stop:function(e,t){var n=(t.item.sortable.index,t.item.sortable.dropindex),a=t.item.sortable.model;if("dropindex"in t.item.sortable){for(var r=void 0,i=n,d=void 0,s=void 0,c=void 0,u=void 0,h=0;h<o.orderList.length;h++){var g=o.orderList[h];if(g.month_header&&(c=g.month,u=h),g.id==a.id){i-=u,r=c,h+1<o.orderList.length&&(s=o.orderList[h+1].id);break}d=g.id}o.orderSortLoading[a.id]=!0,l.updateOrderPosition(o.currentMonth,a,r,i,d,s).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){o.orderSortLoading[a.id]=!1})}}};var u=s.now();o.currentMonth=new Date(u.getFullYear(),u.getMonth());var h=function(e){o.monthDataLoading=!0,l.getInitialData(e).then(function(e){if(o.orderList=e.order_list,o.lockdownMonth=e.lockdown_month,o.lockdownNumber=e.lockdown_number,a.permissions=e.permissions,0==o.monthList.length){var t=!0,r=!1,s=void 0;try{for(var l,u=(0,d.default)(e.month_list);!(t=(l=u.next()).done);t=!0){var h=l.value,g=new Date(Date.parse(h));o.monthList.push({title:n("date")(g,i.FORMAT_DATE_MONTH_SHORT_JS),value:g}),c.isSameMonth(o.currentMonth,g)&&(o.currentMonth=g)}}catch(e){r=!0,s=e}finally{try{!t&&u.return&&u.return()}finally{if(r)throw s}}}}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while getting the initial data."]}).finally(function(){o.monthDataLoading=!1})};h(o.currentMonth),$("#chosen_month_show").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:"#chosen_month",OnAfterMenuClose:function(){$("#chosen_month").trigger("input")}}),o.$watch("currentMonth",function(e,t){e instanceof Date||(e=new Date(Date.parse(e))),t instanceof Date||(t=new Date(Date.parse(t))),c.isSameMonth(e,t)||h(e)}),o.getStatusClass=function(e){return"plans_completed"==e?"summary_plans_completed":e},o.getOrderSummarySorted=function(e){var t=Object();return"not_finalized"in e&&(t.not_finalized=e.not_finalized),"pending_draft"in e&&(t.pending_draft=e.pending_draft),"pending_customer"in e&&(t.pending_customer=e.pending_customer),"customer_approved"in e&&(t.customer_approved=e.customer_approved),"plans_completed"in e&&(t.plans_completed=e.plans_completed),t},o.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},o.onOrderCommentChange=function(e,t){var a=e.target.value,r=t.schedule_comments;a!=r&&(o.orderCommentLoading[t.id]=!0,l.saveCommentOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating the comments for order #"+t.index+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.orderCommentLoading[t.id]=!1}))},o.isSortingAllowed=function(){return o.permissions.change_schedule_dashboard},o.hasSequenceChangeInProgress=function(){return!(0,r.default)(o.orderSortLoading).every(function(e){return!e})},o.isSortingAvailable=function(){return!o.searchStr&&!o.hasSequenceChangeInProgress()&&!o.moveCmdInitiated},o.isOrderMovingButtonAvailable=function(){return!o.hasSequenceChangeInProgress()&&!o.moveCmdInitiated},o.filterOrders=function(e){return!!e.month_header||(c.containsCaseInsensitive(e.model_series,o.searchStr)||c.containsCaseInsensitive(e.dealership,o.searchStr)||c.containsCaseInsensitive(e.customer,o.searchStr)||c.containsCaseInsensitive(e.chassis,o.searchStr)||c.containsCaseInsensitive(e.order_id,o.searchStr)||c.containsCaseInsensitive(e.schedule_comments,o.searchStr))},o.assignProductionDates=function(){o.assignProductionDatesLoading=!0,l.assignProductionDates(o.currentMonth).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){o.assignProductionDatesLoading=!1})},o.onLockdown=function(e,t){l.saveLockdown(e,t).then(function(e){o.errorMessages=[],o.lockdownMonth=e.lockdown_month,o.lockdownNumber=e.lockdown_number}).catch(function(){o.errorMessages=["Error while locking down order #"+t+" for "+n("date")(e,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},o.onMoveCmd=function(){o.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition(o.currentMonth,o.move_month,o.new_position,o.ordersSelected).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){(e||{}).data?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){angular.forEach(o.ordersSelected,function(e){return o.orderSortLoading[e]=!1}),o.moveCmdInitiated=!1}),$("#moveOrderModal").modal("hide")},o.onMoveCmd1=function(){o.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition1(o.currentMonth,o.move_month,o.new_position,o.ordersSelected,o.production_unit).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){(e||{}).data?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){angular.forEach(o.ordersSelected,function(e){return o.orderSortLoading[e]=!1}),o.moveCmdInitiated=!1}),$("#moveOrderModal2").modal("hide")},o.moveOrderCount=function(){var e=0;return angular.forEach(o.orderList,function(t){t.selected&&e++}),e},$("#moveOrderModal.modal").on("hidden.bs.modal",function(){o.moveCmdInitiated||(angular.forEach(o.ordersSelected,function(e){return o.orderSortLoading[e]=!1}),angular.forEach(o.orderList,function(e){e.selected&&(e.selected=!1)}),o.$apply())}),$("#moveOrderModal2.modal").on("hidden.bs.modal",function(){o.moveCmdInitiated||(angular.forEach(o.ordersSelected,function(e){return o.orderSortLoading[e]=!1}),angular.forEach(o.orderList,function(e){e.selected&&(e.selected=!1)}),o.$apply()),$(this).find("input").val("").end().find("select").val("").end().find("input[type=checkbox], input[type=radio],input[type=text]").prop("checked","").end()}),o.moveOrders=function(){o.ordersSelected=[],angular.forEach(o.orderList,function(e,t){e.selected&&(o.ordersSelected.push(e.id),o.orderSortLoading[e.id]=!0)}),o.modalTitle="Move "+o.ordersSelected.length+" Order",o.ordersSelected.length>1&&(o.modalTitle+="s"),$("#moveOrderModal.modal").modal({backdrop:"static",keyboard:!1})},o.moveOrders2=function(){o.ordersSelected=[],angular.forEach(o.orderList,function(e,t){e.selected&&(o.ordersSelected.push(e.id),o.orderSortLoading[e.id]=!0)}),o.modalTitle="Move "+o.ordersSelected.length+"to Caravans",o.ordersSelected.length>1&&(o.modalTitle+="s"),$("#moveOrderModal2.modal").modal({backdrop:"static",keyboard:!1})},o.lockOrders=function(){o.ordersSelected=[],o.lockCmdInitiated=!0,angular.forEach(o.orderList,function(e,t){e.selected&&o.ordersSelected.push(e.id)}),l.massFinalizeOrder(o.currentMonth,o.ordersSelected).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){(e||{}).data?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){o.lockCmdInitiated=!1})}}])},e.exports=t.default},153:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleExportApiService",["ApiService",function(e){var t=function(){function t(){(0,r.default)(this,t)}return(0,d.default)(t,[{key:"getInitialData",value:function(){return e.getData("schedule/export2/initial")}}]),t}();return new t}])},e.exports=t.default},154:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o);t.default=function(e){n(153)(e),e.controller("ScheduleExportController",["$filter","$rootScope","$scope","AppSettings","ScheduleExportApiService",function(e,t,n,a,o){n.successMessages=[],n.errorMessages=[],n.monthList=[],n.exportScheduleCSV={invalidDates:!1,dateFrom:null,dateTo:null},n.contractorExports={list:[],invalidDates:!1,dateFrom:null,dateTo:null};var i=function(){["#exportScheduleCSV_dateFrom","#exportScheduleCSV_dateTo","#exportScheduleCSV1_dateFrom","#contractorExports_dateFrom","#contractorExports_dateTo"].forEach(function(e){$(e+"_shown").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:e,OnAfterMenuClose:function(){$(e).trigger("input")}})})};setTimeout(i,1500),o.getInitialData().then(function(o){if(0==n.monthList.length){var i=!0,s=!1,l=void 0;try{for(var c,u=(0,r.default)(o.month_list);!(i=(c=u.next()).done);i=!0){var h=c.value,g=new Date(Date.parse(h));n.monthList.push({title:e("date")(g,a.FORMAT_DATE_MONTH_SHORT_JS),value:g}),d(g)&&(n.exportScheduleCSV.dateFrom=n.exportScheduleCSV.dateTo=g,n.contractorExports.dateFrom=n.contractorExports.dateTo=g)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}}t.permissions=o.permissions,n.dealers=o.dealer,n.contractorExports.list=o.contractor_exports}),n.validateDates=function(e){e.invalidDates=e.dateFrom>e.dateTo};var d=function(e){var t=new Date;return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()}}])},e.exports=t.default},155:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("SchedulePlannerApiService",["ApiService",function(e){var t=function(){function t(){(0,r.default)(this,t)}return(0,d.default)(t,[{key:"getInitialData",value:function(){return e.getData("schedule/planner2/initial")}},{key:"saveData",value:function(t){return e.postData("schedule/planner2/save",{data:t})}}]),t}();return new t}])},e.exports=t.default},156:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=a(o),i=n(1),d=a(i);t.default=function(e){n(155)(e),e.controller("SchedulePlannerController",["$anchorScroll","$rootScope","$scope","SchedulePlannerApiService",function(e,t,n,a){n.saveLoading=!1,n.defaultDate=new Date(new Date-2592e5),n.successMessages=[],n.errorMessages=[];var o=function(t){var a=!1,o=!0,r=!1,i=void 0;try{for(var s,l=(0,d.default)(t);!(o=(s=l.next()).done);o=!0){var c=s.value;c.initialValue=new Date(c.production_month),a|=c.capacity<c.total_orders}}catch(e){r=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}a&&n.errorMessages.push("One or more months have more orders than their allocated capacity."),n.all_data=t,e("message-anchor")};a.getInitialData().then(function(e){o(e.data),t.permissions=e.permissions}),n.save=function(){n.saveLoading=!0,a.saveData(n.all_data).then(function(e){n.successMessages=["Data saved successfully"],n.errorMessages=[],o(e.data)},function(e){var t=e.data;("undefined"==typeof t?"undefined":(0,r.default)(t))==(0,r.default)("")&&(t=[t]),n.errorMessages=t}).finally(function(){n.saveLoading=!1})}}])},e.exports=t.default},157:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleDashboardApiService",["ApiService",function(e){var t=function(){function t(){(0,r.default)(this,t)}return(0,d.default)(t,[{key:"assignProductionDates",value:function(t){return e.postData("schedule/transportdashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(t)})}},{key:"changeOrderScheduleMonthPosition",value:function(t,n,a,o){return e.postData("schedule/transportdashboard/change-order-schedule-month-position",{view_month:e.formatDate(t),order_list:o,new_schedule_month:e.formatDate(n),new_position_month:a})}},{key:"getInitialData",value:function(t){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(t))}},{key:"getDealerInitialData",value:function(t){return e.getData("schedule/transportdashboard/dealer/"+e.formatDate(t))}},{key:"saveCommentOnOrder",value:function(t,n){return e.postData("schedule/transportdashboard/update-order",{order_id:t.id,schedule_comments:n})}},{key:"saveQCOnOrder",value:function(t,n){return e.postData("schedule/dashboard/update-transport-order",{order_id:t.id+"",qc_comments_from:n})}},{key:"saveWaterOnOrder",value:function(t,n){return e.postData("schedule/dashboard/update-water-order",{order_id:t.id+"",qc_comments_from:n})}},{key:"saveDispatchOnOrder",value:function(t,n){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:t.id+"",qc_comments_from:n})}},{key:"saveDealerCommentOnOrder",value:function(t,n){return e.postData("schedule/transportdashboard/update-order",{order_id:t.id,dealer_comments:n})}},{key:"saveLockdown",value:function(t,n){return e.postData("schedule/transportdashboard/update-lockdown",{lockdown_number:n,lockdown_month:t})}},{key:"updateOrderPosition",value:function(t,n,a,o,r,i){return e.postData("schedule/transportdashboard/update-order",{view_month:e.formatDate(t),order_id:n.id,new_month:a,new_position:o,previous_order_id:r,next_order_id:i})}},{key:"massFinalizeOrder",value:function(t,n){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(t),order_list:n})}}]),t}();return new t}])},e.exports=t.default},158:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleDashboardService",function(){var e=function(){function e(){(0,r.default)(this,e)}return(0,d.default)(e,[{key:"getSpecialFeatureClass",value:function(e){return"pending"==e.special_feature_status?"glyphicon-question-sign":"approved"==e.special_feature_status?"glyphicon-ok-sign":"rejected"==e.special_feature_status?"glyphicon-remove-sign":""}},{key:"isSameMonth",value:function(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()}},{key:"containsCaseInsensitive",value:function(e,t){return e.toLowerCase().indexOf(t.toLowerCase())!=-1}}]),e}();return new e})},e.exports=t.default},159:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),r=a(o),i=n(1),d=a(i);t.default=function(e){n(160)(e),n(157)(e),n(158)(e),e.controller("ScheduleTransportController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleTransportDashboardApiService","ScheduleDashboardApiService","ScheduleDashboardService",function(e,t,n,a,o,i,s,l,c,u){a.permissions={},o.monthDataLoading=!1,o.assignProductionDatesLoading=!1,o.sendEmailLoading=!1,o.sendReadyEmailLoading=!1,o.qcstatusvar={},o.qcshowgreen=!1,o.qcshow={},o.watershow={},o.dispatchshow={},o.hold_caravans_cur=!1,o.qc_comm_check={},o.testdate_dynamic="",o.calcdate={},o.planqcdate={},o.waterdate={},o.plandispdate={},o.holdblock={},o.prodblock={},o.prodblock1={},o.prodblock2={},o.chassisblock={},o.buildingblock={},o.prewireblock={},o.aluminiumblock={},o.finishingblock={},o.watertestingblock={},o.weighbridgeblock={},o.detailingblock={},o.qcblock={},o.qcblock1={},o.waterblock={},o.waterblock1={},o.weight_tare={},o.weight_atm={},o.weight_tow_ball={},o.weight_chassis_gtm={},o.weight_gas_comp={},o.weight_payload={},o.finalqcblock={},o.dispatchblock1={},o.dispatchblock2={},o.completeblock={},o.blankblock={},o.dispshowgreen=!1,o.actual_prod_date_loading={},o.chassis_section_date_loading={},o.onChasisSectionCommentLoading={},o.building_date_loading={},o.onBuildingCommentLoading={},o.prewire_date_loading={},o.onPrewireCommentLoading={},o.aluminium_date_loading={},o.finishing_date_loading={},o.watertest_date_loading={},o.weigh_bridge_date_loading={},o.detailing_date_loading={},o.onAluminiumCommentLoading={},o.onFinishingCommentLoading={},o.onWatertestCommentLoading={},o.onWeighBridgeCommentLoading={},o.onDetailingCommentLoading={},o.orderCommentLoading={},o.actual_qc_date_loading={},o.qcCommentLoading={},o.ChassisCommentLoading={},o.prodCommentLoading={},o.actual_water_test_date_loading={},o.waterCommentLoading={},o.detailingCommentLoading={},o.final_qc_date_loading={},o.FinalQCCommentLoading={},o.actual_dispatch_date_loading={},o.dispatchCommentLoading={},o.orderSortLoading={},o.searchStr="",o.statuscolorvar="",o.await_chassis=0,o.await_building=0,o.await_prewire=0,o.await_aluminium=0,o.await_finishing=0,o.await_watertesting=0,o.await_weighbridge=0,o.await_detailing=0,o.dispatched_count=0,o.ready_for_dispatch_count=0,o.final_qc_count=0,o.water_count=0,o.first_qc_count=0,o.monthList=[],o.ordersSelected=[],o.mydate={date:new Date},o.getTodaysDate=new Date,o.sortableOptions={axis:"y",containment:"#transport_dashboard .content table tbody, #transport_dashboard .content table tfoot",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".drag-handle",placeholder:"sortable-placeholder",helper:function e(t,n){var a=n.children(),e=n.clone();return e.children().each(function(e,t){$(t).width(a.eq(e).outerWidth())}),e},stop:function(e,t){var n=(t.item.sortable.index,t.item.sortable.dropindex),a=t.item.sortable.model;if("dropindex"in t.item.sortable){for(var r=void 0,i=n,d=void 0,s=void 0,c=void 0,u=void 0,h=0;h<o.orderList.length;h++){var g=o.orderList[h];if(g.month_header&&(c=g.month,u=h),g.id==a.id){i-=u,r=c,h+1<o.orderList.length&&(s=o.orderList[h+1].id);break}d=g.id}o.orderSortLoading[a.id]=!0,l.updateOrderPosition(o.currentMonth,a,r,i,d,s).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){}).finally(function(){o.orderSortLoading[a.id]=!1})}}};var h=s.now();o.currentMonth=new Date(h.getFullYear(),h.getMonth());var g=function(e){o.monthDataLoading=!0,l.getInitialData1(e).then(function(e){o.orderList=e.order_list,o.lockdownMonth=e.lockdown_month,o.lockdownNumber=e.lockdown_number,o.finaltest=new Date,o.calcdate={},o.planqcdate={},o.waterdate={},o.plandispdate={};var t=0;if(o.dispatched_count=0,o.ready_for_dispatch_count=0,o.water_count=0,o.await_chassis=0,o.await_building=0,o.await_prewire=0,o.await_aluminium=0,o.await_finishing=0,o.await_watertesting=0,o.await_weighbridge=0,o.await_detailing=0,o.await_qc_count_red=0,o.await_qc_count_yellow=-1,o.await_water_count_red=0,o.await_water_count_yellow=0,o.final_qc_count=0,angular.forEach(o.orderList,function(e){o.qc_comm_check[e.id]=e.qc_comments_from,o.calcdate[e.id]=e.production_date,o.weight_tare[e.id]=e.weight_tare,o.weight_tow_ball[e.id]=e.weight_tow_ball,o.weight_atm[e.id]=e.weight_atm,o.weight_payload[e.id]=e.weight_payload,o.weight_gas_comp[e.id]=e.weight_gas_comp,o.weight_chassis_gtm[e.id]=e.weight_chassis_gtm,null!=e.actual_production_date?o.testdate=new Date(e.actual_production_date):o.testdate=new Date(e.production_date);var n=(o.testdate,new Date("2020-04-06 0:0:00")),a=new Date("2020-07-01 0:0:00");if(o.testdate<n){o.numberOfDaysToAdd=12,o.busiday=new Date(o.testdate).getDay(),1!=o.busiday&&2!=o.busiday&&3!=o.busiday&&4!=o.busiday||(o.numberOfDaysToAdd=15),5==o.busiday&&(o.numberOfDaysToAdd=17),o.testdate=o.testdate.setDate(o.testdate.getDate()+parseInt(o.numberOfDaysToAdd));var r=new Date(o.testdate);o.planqcdate[e.id]=r,o.testdate1=new Date(o.planqcdate[e.id]),o.numberOfDaysToAdd1=2,o.busiday1=new Date(o.testdate1).getDay(),4!=o.busiday1&&5!=o.busiday1||(o.numberOfDaysToAdd1=4),o.testdate1=o.testdate1.setDate(o.testdate1.getDate()+parseInt(o.numberOfDaysToAdd1));var i=new Date(o.testdate1);o.waterdate[e.id]=i,o.testdate2=new Date(o.waterdate[e.id]),o.numberOfDaysToAdd2=2,o.busiday2=new Date(o.testdate2).getDay(),4!=o.busiday2&&5!=o.busiday2||(o.numberOfDaysToAdd2=4),o.testdate2=o.testdate2.setDate(o.testdate2.getDate()+parseInt(o.numberOfDaysToAdd2));var d=new Date(o.testdate2);o.plandispdate[e.id]=d}else if(o.testdate>n&&o.testdate<a){o.numberOfDaysToAdd=12,o.busiday=new Date(o.testdate).getDay(),1==o.busiday&&(o.numberOfDaysToAdd=24),2==o.busiday&&(o.numberOfDaysToAdd=23),3==o.busiday&&(o.numberOfDaysToAdd=27),4==o.busiday&&(o.numberOfDaysToAdd=27),5==o.busiday&&(o.numberOfDaysToAdd=27),o.testdate=o.testdate.setDate(o.testdate.getDate()+parseInt(o.numberOfDaysToAdd));var r=new Date(o.testdate);o.planqcdate[e.id]=r,o.testdate1=new Date(o.planqcdate[e.id]),o.numberOfDaysToAdd1=2,o.busiday1=new Date(o.testdate1).getDay(),2==o.busiday1&&(o.numberOfDaysToAdd1=2),3==o.busiday1&&(o.numberOfDaysToAdd1=6),4==o.busiday1&&(o.numberOfDaysToAdd1=6),5==o.busiday1&&(o.numberOfDaysToAdd1=4),o.testdate1=o.testdate1.setDate(o.testdate1.getDate()+parseInt(o.numberOfDaysToAdd1));var i=new Date(o.testdate1);o.waterdate[e.id]=i,o.testdate2=new Date(o.waterdate[e.id]),o.numberOfDaysToAdd2=2,o.busiday2=new Date(o.testdate2).getDay(),2==o.busiday2&&(o.numberOfDaysToAdd2=2),3==o.busiday2&&(o.numberOfDaysToAdd2=6),4==o.busiday2,5==o.busiday2&&(o.numberOfDaysToAdd2=4),o.testdate2=o.testdate2.setDate(o.testdate2.getDate()+parseInt(o.numberOfDaysToAdd2));var d=new Date(o.testdate2);o.plandispdate[e.id]=i}else{o.numberOfDaysToAdd=12,o.busiday=new Date(o.testdate).getDay(),1!=o.busiday&&2!=o.busiday&&3!=o.busiday||(o.numberOfDaysToAdd=22),
4!=o.busiday&&5!=o.busiday||(o.numberOfDaysToAdd=25),o.testdate=o.testdate.setDate(o.testdate.getDate()+parseInt(o.numberOfDaysToAdd));var r=new Date(o.testdate);o.planqcdate[e.id]=r,o.plandispdate[e.id]=r}o.plandispdate[e.id]=e.offline_calc_date,console.log(e.id+":"+o.plandispdate[e.id]),o.statuscolorvar="0";var s=new Date(o.calcdate[e.id]+""),l=new Date("2019-09-30 0:0:00"),c=new Date(e.actual_production_date+"");s.setHours(0,0,0,0),null==e.actual_production_date&&(c=null),o.holdblock[e]=!1,s>o.getTodaysDate&&(o.blankblock[e.id]=!0,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.holdblock[e]=!1,o.chassisblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.dispatchblock1[e.id]=!1,o.qcblock[e.id]=!1,o.qcblock1[e.id]=!1,o.waterblock[e.id]=!1,o.completeblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.statuscolorvar="1"),"1"!=o.statuscolorvar&&e.actual_dispatch_date&&(o.blankblock[e.id]=!1,o.dispatchblock1[e.id]=!1,o.chassisblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock[e.id]=!1,o.qcblock1[e.id]=!1,o.waterblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.holdblock[e]=!1,o.completeblock[e.id]=!0,o.statuscolorvar="2",t+=1,o.dispatched_count=parseInt(o.dispatched_count)+1),"1"!=o.statuscolorvar&&"2"!=o.statuscolorvar&&(s>l?(c&&e.actual_qc_date&&e.final_qc_date&&(o.statuscolorvar="3",o.dispatchblock1[e.id]=!0,o.chassisblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock[e.id]=!1,o.qcblock1[e.id]=!1,o.holdblock[e]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.waterblock1[e.id]=!1,o.ready_for_dispatch_count=parseInt(o.ready_for_dispatch_count)+1),null==c&&null==e.chassis_section&&null==e.building&&null==e.prewire_section&&null==e.aluminium_date&&null==e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.getTodaysDate.setHours(0,0,0,0),o.getTodaysDate<=s?(o.prodblock1[e.id]=!1,o.prodblock[e.id]=!0,o.chassisblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.holdblock[e]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"):(o.prodblock1[e.id]=!1,o.prodblock1[e.id]=!0,o.chassisblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="5")),null!=c&&null!=e.chassis_section&&null!=e.building&&null!=e.prewire_section&&null!=e.aluminium_date&&null!=e.finishing&&null!=e.watertest_date&&null!=e.detailing_date&&null!=e.actual_qc_date&&null==e.final_qc_date&&(o.finalqcblock[e.id]=!0,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.qcblock[e.id]=!1,o.qcblock1[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="10",o.final_qc_count=o.final_qc_count+1),null!=c&&null!=e.chassis_section&&null!=e.building&&null!=e.prewire_section&&null!=e.aluminium_date&&null!=e.finishing&&null!=e.watertest_date&&null!=e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.planqcdate[e.id].setHours(0,0,0,0),o.getTodaysDate.setHours(0,0,0,0),o.getTodaysDate<=o.planqcdate[e.id]?(o.qcblock1[e.id]=!1,o.qcblock[e.id]=!0,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.waterblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="6",o.await_qc_count_red=o.await_qc_count_red+1):(o.qcblock[e.id]=!1,o.qcblock1[e.id]=!0,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.waterblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="7",o.await_qc_count_yellow=o.await_qc_count_yellow+1)),null!=c&&null==e.chassis_section&&null==e.building&&null==e.prewire_section&&null==e.aluminium_date&&null==e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_chassis=o.await_chassis+1,o.chassisblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"),null!=c&&null!=e.chassis_section&&null==e.building&&null==e.prewire_section&&null==e.aluminium_date&&null==e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_building=o.await_building+1,o.buildingblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.chassisblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"),null!=c&&null!=e.chassis_section&&null!=e.building&&null==e.prewire_section&&null==e.aluminium_date&&null==e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_prewire=o.await_prewire+1,o.prewireblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.chassisblock[e.id]=!1,o.buildingblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"),null!=c&&null!=e.chassis_section&&null!=e.building&&null!=e.prewire_section&&null==e.aluminium_date&&null==e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_aluminium=o.await_aluminium+1,o.aluminiumblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"),null!=c&&null!=e.chassis_section&&null!=e.building&&null!=e.prewire_section&&null!=e.aluminium_date&&null==e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_finishing=o.await_finishing+1,o.finishingblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"),null!=c&&null!=e.chassis_section&&null!=e.building&&null!=e.prewire_section&&null!=e.aluminium_date&&null!=e.finishing&&null==e.watertest_date&&null==e.detailing_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_detailing=o.await_detailing+1,o.detailingblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4"),null!=c&&null!=e.chassis_section&&null!=e.building&&null!=e.prewire_section&&null!=e.aluminium_date&&null!=e.finishing&&null!=e.detailing_date&&null==e.watertest_date&&null==e.actual_qc_date&&null==e.final_qc_date&&(o.await_watertesting=o.await_watertesting+1,o.watertestingblock[e.id]=!0,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.buildingblock[e.id]=!1,o.prewireblock[e.id]=!1,o.chassisblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e]=!1,o.statuscolorvar="4")):(null!=e.actual_qc_date&&(o.dispatchblock1[e.id]=!0,o.buildingblock[e.id]=!1,o.chassisblock[e.id]=!1,o.prewireblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.finishingblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.ready_for_dispatch_count=parseInt(o.ready_for_dispatch_count)+1,o.statuscolorvar="11"),"11"!=o.statuscolorvar&&(null==e.actual_qc_date&&(o.planqcdate[e.id].setHours(0,0,0,0),o.getTodaysDate.setHours(0,0,0,0),o.getTodaysDate<=o.planqcdate[e.id]?(o.qcblock1[e.id]=!1,o.qcblock[e.id]=!0,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.statuscolorvar="12",o.await_qc_count_red=o.await_qc_count_red+1):(o.qcblock[e.id]=!1,o.qcblock1[e.id]=!0,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.statuscolorvar="13",o.await_qc_count_yellow=o.await_qc_count_yellow+1)),null!=e.actual_qc_date&&(o.waterdate[e.id].setHours(0,0,0,0),o.getTodaysDate.setHours(0,0,0,0),o.waterdate[e.id]>=o.getTodaysDate?(o.waterblock[e.id]=!0,o.waterblock1[e.id]=!1,o.qcblock[e.id]=!1,o.qcblock1[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.statuscolorvar="14",o.await_water_count_red=o.await_water_count_red+1):(o.waterblock1[e.id]=!0,o.waterblock[e.id]=!1,o.qcblock[e.id]=!1,o.qcblock1[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.prodblock[e.id]=!1,o.prodblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.statuscolorvar="15",o.await_water_count_yellow=o.await_water_count_yellow+1)))),1==e.hold_caravans&&(o.finishingblock[e.id]=!1,o.prodblock1[e.id]=!1,o.prodblock[e.id]=!1,o.buildingblock[e.id]=!1,o.chassisblock[e.id]=!1,o.prewireblock[e.id]=!1,o.watertestingblock[e.id]=!1,o.detailingblock[e.id]=!1,o.aluminiumblock[e.id]=!1,o.qcblock1[e.id]=!1,o.qcblock[e.id]=!1,o.finalqcblock[e.id]=!1,o.completeblock[e.id]=!1,o.blankblock[e.id]=!1,o.waterblock[e.id]=!1,o.waterblock1[e.id]=!1,o.dispatchblock1[e.id]=!1,o.holdblock[e.id]=!0),0==e.hold_caravans&&(o.holdblock[e.id]=!1),o.statuscolorvar="0")}),a.permissions=e.permissions,0==o.monthList.length){var r=!0,s=!1,l=void 0;try{for(var c,h=(0,d.default)(e.month_list);!(r=(c=h.next()).done);r=!0){var g=c.value,p=new Date(Date.parse(g));o.monthList.push({title:n("date")(p,i.FORMAT_DATE_MONTH_SHORT_JS),value:p}),u.isSameMonth(o.currentMonth,p)&&(o.currentMonth=p)}}catch(e){s=!0,l=e}finally{try{!r&&h.return&&h.return()}finally{if(s)throw l}}}}).catch(function(e){}).finally(function(){o.monthDataLoading=!1})},p=function(e){o.monthDataLoading=!0,l.getStatusInitialData().then(function(e){o.chassis_list=e.chassis_list,o.building_list=e.building_list,o.prewire_list=e.prewire_list,o.aluminium_list=e.aluminium_list,o.finishing_list=e.finishing_list,o.water_test_list=e.water_test_list,o.weigh_bridge_list=e.weigh_bridge_list,o.detailing_list=e.detailing_list,o.actual_qc_list=e.actual_qc_list,o.final_qc_list=e.final_qc_list,o.actual_dispatch_list=e.actual_dispatch_list,o.actual_dispatch_list1=e.actual_dispatch_list1,o.email_sent_green_list=e.email_sent_green_list,o.today_dispatched_list=e.today_dispatched_list,o.yesterday_dispatched_list=e.yesterday_dispatched_list,o.this_week_dispatched_list=e.this_week_dispatched_list,o.this_month_dispatched_list=e.this_month_dispatched_list,o.total_count=e.total_count,a.permissions=e.permissions}).catch(function(e){}).finally(function(){o.monthDataLoading=!1})};g(o.currentMonth),p(),$("#chosen_month_show").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:"#chosen_month",OnAfterMenuClose:function(){$("#chosen_month").trigger("input")}}),o.$watch("currentMonth",function(e,t){e instanceof Date||(e=new Date(Date.parse(e))),t instanceof Date||(t=new Date(Date.parse(t))),u.isSameMonth(e,t)||g(e)}),o.getStatusClass=function(e){return"plans_completed"==e?"summary_plans_completed":e},o.call_Status=function(){console.log("test this call")},o.getOrderSummarySorted=function(e){var t=Object();return"not_finalized"in e&&(t.not_finalized=e.not_finalized),"pending_draft"in e&&(t.pending_draft=e.pending_draft),"pending_customer"in e&&(t.pending_customer=e.pending_customer),"customer_approved"in e&&(t.customer_approved=e.customer_approved),"plans_completed"in e&&(t.plans_completed=e.plans_completed),t},o.getSpecialFeatureClass=function(e){return u.getSpecialFeatureClass(e)},o.hold_order_fun=function(e){var t=!1;t=0==e.hold_caravans,l.hold_Order(e,t).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while Holding Order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.qcCommentLoading[e.id]=!1})},o.onChasisSectionCommentChange=function(e,t){var a=e.target.value,r=t.chassis_section_comments;a!=r&&(null==r&&""===a||(o.onChasisSectionCommentLoading[t.id]=!0,l.saveChassisOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Chassis  comments for order #"+t.index+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onChasisSectionCommentLoading[t.id]=!1})))},o.onBuildingCommentChange=function(e,t){var a=e.target.value,r=t.building_comments;a!=r&&(null==r&&""===a||(o.onBuildingCommentLoading[t.id]=!0,l.saveBuildingOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Building comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onBuildingCommentLoading[t.id]=!1})))},o.onPrewireCommentChange=function(e,t){var a=e.target.value,r=t.prewire_comments;a!=r&&(null==r&&""===a||(o.onPrewireCommentLoading[t.id]=!0,l.savePrewireOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Prewire comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onPrewireCommentLoading[t.id]=!1})))},o.onAluminiumCommentChange=function(e,t){var a=e.target.value,r=t.chassis_section_comments;a!=r&&(null==r&&""===a||(o.onAluminiumCommentLoading[t.id]=!0,l.saveAluminiumOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Aluminium comments for order # "+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onAluminiumCommentLoading[t.id]=!1})))},o.onFinishingCommentChange=function(e,t){var a=e.target.value,r=t.finishing_comments;a!=r&&(null==r&&""===a||(o.onFinishingCommentLoading[t.id]=!0,l.saveFinishinOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Finishing comments for order # "+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onFinishingCommentLoading[t.id]=!1})))},o.onWaterTestCommentChange=function(e,t){var a=e.target.value,r=t.watertest_comments;a!=r&&(null==r&&""===a||(o.onWatertestCommentLoading[t.id]=!0,l.saveWatertestOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Watertest comments for order # "+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onWatertestCommentLoading[t.id]=!1})))},o.onWeighBridgeCommentChange=function(e,t){var a=e.target.value,r=t.weigh_bridge_comments;a!=r&&(null==r&&""===a||(o.onWeighBridgeCommentLoading[t.id]=!0,l.saveWeighBridgeOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Weigh Bridge comments for order # "+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onWeighBridgeCommentLoading[t.id]=!1})))},o.onDetailingCommentChange=function(e,t){var a=e.target.value,r=t.detailing_comments;a!=r&&(null==r&&""===a||(o.onDetailingCommentLoading[t.id]=!0,l.saveDetailingOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Detailing comments for order # "+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.onDetailingCommentLoading[t.id]=!1})))},o.onQCCommentChange=function(e,t){var a=e.target.value,r=t.qc_comments_from;a!=r&&(null==r&&""===a||(o.qcCommentLoading[t.id]=!0,l.saveQCOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating QC comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.qcCommentLoading[t.id]=!1})))},o.onProdCommentChange=function(e,t){var a=e.target.value,r=t.prod_comments_from;a!=r&&(null==r&&""===a||(o.prodCommentLoading[t.id]=!0,l.saveProdOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Production comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.prodCommentLoading[t.id]=!1})))},o.onWaterCommentChange=function(e,t){var a=e.target.value,r=t.watertest_comments;a!=r&&(null==r&&""===a||(o.waterCommentLoading[t.id]=!0,l.saveWaterOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Water comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.waterCommentLoading[t.id]=!1})))},o.onFinalQCCommentChange=function(e,t){var a=e.target.value,r=t.final_qc_comments;a!==r&&(null===r&&""===a||(o.FinalQCCommentLoading[t.id]=!0,l.saveFinalQCOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Final QC comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.FinalQCCommentLoading[t.id]=!1})))},o.onDispatchCommentChange=function(e,t){var a=e.target.value,r=t.dispatch_comments;a!=r&&(null==r&&""===a||(o.dispatchCommentLoading[t.id]=!0,l.saveDispatchOnOrder(t,a).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating Dispatch comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){o.dispatchCommentLoading[t.id]=!1})))},o.storeproddate=function(e,t){var a=o.getTodaysDate,r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();l.saveProdDate(t,r).then(function(){o.errorMessages=[]}).catch(function(){o.errorMessages=["Error while updating QC comments for order #"+t.chassis+" for "+n("date")(t.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},o.storeqcdate=function(e,t){o.getTodaysDate;o.dispatchCommentLoading[t.id]=!0,l.saveQcDate(t,newValue).then(function(){o.errorMessages=[]}).catch(function(){}).finally(function(){o.dispatchCommentLoading[t.id]=!1})},o.onOrderCommentChange=function(e,t){var n=e.target.value,a=t.schedule_comments;n!=a&&(o.orderCommentLoading[t.id]=!0,l.saveCommentOnOrder(t,n).then(function(){o.errorMessages=[]}).catch(function(){}).finally(function(){o.orderCommentLoading[t.id]=!1}))},o.checkdatefun1=function(e){if(o.getTodaysDate>e.id)return o.watshowgreen=!1,!0},o.checkwaterfun=function(e){o.actual_water_test_date_loading[e.id]=!0;var t=new Date(o.getTodaysDate),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveWaterDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Water Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),o.actual_water_test_date_loading[e.id]=!1}),o.actual_water_test_date_loading[e.id]=!1},o.checkfinalqcfun=function(e){o.final_qc_date_loading[e.id]=!0;var t=new Date(o.getTodaysDate),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveFinalQCDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while final QC Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),o.final_qc_date_loading[e.id]=!1}),o.final_qc_date_loading[e.id]=!1},o.checkdatefun=function(e){o.actual_dispatch_date_loading[e.id]=!0;var t=new Date(o.getTodaysDate),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveDispatchDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Actual Dispatch Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),o.actual_dispatch_date_loading[e.id]=!1}),o.actual_dispatch_date_loading[e.id]=!1},o.checkproddate=function(e){o.actual_prod_date_loading[e.id]=!1;var t=new Date(o.getTodaysDate),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();o.do_datecalc(e,a),setTimeout(2e3);var r=o.plandispdate[e.id].getFullYear()+"-"+(parseInt(o.plandispdate[e.id].getMonth())+1)+"-"+o.plandispdate[e.id].getDate();o.planqcdate[e.id].getFullYear()+"-"+(o.planqcdate[e.id].getMonth()+1)+"-"+o.planqcdate[e.id].getDate(),o.waterdate[e.id].getFullYear()+"-"+(o.waterdate[e.id].getMonth()+1)+"-"+o.waterdate[e.id].getDate();l.saveProdDate(e,a,r).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Actual Production Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),o.actual_prod_date_loading[e.id]=!1})},o.checkweights=function(e){if(!(o.weight_tare[e.id]&&o.weight_atm[e.id]&&o.weight_tow_ball[e.id]&&o.weight_chassis_gtm[e.id]&&o.weight_gas_comp[e.id]&&o.weight_payload[e.id]))return o.dispshowgreen=!0,!0},o.checkallweights=function(e){return!!(o.weight_tare[e.id]&&o.weight_atm[e.id]&&o.weight_tow_ball[e.id]&&o.weight_chassis_gtm[e.id]&&o.weight_gas_comp[e.id]&&o.weight_payload[e.id])&&(o.dispshowgreen=!1,!0)},o.checkwaterfun1=function(e){return o.getTodaysDate>e.id?(o.dispshowgreen=!0,!0):(o.dispshowgreen=!1,!1)},o.isSectionDateChanged=function(e){o.chassis_section_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveChassisDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Chassis Section Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.chassis_section_date_loading[e.id]=!1}),o.chassis_section_date_loading[e.id]=!1},o.isBuildingDateChanged=function(e){o.building_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveBuildingDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Building  Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.building_date_loading[e.id]=!1}),o.building_date_loading[e.id]=!1},o.isPrewireDateChanged=function(e){o.prewire_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.savePrewireDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Prewire Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.prewire_date_loading[e.id]=!1}),o.building_date_loading[e.id]=!1},o.isAluminiumDateChanged=function(e){o.aluminium_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveAluminiumDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Aluminium Date for order #"+e.chassis+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.aluminium_date_loading[e.id]=!1}),o.aluminium_date_loading[e.id]=!1},o.isFinishingDateChanged=function(e){o.finishing_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveFinishingDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Finishing Date for order #"+e.index+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.finishing_date_loading[e.id]=!1}),o.finishing_date_loading[e.id]=!1},o.isWatertestDateChanged=function(e){o.watertest_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveWatertestDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating Watertest Date for order #"+e.index+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.watertest_date_loading[e.id]=!1}),o.watertest_date_loading[e.id]=!1},o.isWeighbridgeDateChanged=function(e){o.weigh_bridge_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveWeighBridgeDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating  Weigh Bridge  Date for order #"+e.index+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.weigh_bridge_date_loading[e.id]=!1}),o.weigh_bridge_date_loading[e.id]=!1},o.isDetailingDateChanged=function(e){o.detailing_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();l.saveDetailingDate(e,a).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating  Detailing Date for order #"+e.index+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.detailing_date_loading[e.id]=!1}),o.detailing_date_loading[e.id]=!1},o.isColorOk=function(e){o.actual_qc_date_loading[e.id]=!0;var t=o.getTodaysDate,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),r=o.planqcdate[e.id].getFullYear()+"-"+o.planqcdate[e.id].getMonth()+"-"+o.planqcdate[e.id].getDate();console.log(o.plandispdate[e.id]);var d=new Date(o.plandispdate[e.id]),s=(d.getFullYear(),d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate());l.saveQcDate(e,a,r,s).then(function(){o.errorMessages=[],g(o.currentMonth),setTimeout(2e3)}).catch(function(){o.errorMessages=["Error while updating QC Canopy Date for order #"+e.index+" for "+n("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),o.actual_qc_date_loading[e.id]=!1}),o.actual_qc_date_loading[e.id]=!1},o.isColorNotOk=function(){o.qcshowgreen=!1},o.do_datecalc=function(e,t){o.waterblock[e.id]=!1,o.planqcdate[e.id]="18-11-2019",o.waterdate[e.id]="20-11-2019",o.plandispdate[e.id]="30-11-2019",o.calcdate[e.id]=t,o.testdate=new Date(o.getTodaysDate);var n=(o.testdate,new Date("2020-04-06 0:0:00"));if(o.testdate<n){o.numberOfDaysToAdd=12,o.busiday=new Date(o.testdate).getDay(),1!=o.busiday&&2!=o.busiday&&3!=o.busiday&&4!=o.busiday||(o.numberOfDaysToAdd=15),5==o.busiday&&(o.numberOfDaysToAdd=17),o.testdate=o.testdate.setDate(o.testdate.getDate()+parseInt(o.numberOfDaysToAdd));var a=new Date(o.testdate);o.planqcdate[qcdate.id]=a,o.testdate1=new Date(o.planqcdate[qcdate.id]),o.numberOfDaysToAdd1=2,o.busiday1=new Date(o.testdate1).getDay(),4!=o.busiday1&&5!=o.busiday1||(o.numberOfDaysToAdd1=4),o.testdate1=o.testdate1.setDate(o.testdate1.getDate()+parseInt(o.numberOfDaysToAdd1));var r=new Date(o.testdate1);o.waterdate[qcdate.id]=r,o.testdate2=new Date(o.waterdate[qcdate.id]),o.numberOfDaysToAdd2=2,o.busiday2=new Date(o.testdate2).getDay(),4!=o.busiday2&&5!=o.busiday2||(o.numberOfDaysToAdd2=4),o.testdate2=o.testdate2.setDate(o.testdate2.getDate()+parseInt(o.numberOfDaysToAdd2));var i=new Date(o.testdate2);o.plandispdate[qcdate.id]=i}else{o.numberOfDaysToAdd=12,o.busiday=new Date(o.testdate).getDay(),1==o.busiday&&(o.numberOfDaysToAdd=24),2==o.busiday&&(o.numberOfDaysToAdd=23),3==o.busiday&&(o.numberOfDaysToAdd=27),4==o.busiday&&(o.numberOfDaysToAdd=27),5==o.busiday&&(o.numberOfDaysToAdd=27),o.testdate=o.testdate.setDate(o.testdate.getDate()+parseInt(o.numberOfDaysToAdd));var a=new Date(o.testdate);o.planqcdate[e.id]=a,o.testdate1=new Date(o.planqcdate[e.id]),o.numberOfDaysToAdd1=2,o.busiday1=new Date(o.testdate1).getDay(),2==o.busiday1&&(o.numberOfDaysToAdd1=2),3==o.busiday1&&(o.numberOfDaysToAdd1=6),4==o.busiday1&&(o.numberOfDaysToAdd1=6),5==o.busiday1&&(o.numberOfDaysToAdd1=4),o.testdate1=o.testdate1.setDate(o.testdate1.getDate()+parseInt(o.numberOfDaysToAdd1));var r=new Date(o.testdate1);o.waterdate[e.id]=r,o.testdate2=new Date(o.waterdate[e.id]),o.numberOfDaysToAdd2=2,o.busiday2=new Date(o.testdate2).getDay(),2==o.busiday2&&(o.numberOfDaysToAdd2=2),3==o.busiday2&&(o.numberOfDaysToAdd2=6),4==o.busiday2&&(o.numberOfDaysToAdd2=6),5==o.busiday2&&(o.numberOfDaysToAdd2=4),o.testdate2=o.testdate2.setDate(o.testdate2.getDate()+parseInt(o.numberOfDaysToAdd2));var i=new Date(o.testdate2);o.plandispdate[e.id]=r}var d=o.getTodaysDate;d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();o.actual_prod_date_loading[e.id]=!1},o.isSortingAllowed=function(){return o.permissions.view_transport_dashboard},o.hasSequenceChangeInProgress=function(){return!(0,r.default)(o.orderSortLoading).every(function(e){return!e})},o.isSortingAvailable=function(){return!o.searchStr&&!o.hasSequenceChangeInProgress()&&!o.moveCmdInitiated},o.isOrderMovingButtonAvailable=function(){
return!o.hasSequenceChangeInProgress()&&!o.moveCmdInitiated},o.testfilterfun=function(){o.searchStr="Dispatched"},o.filterreadyfordispatch=function(){o.searchStr="Ready For Dispatch"},o.filterchassis=function(){o.searchStr="Chassis"},o.filterbuilding=function(){o.searchStr="Building"},o.filterprewire=function(){o.searchStr="Prewire"},o.filteraluminium=function(){o.searchStr="Aluminium"},o.filterfinishing=function(){o.searchStr="Finishing"},o.filteractualqc=function(){o.searchStr="QC Canopy"},o.filterwatertest=function(){o.searchStr="Water Testing"},o.filterweighbridge=function(){o.searchStr="Weigh Bridge"},o.filterdetailing=function(){o.searchStr="Detailing"},o.filterfinalqc=function(){o.searchStr="Final QC"},o.filterOrders=function(e){return!!e.month_header||(u.containsCaseInsensitive(e.model_series,o.searchStr)||u.containsCaseInsensitive(e.dealership,o.searchStr)||u.containsCaseInsensitive(e.customer,o.searchStr)||u.containsCaseInsensitive(e.chassis,o.searchStr)||u.containsCaseInsensitive(e.order_id,o.searchStr)||u.containsCaseInsensitive(e.order_status,o.searchStr))},o.export_dispatched=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportDispatched(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_ready_dispatch=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportReadyDispatched(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_chassis=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportChassis(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_building=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportBuilding(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_prewire=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportPrewire(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_aluminium=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportAluminium(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_finishing=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportFinishing(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_watertesting=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportWatertesting(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_weighbridge=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportWeighbridge(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_detailing=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportDetailing(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_actualqc=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportActualQc(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_watertest=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportWatertest(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_finalqc=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportFinalQC(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.export_all=function(){var e=new Date(o.currentMonth),t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),a=t+"-"+n;l.exportAll(a).then(function(){o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},o.assignProductionDates=function(){o.assignProductionDatesLoading=!0,l.assignProductionDates(o.currentMonth).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){e?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){o.assignProductionDatesLoading=!1})},o.onLockdown=function(e,t){l.saveLockdown(e,t).then(function(e){o.errorMessages=[],o.lockdownMonth=e.lockdown_month,o.lockdownNumber=e.lockdown_number}).catch(function(){o.errorMessages=["Error while locking down order #"+t+" for "+n("date")(e,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},o.onMoveCmd=function(){o.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition(o.currentMonth,o.move_month,o.new_position,o.ordersSelected).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){(e||{}).data}).finally(function(){angular.forEach(o.ordersSelected,function(e){return o.orderSortLoading[e]=!1}),o.moveCmdInitiated=!1}),$("#moveOrderModal").modal("hide")},o.moveOrderCount=function(){var e=0;return angular.forEach(o.orderList,function(t){t.selected&&e++}),e},$("#moveOrderModal.modal").on("hidden.bs.modal",function(){o.moveCmdInitiated||(angular.forEach(o.ordersSelected,function(e){return o.orderSortLoading[e]=!1}),angular.forEach(o.orderList,function(e){e.selected&&(e.selected=!1)}),o.$apply())}),o.moveOrders=function(){o.ordersSelected=[],angular.forEach(o.orderList,function(e,t){e.selected&&(o.ordersSelected.push(e.id),o.orderSortLoading[e.id]=!0)}),o.modalTitle="Move "+o.ordersSelected.length+" Order",o.ordersSelected.length>1&&(o.modalTitle+="s"),$("#moveOrderModal.modal").modal({backdrop:"static",keyboard:!1})},o.lockOrders=function(){o.ordersSelected=[],o.lockCmdInitiated=!0,angular.forEach(o.orderList,function(e,t){e.selected&&o.ordersSelected.push(e.id)}),l.massFinalizeOrder(o.currentMonth,o.ordersSelected).then(function(e){o.orderList=e.order_list,o.errorMessages=[]}).catch(function(e){(e||{}).data?o.errorMessages=[e.data]:o.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){o.lockCmdInitiated=!1})}}])},e.exports=t.default},160:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(3),d=a(i);t.default=function(e){e.factory("ScheduleTransportDashboardApiService",["ApiService",function(e){var t=function(){function t(){(0,r.default)(this,t)}return(0,d.default)(t,[{key:"assignProductionDates",value:function(t){return e.postData("schedule/transportdashboard2/assign-production-dates",{assign_production_dates_for_month:e.formatDate(t)})}},{key:"changeOrderScheduleMonthPosition",value:function(t,n,a,o){return e.postData("schedule/transportdashboard2/change-order-schedule-month-position",{view_month:e.formatDate(t),order_list:o,new_schedule_month:e.formatDate(n),new_position_month:a})}},{key:"getInitialData",value:function(t){return e.getData("schedule/dashboard2/initialdata/"+e.formatDate(t))}},{key:"getInitialData1",value:function(t){return e.getData("schedule/dashboard2/initialdata/"+e.formatDate(t))}},{key:"getStatusInitialData",value:function(){return e.getData("schedule/dashboard2/production_status/")}},{key:"getDealerInitialData",value:function(t){return e.getData("schedule/transportdashboard2/dealer/"+e.formatDate(t))}},{key:"getStatusData",value:function(t){return e.getData("schedule/dashboard/production_status/"+e.formatDate(t))}},{key:"hold_Order",value:function(t,n){return e.postData("schedule/dashboard2/update-hold-caravans",{order_id:t.id,hold_caravans:n})}},{key:"saveCommentOnOrder",value:function(t,n){return e.postData("schedule/transportdashboard2/update-order",{order_id:t.id,schedule_comments:n})}},{key:"saveChassisOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-chassis-section-comments",{order_id:t.id+"",chassis_section_comments:n})}},{key:"saveBuildingOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-building-comments",{order_id:t.id+"",building_comments:n})}},{key:"savePrewireOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-prewire-comments",{order_id:t.id+"",prewire_comments:n})}},{key:"saveAluminiumOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-aluminium-comments",{order_id:t.id+"",aluminium_comments:n})}},{key:"saveFinishinOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-finishing-comments",{order_id:t.id+"",finishing_comments:n})}},{key:"saveWatertestOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-water-comments",{order_id:t.id+"",watertest_comments:n})}},{key:"saveQCOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-transport-order",{order_id:t.id+"",qc_comments_from:n})}},{key:"saveProdOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-prodcomment-order",{order_id:t.id+"",prod_comments_from:n})}},{key:"saveWaterOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-water-order",{order_id:t.id+"",watertest_comments:n})}},{key:"saveWeighBridgeOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-weigh-bridge-comments",{order_id:t.id+"",weigh_bridge_comments:n})}},{key:"saveDetailingOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-detailing-comments",{order_id:t.id+"",detailing_comments:n})}},{key:"saveFinalQCOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-finalqc-order",{order_id:t.id+"",final_qc_comments:n})}},{key:"saveDispatchOnOrder",value:function(t,n){return e.postData("schedule/dashboard2/update-dispatch-order",{order_id:t.id+"",dispatch_comments:n})}},{key:"saveProdDate",value:function(t,n,a){return e.postData("schedule/dashboard/update-proddate",{order_id:t.id+"",actual_production_date:n,planned_disp_date:a})}},{key:"savePlannedWaterDate",value:function(t,n,a,o){return e.postData("schedule/dashboard2/update-planned-water-date",{order_id:t.id+"",planned_watertest_date:a,planned_qc_date:n,planned_disp_date:o})}},{key:"saveChassisDate",value:function(t,n){return e.postData("schedule/dashboard2/update-chassis-section",{order_id:t.id+"",chassis_section:n})}},{key:"saveAluminiumDate",value:function(t,n){return e.postData("schedule/dashboard2/update-aluminium",{order_id:t.id+"",aluminium:n})}},{key:"saveBuildingDate",value:function(t,n){return e.postData("schedule/dashboard2/update-building",{order_id:t.id+"",building:n})}},{key:"savePrewireDate",value:function(t,n){return e.postData("schedule/dashboard2/update-prewire_section",{order_id:t.id+"",prewire_section:n})}},{key:"saveFinishingDate",value:function(t,n){return e.postData("schedule/dashboard2/update-finishing",{order_id:t.id+"",finishing:n})}},{key:"saveWatertestDate",value:function(t,n){return e.postData("schedule/dashboard2/update-waterdate",{order_id:t.id+"",watertest_date:n})}},{key:"saveWeighBridgeDate",value:function(t,n){return e.postData("schedule/dashboard2/update-weigh-bridge",{order_id:t.id+"",weigh_bridge_date:n})}},{key:"saveDetailingDate",value:function(t,n){return e.postData("schedule/dashboard2/update-detailing",{order_id:t.id+"",detailing_date:n})}},{key:"saveQcDate",value:function(t,n){return e.postData("schedule/dashboard2/update-qcdate",{order_id:t.id+"",actual_qc_date:n})}},{key:"saveWaterDate",value:function(t,n){return e.postData("schedule/dashboard2/update-waterdate",{order_id:t.id+"",actual_watertest_date:n+""})}},{key:"saveFinalQCDate",value:function(t,n){return e.postData("schedule/dashboard2/update-finalqcdate",{order_id:t.id+"",final_qc_date:n+""})}},{key:"saveDispatchDate",value:function(t,n){return e.postData("schedule/dashboard2/update-dispatchdate",{order_id:t.id+"",actual_dispatch_date:n})}},{key:"sendEmailReadyForDispatch",value:function(){return e.postData("schedule/dashboard2/send-ReadyForDispatch",{send_ReadyForDispatch:"send_ReadyForDispatch"})}},{key:"sendEmailActualDispatch",value:function(){return e.postData("schedule/dashboard2/send-ActualDispatch",{send_ActualDispatch:"send_ActualDispatch"})}},{key:"exportDispatched",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/dispatched/"+e+"/"+e}},{key:"exportReadyDispatched",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/pending_for_dispatch/"+e+"/"+e}},{key:"exportChassis",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_chassis/"+e+"/"+e}},{key:"exportBuilding",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_building/"+e+"/"+e}},{key:"exportPrewire",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_prewire/"+e+"/"+e}},{key:"exportAluminium",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_aluminium/"+e+"/"+e}},{key:"exportFinishing",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_finishing/"+e+"/"+e}},{key:"exportWatertesting",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_watertest/"+e+"/"+e}},{key:"exportWeighbridge",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_weighbridge/"+e+"/"+e}},{key:"exportDetailing",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_detailing/"+e+"/"+e}},{key:"exportActualQc",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_qc/"+e+"/"+e}},{key:"exportWatertest",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_water_test/"+e+"/"+e}},{key:"exportFinalQC",value:function(e){window.location="/export/schedule/productiondashboard-csv/2/awaiting_final_qc/"+e+"/"+e}},{key:"exportAll",value:function(e){console.log("all"),window.location="/export/schedule/productiondashboard-csv/2/all/"+e+"/"+e}},{key:"saveDealerCommentOnOrder",value:function(t,n){return e.postData("schedule/transportdashboard2/update-order",{order_id:t.id,dealer_comments:n})}},{key:"saveLockdown",value:function(t,n){return e.postData("schedule/transportdashboard2/update-lockdown",{lockdown_number:n,lockdown_month:t})}},{key:"updateOrderPosition",value:function(t,n,a,o,r,i){return e.postData("schedule/transportdashboard2/update-order",{view_month:e.formatDate(t),order_id:n.id,new_month:a,new_position:o,previous_order_id:r,next_order_id:i})}},{key:"massFinalizeOrder",value:function(t,n){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(t),order_list:n})}}]),t}();return new t}])},e.exports=t.default},179:function(e,t,n){"use strict";var a=n(10);n(148)(a),a.config(["$stateProvider","$urlRouterProvider",function(e,t){var a=function(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth());return e.getObject("scheduleCapacityCurrentMonth")&&(n=new Date(Date.parse(e.getObject("scheduleCapacityCurrentMonth")))),n};t.when("","/dashboard2").when("/capacity2",["$cookies","$state",function(e,t){return t.go("schedule2.capacity",{currentMonth:a(e)},{reload:!0}),!0}]).when("/transportdashboard2",["$cookies","$state",function(e,t){return t.go("schedule2.transportdashboard",{currentMonth:a(e)},{reload:!0}),!0}]),e.state("dealer_dashboard2",{url:"/dealer_dashboard2",template:n(325),controller:"DealerScheduleDashboardController"}).state("schedule2",{abstract:!0,url:"",template:n(328),controller:"ScheduleController"}).state("schedule2.dashboard",{url:"/dashboard2",template:n(324),controller:"ScheduleDashboardController"}).state("schedule2.transportdashboard",{url:"/transportdashboard2",template:n(329),controller:"ScheduleTransportController"}).state("schedule2.statusdashboard",{url:"/statusdashboard2",template:n(330),controller:"ScheduleTransportController"}).state("schedule2.capacity",{url:"/capacity2/{currentMonth:date}",template:n(323),controller:"ScheduleCapacityController",params:{currentMonth:["$cookies",function(e){return a(e)}]}}).state("schedule2.planner",{url:"/planner2",template:n(327),controller:"SchedulePlannerController"}).state("schedule2.export",{url:"/export2",template:n(326),controller:"ScheduleExportController"})}])},323:function(e,t){e.exports='<div id="capacity">\n    <top-bar>\n        <h2 class="top-bar__title">Pop-Top/Campers Production Capacity</h2>\n    </top-bar>\n\n    <messages></messages>\n\n    <div class="row header">\n        <label>Date range:</label>\n        <select ng-model="currentMonth"\n            ng-options="month.value as month.title for month in monthList" no-dirty-check></select>\n        <bar-spinner ng-if="initialDataLoading"></bar-spinner>\n    </div>\n\n    <div class="row content">\n        <table>\n            <thead>\n                <tr>\n                    <th>Date</th>\n                    <th>Capacity</th>\n                    <th>Type</th>\n                    <th ng-if="permissions.change_schedule_capacity"></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="week in weekList" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\n                    <td>{{ week.start_label }} - {{ week.end_label }}</td>\n                    <td><strong>{{ week.total_capacity }}</strong></td>\n                    <td>\n                        <ul>\n                            <li ng-repeat="day in week.days" ng-class="day.month_start ? \'month-start\': \'\'">\n                                <label>{{ day.label }}</label>\n                                <input type="number" ng-model="day.capacity" ng-readonly="!permissions.change_schedule_capacity" />\n                                <div>{{ day.month_start }}</div>\n                            </li>\n                        </ul>\n                    </td>\n                    <td ng-if="permissions.change_schedule_capacity"><a ng-if="!$last" ng-click="duplicate(week)">Copy to following week</a></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class="row footer">\n        <button ng-if="permissions.change_schedule_capacity" class="btn btn-primary btn-lg btn-danger" ng-click="save()">Save changes</button>\n        <bar-spinner ng-if="saveLoading"></bar-spinner>\n    </div>\n</div>'},324:function(e,t){e.exports='<div id="dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Pop-Top/Campers Dashboard</h2>\n    </top-bar>\n\n\n\n    <messages></messages>\n\n    <div class="row header">\n        <div class="col-sm-2">\n            <label>Month: </label>\n                <input id=\'chosen_month_show\' type="text" class="form-control" />\n                <input id=\'chosen_month\' hidden ng-model="currentMonth" no-dirty-check />\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\n        </div>\n        <div class="col-sm-5">\n            <label>Filter: </label>\n            <input ng-model="searchStr" placeholder="Type to filter on Model, Customer, Dealership, Chassis or Comments..." size="60" />\n        </div>\n\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-4 pull-right">\n            <button ng-click="assignProductionDates()" class="btn btn-primary pull-right">Assign production dates</button>\n            <div class="spinner-container"><bar-spinner ng-if="assignProductionDatesLoading"></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-3 pull-right">\n            <button ng-click="moveOrders()" ng-disabled="!moveOrderCount() || !isOrderMovingButtonAvailable() " class="btn btn-primary">Move Orders</button>\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-2 pull-right">\n            <button ng-click="moveOrders2()" ng-disabled="!moveOrderCount() || !isOrderMovingButtonAvailable() " class="btn btn-primary">Move To Caravans</button>\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.finalize_order" class="col-sm-1 pull-right">\n            <button ng-click="lockOrders()" ng-disabled="!moveOrderCount()" class="btn btn-primary">Lock Orders</button>\n            <div class="spinner-container" ng-if="lockCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n    </div>\n\n    <div class="row content">\n        <table>\n            <thead>\n                <tr>\n                    <th ng-if="isSortingAllowed()">&nbsp;</th>\n                    <th>Sch. No.</th>\n                    <th>Production date</th>\n                    <th>Chassis</th>\n                    <th>Order #</th>\n                    <th>Series Code</th>\n                    <th>Special</th>\n                    <th>Dealership</th>\n                    <th>Customer</th>\n                    <th>Drafter</th>\n                    <th class="comments">Comments</th>\n                    <th>VIN No.</th>\n                    <th ng-if="permissions.change_schedule_dashboard">Select</th>\n                    <th>Manage</th>\n                    <th ng-if="permissions.change_schedule_dashboard">Lock</th>\n                </tr>\n            </thead>\n            <tbody ui-sortable="sortableOptions" ng-model="orderList">\n                <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\n                    <td ng-if="order.month_header && isSortingAllowed()" class="month-header">&nbsp;</td>\n                    <td ng-if="order.month_header" class="month-header" colspan="42">\n                        {{ order.month_header }}\n                        <span class="capacity">\n                            <span>Available: {{ order.available }}</span>\n                            <span>Taken: {{ order.taken }}</span>\n                            <span>Capacity: {{ order.capacity }}</span>\n                            <span>Lock down date: {{ order.signoff_date }}</span>\n                        </span>\n                        <span class="status-summary">\n                            Status Summary:\n                            <span ng-repeat="(status, value) in getOrderSummarySorted(order.status_summary)" class="{{ getStatusClass(status) }}">{{ value }}</span>\n                        </span>\n                    </td>\n\n                    <td ng-if="!order.month_header && isSortingAllowed()" ng-class="isSortingAvailable() ? \'drag-handle\' : \'not-available\'"><i class="glyphicon glyphicon-move"></i></td>\n                    <td ng-if="!order.month_header">\n                        <i class="glyphicon glyphicon-lock" ng-if="order.month < lockdownMonth || (order.month === lockdownMonth && order.index <= lockdownNumber)"></i>\n                        {{ order.index }}\n                    </td>\n                    <td ng-if="!order.month_header">{{ order.production_date | date: AppSettings.FORMAT_DATE_WEEKDAY_JS }}</td>\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.chassis }}</td>\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.order_id }}</td>\n                    <td ng-if="!order.month_header">{{ order.model_series }}</td>\n                    <td ng-if="!order.month_header"><i class="glyphicon" ng-class="getSpecialFeatureClass(order)"></i></td>\n                    <td ng-if="!order.month_header">{{ order.dealership }}</td>\n                    <td ng-if="!order.month_header">{{ order.customer }}</td>\n                    <td ng-if="!order.month_header">{{ order.drafter }}</td>\n                    <td ng-if="!order.month_header" class="comments">\n                        <input class="input-comments" type="text" placeholder="Comments..." maxlength="2000"\n                               ng-model="order.schedule_comments" ng-blur="onOrderCommentChange($event, order)"\n                               ng-model-options="{ updateOn: \'blur\', debounce:0 }"\n                               no-dirty-check\n                               ng-readonly="!permissions.edit_comments_schedule_dashboard"/>\n                        <bar-spinner ng-if="orderCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                    <td ng-if="!order.month_header">{{ order.vin_number }}</td>\n                    <td ng-if="!order.month_header && permissions.change_schedule_dashboard">\n                       <input type="checkbox" ng-model="order.selected "/>\n                    </td>\n                    <td ng-if="!order.month_header"><a href="{{ order.url }}" target="_blank">Manage</a></td>\n\n                    <td ng-if="!order.month_header && permissions.change_schedule_dashboard">\n                        <a href="#" ng-click="onLockdown(order.month, order.index)">Lock</a>\n                    </td>\n\n                    <td ng-if="orderSortLoading[order.id]" class="spinner-container"><bar-spinner></bar-spinner></td>\n                </tr>\n                <tr class="extra-placeholder"><td colspan="42"></td></tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n<div class="modal fade" id="moveOrderModal">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form">\n                  <div class="row move_orders">\n                    <span class="col-md-4 col-md-offset-2">\n                      <label>Schedule Month </label>\n                      <select ng-model="move_month"\n                              ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                        <option value="">Select</option>\n                      </select>\n                    </span>\n                    <span class="col-md-3">\n                      <label> Order Position</label>\n                      <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                    </span>\n                    <span class="col-md-3">\n                       \n                    </span>\n                  </div>\n                </form>\n\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class="modal fade" id="moveOrderModal2">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form1">\n                  <div class="row move_orders">\n                    <span class="col-md-4 col-md-offset-2">\n                      <label>Schedule Month </label>\n                      <select ng-model="move_month"\n                              ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                        <option value="">Select</option>\n                      </select>\n                    </span>\n                    <span class="col-md-3">\n                      <label> Order Position</label>\n                    <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                    </span>\n                    <span class="col-md-3">\n                      <label> Caravans</label>\n                       <input type="hidden" ng-model="production_unit" value=\'1\' />\n                    </span>\n                  </div>\n                </form>\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd1()"> Move To Caravans </button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'},325:function(e,t){e.exports='<nav class="navbar navbar-default navbar-content">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class="navbar-header">\n            <span class="navbar-brand">\n                <img src="/static/newage/icons/orders.png" />\n                Dealer Dashboard -- 2\n            </span>\n        </div>\n</nav>\n\n<div id="dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Dealer Dashboard - II </h2>\n    </top-bar>\n\n    <messages></messages>\n\n    <div class="row header">\n        <div class="col-sm-2">\n            <label>Month: </label>\n            <select ng-model="currentMonth"\n                ng-options="month.value as month.title for month in monthList" no-dirty-check></select>\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\n        </div>\n        <div class="col-sm-5">\n            <label>Filter: </label>\n            <input ng-model="searchStr" placeholder="Type to filter on Model, Customer, or Chassis..." size="60" />\n        </div>\n    </div>\n\n    <div class="row content">\n        <div class="legend">\n          <table>\n           <tr>\n              <td class="not_finalized highlight"> Not Finalised </td>\n              <td class="pending_draft"> To be Drafted </td>\n              <td class="customer_approved highlight"> Customer Plan Completed </td>\n              <td class="summary_plans_completed"> Plans Completed </td>\n           </tr>\n          </table>\n        </div>\n        <table>\n            <thead>\n                <tr>\n                    <th>Chassis</th>\n                    <th>Series Code</th>\n                    <th>Special</th>\n                    <th>Customer</th>\n                    <th>Comment</th>\n                    <th>Manage</th>\n                </tr>\n            </thead>\n            <tbody ng-model="orderList">\n                <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\n                    <td ng-if="order.month_header" class="month-header" colspan="42">\n                        {{ order.month_header }}\n                        <span class="capacity">\n                            <span>Lock down date: {{ order.signoff_date }}</span>\n                        </span>\n                    </td>\n\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.chassis }}</td>\n                    <td ng-if="!order.month_header">{{ order.model_series }}</td>\n                    <td ng-if="!order.month_header"><i class="glyphicon" ng-class="getSpecialFeatureClass(order)"></i></td>\n                    <td ng-if="!order.month_header">{{ order.customer }}</td>\n                    <td ng-if="!order.month_header" class="comments">\n                        <input class="input-comments" type="text" placeholder="Comments..." maxlength="2000"\n                               ng-model="order.dealer_comments" ng-blur="onOrderDealerCommentChange($event, order)"\n                               ng-model-options="{ updateOn: \'blur\', debounce:0 }"\n                               ng-readonly="isOrderDealerCommentSaving[order.id]"\n                               no-dirty-check\n                               />\n                        <bar-spinner ng-if="isOrderDealerCommentSaving[order.id]"></bar-spinner>\n                    </td>\n                    <td ng-if="!order.month_header"><a href="{{ order.url }}" target="_blank">Manage</a></td>\n                </tr>\n                <tr class="extra-placeholder"><td colspan="42"></td></tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n';
},326:function(e,t){e.exports='<div id="export">\n    <top-bar>\n        <h2 class="top-bar__title">Pop-Top/Campers Exports</h2>\n    </top-bar>\n\n    <messages></messages>\n\n    <table>\n        <thead>\n            <tr>\n                <th>Type</th>\n                <th>Parameters</th>\n                <th>Export</th>\n            </tr>\n        </thead>\n\n        <tbody>\n            <tr>\n                <td>Export Series Details as CSV</td>\n                <td>\n                    <p>With Avereage Tare weight and Ball weight</p>\n                </td>\n                <td>\n                    <a class="btn btn-default" target="_blank"\n                            href="/export/schedule/series-avg-csv">\n                        Export\n                    </a>\n                </td>\n            </tr>\n\n            <tr>\n                <td>Export Schedule as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV_dateFrom\' hidden ng-model="exportScheduleCSV.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV_dateTo\' hidden ng-model="exportScheduleCSV.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/schedule-csv/2/{{ exportScheduleCSV.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n\n            <tr ng-repeat="exp in contractorExports.list">\n                <td>{{ exp.name }}</td>\n                <td rowspan="{{ contractorExports.list.length }}" ng-if="$first">\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'contractorExports_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'contractorExports_dateFrom\' hidden ng-model="contractorExports.dateFrom" no-dirty-check ng-change="validateDates(contractorExports)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'contractorExports_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'contractorExports_dateTo\' hidden ng-model="contractorExports.dateTo" no-dirty-check ng-change="validateDates(contractorExports)" />\n                    </div>\n                    <div class="text-danger" ng-if="contractorExports.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!contractorExports.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/contractor/2/{{ exp.id }}/{{ contractorExports.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ contractorExports.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export</a>\n                    <button ng-if="contractorExports.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n\n        </tbody>\n    </table>\n    \n    <!-- <top-bar>\n        <h2 class="top-bar__title">Production Details Exports</h2>\n    </top-bar>\n\n    <table>\n        <thead>\n            <tr>\n                <th>Type</th>\n                <th>Parameters</th>\n                <th>Export</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>Export Production Dashboard as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV1_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV1_dateFrom\' hidden ng-model="exportScheduleCSV1.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV1)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV1_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV1_dateTo\' hidden ng-model="exportScheduleCSV1.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV1)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV1.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV1.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/productiondashboard-csv/all/{{ exportScheduleCSV1.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV1.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV1.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n            <tr>\n                <td>Export Production Dashboard\'s Awaiting QC as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV2_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV2_dateFrom\' hidden ng-model="exportScheduleCSV2.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV2)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV2_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV2_dateTo\' hidden ng-model="exportScheduleCSV2.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV2)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV2.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV2.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/productiondashboard-csv/awaiting_qc/{{ exportScheduleCSV2.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV2.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV2.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n            <tr>\n                <td>Export Production Dashboard\'s Awaiting Water Test as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV3_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV3_dateFrom\' hidden ng-model="exportScheduleCSV3.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV3)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV3_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV3_dateTo\' hidden ng-model="exportScheduleCSV3.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV3)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV3.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV3.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/productiondashboard-csv/awaiting_water_test/{{ exportScheduleCSV3.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV3.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV3.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n            <tr>\n                <td>Export Production Dashboard\'s Pending for Dispatch as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV5_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV5_dateFrom\' hidden ng-model="exportScheduleCSV5.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV5)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV5_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV5_dateTo\' hidden ng-model="exportScheduleCSV5.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV5)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV4.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV5.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/productiondashboard-csv/pending_for_dispatch/{{ exportScheduleCSV5.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV5.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV5invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n            <tr>\n                <td>Export Production Dashboard\'s Dispatched as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV4_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV4_dateFrom\' hidden ng-model="exportScheduleCSV4.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV4)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV4_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV4_dateTo\' hidden ng-model="exportScheduleCSV4.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV4)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV4.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV4.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/productiondashboard-csv/dispatched/{{ exportScheduleCSV4.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV4.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV4invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <br>\n\n    <top-bar>\n        <h2 class="top-bar__title">Production Details Export all or based on Dealership</h2>\n    </top-bar>\n    <table>\n        <thead>\n            <tr>\n                <th>Type</th>\n                <th>Parameters</th>\n                <th>Export</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>Export Production Dashboard</td>\n            \n                <td rowspan="5">    \n                    <center> \n                        <label for="dealership"> Dealership List: </label>\n                        <select id ="dealer">\n                            <option value="">--- Select Dealership ---</option>\n                            <option ng-repeat="dealer in dealers" value="{{ dealer.id }}">{{ dealer.name }}</option>\n                        </select>\n                    </center>\n                </td>\n                    \n                <td>\n                    <a ng-if="!exportScheduleCSV6.invalidDates" class="btn btn-default" target="_blank" href="" onclick="this.href=\'/export/schedule/productiondashboard_dealership-csv/all/\'+document.getElementById(\'dealer\').value">\n                        Export\n                    </a>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Export Production Dashboard\'s Awaiting QC\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV6.invalidDates" class="btn btn-default" target="_blank" href="" onclick="this.href=\'/export/schedule/productiondashboard_dealership-csv/awaiting_qc/\'+document.getElementById(\'dealer\').value">\n                        Export\n                    </a>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Export Production Dashboard\'s Awaiting Water Test\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV6.invalidDates" class="btn btn-default" target="_blank" href="" onclick="this.href=\'/export/schedule/productiondashboard_dealership-csv/awaiting_water_test/\'+document.getElementById(\'dealer\').value">\n                        Export\n                    </a>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Export Production Dashboard\'s Pending for Dispatch\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV6.invalidDates" class="btn btn-default" target="_blank" href="" onclick="this.href=\'/export/schedule/productiondashboard_dealership-csv/pending_for_dispatch/\'+document.getElementById(\'dealer\').value">\n                        Export\n                    </a>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    Export Production Dashboard\'s Dispatched\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV6.invalidDates" class="btn btn-default" target="_blank" href="" onclick="this.href=\'/export/schedule/productiondashboard_dealership-csv/dispatched/\'+document.getElementById(\'dealer\').value">\n                        Export\n                    </a>\n                </td>\n            </tr>\n        </tbody>\n    </table> -->\n</div>\n'},327:function(e,t){e.exports='<div id="planner">\n    <top-bar>\n        <h2 class="top-bar__title">Pop-Top/Campers Planner</h2>\n    </top-bar>\n\n    <messages></messages>\n\n    <table>\n        <thead>\n            <tr>\n                <th>Production Month</th>\n                <th>Start Production</th>\n                <th>Production capacity</th>\n                <th>Month status</th>\n                <th>Number of orders</th>\n                <th>Lock down date</th>\n                <th>Drafting completion</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="month_data in all_data">\n                <td>{{ month_data.production_month | date: AppSettings.FORMAT_DATE_MONTH_JS}}</td>\n                <td>\n                    <div class="input-group date-group">\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.production_start_date"\n                               ng-model="month_data.production_start_date" close-text="Close"\n                               datetimepicker-neutral-timezone init-date="month_data.initialValue"\n                               ng-readonly="!permissions.change_schedule_planner" />\n\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.production_start_date = true"\n                                    ng-disabled="!permissions.change_schedule_planner"><i\n                                    class="glyphicon glyphicon-calendar"></i></button>\n                        </span>\n                    </div>\n\n                </td>\n                <td ng-class="month_data.capacity < month_data.total_orders ? \'alert-danger\' : \'\'">{{ month_data.capacity }}</td>\n                <td><label><input type="checkbox" ng-model="month_data.closed" /> Closed</label></td>\n                <td ng-class="month_data.capacity < month_data.total_orders ? \'alert-danger\' : \'\'">{{ month_data.total_orders }}</td>\n                <td>\n                    <div class="input-group date-group" ng-if="!month_data.sign_off_reminder_sent">\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.sign_off_reminder"\n                               ng-model="month_data.sign_off_reminder" close-text="Close"\n                               datetimepicker-neutral-timezone\n                               ng-readonly="!permissions.change_schedule_planner" />\n\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.sign_off_reminder = true"\n                                    ng-disabled="!permissions.change_schedule_planner"><i\n                                    class="glyphicon glyphicon-calendar"></i></button>\n                        </span>\n                    </div>\n                    <div ng-if="month_data.sign_off_reminder_sent">\n                        Email has been sent on {{ month_data.sign_off_reminder | date: AppSettings.FORMAT_DATE_JS }}\n                    </div>\n                </td>\n                <td>\n                    <div class="input-group date-group">\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.draft_completion"\n                               ng-model="month_data.draft_completion" close-text="Close"\n                               datetimepicker-neutral-timezone\n                               ng-readonly="!permissions.change_schedule_planner" />\n\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.draft_completion = true"\n                                    ng-disabled="!permissions.change_schedule_planner"><i\n                                    class="glyphicon glyphicon-calendar"></i></button>\n                        </span>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <div class="footer">\n        <button ng-if="permissions.change_schedule_planner" class="btn btn-primary btn-lg btn-danger" ng-click="save()">Save changes</button>\n    </div>\n</div>\n'},328:function(e,t){e.exports='<nav class="navbar navbar-default navbar-content">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class="navbar-header">\n            <button type="button"\n                    class="navbar-toggle collapsed"\n                    data-toggle="collapse"\n                    data-target="#bs-example-navbar-collapse-1"\n                    aria-expanded="false">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <span class="navbar-brand">\n                <img src="/static/newage/icons/factory-schedule.png" />\n                Pop-Top/Campers\n                <span class="glyphicon glyphicon-menu-right"></span>\n            </span>\n        </div>\n        <!-- Collect the nav links, forms, and other content for toggling -->\n        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n            <ul class="nav navbar-nav">\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule2.dashboard">Dashboard</a></li>\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule2.transportdashboard">Production Dashboard</a></li>\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule2.statusdashboard">Production Dashboard - Status</a></li>\n                <li><a ng-if="permissions.view_schedule_capacity" ui-sref="schedule2.capacity">Production Capacity</a></li>\n                <li><a ng-if="permissions.view_schedule_planner" ui-sref="schedule2.planner">Schedule Planner</a></li>\n                <li><a ng-if="permissions.export_schedule" ui-sref="schedule2.export">Export</a></li>\n            </ul>\n        </div><!-- /.navbar-collapse -->\n</nav>\n\n<div ui-view></div>\n\n'},329:function(e,t){e.exports='    \n<div id="transport_dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Pop-Top/Campers Production Dashboard</h2>\n    </top-bar>\n\n     \n\n    <messages>{{ order.messages }}</messages>\n\n    <div class="row header" >\n        <div class="col-sm-2">\n            <label>Month: </label>\n                <input id=\'chosen_month_show\' type="text" class="form-control" />\n                <input id=\'chosen_month\' hidden ng-model="currentMonth" no-dirty-check />\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\n        </div>\n        <div class="col-sm-2">\n            <label>Filter: </label>\n            <input ng-model="searchStr" placeholder="Type to filter on Order, Customer, Dealership or Chassis..." size="60" />      \n        </div>\n\n        <div class="col-sm-5 pull-right">\n            <label>Status Summary: </label>\n            <table border="2" width="50%">               \n                <tr>\n                    <!-- <th rowspan=3 align=\'center\'> <center> Status <p> Summary</b></th> -->\n                    <th align=\'center\'> <a href ng-click="filterchassis()">  <center>  Chassis  </b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterbuilding()"> <center>  Building</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterprewire()"> <center>  Pre-Wire</b> </a></th>\n                    <th align=\'center\'>  <a href ng-click="filteraluminium()"> <center>  Aluminium / Fit Off </b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterfinishing()"><center>  Finishing</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterdetailing()"><center>  Detailing Canopy</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterwatertest()"><center>  Water Testing</b></a></th>\n                    \n                    <th align=\'center\'><a href ng-click="filteractualqc()"><center>  <b>QC </b> </a></th> \n                    <!-- <th align=\'center\'> <a href ng-click="filterwatertest()"> <b> Water Testing </b> </a> </th>  -->\n                    <th align=\'center\'> <a href ng-click="filterfinalqc()"> <center> <b> Final QC </b></a> </th> \n                    <th align=\'center\'>   <a href ng-click="filterreadyfordispatch()"> <center>  <b> Ready For <br> Dispatch </b> </a></th> \n                    <th align=\'center\'> <a href ng-click="testfilterfun()"> <center>  Dispatched </b> </a> </th>\n                </tr>\n\n                <tr>   \n                    \n                    \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b> {{ await_chassis }} </b>  </h4>\n                    </td>   \n\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b> {{ await_building }} </b>  </h4>\n                    </td>\n\n                     <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b> {{ await_prewire }} </b>  </h4>\n                    </td>   \n\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>  <b> {{ await_aluminium }} </b>   </h4>\n                    </td>   \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>    <b> {{ await_finishing }} </b>  </h4>\n                    </td>\n\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>    <b> {{ await_detailing }} </b>  </h4>\n                    </td>   \n   \n                    \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>    <b> {{ await_watertesting }} </b>  </h4>\n                    </td>   \n                    \n                    \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2">\n                    \n                        <label style="background-color:#ffd700">\n                         <h4>  <b> {{ (await_qc_count_red + await_qc_count_yellow) }} </b> </h4>\n                        </label>\n                    </td>   \n                    <!--   \n                    <td style="background-color:#ffff17" align=\'center\' rowspan="2"> \n                        <h4>   <b> {{ await_water_count_red }}  </b>    </h4>\n                    </td>\n                    -->\n                    <td style="background-color:#FFD700" align=\'center\' rowspan="2"> \n                        <h4>  <b>   {{ final_qc_count }}  </b>   </h4>\n                    </td> \n                    <td style="background-color:#33ff33" align=\'center\'rowspan="2"> \n                    \n                     <h4><b> <b> {{ ready_for_dispatch_count }} </b>  </h4>\n                    </td>   \n                    <td style="background-color:#C0C0C0" align=\'center\'rowspan="2">\n                      <h4><b> {{ dispatched_count }} </b> </h4>\n                       \n                    </td>   \n                    \n                </tr>\n                <!--  \n                <tr>\n                    <td style="background-color:#FF4500" align=\'center\'> \n                          <h4>   <b>  {{ await_qc_count_yellow }} </h4></b>  \n                    </td> \n               \n                    <td style="background-color:#FF4500" align=\'center\'> \n                    <h4>     <b>  {{ await_water_count_yellow }} </h4></b>   \n                    </td> \n                \n                </tr>          \n                -->\n                <tr></tr>\n                 <tr>                   \n                    \n                    <th align=\'center\'> <a href ng-click="export_chassis()" target="_blank">  <center>  Export  </b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_building()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_prewire()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_aluminium()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_finishing()" target="_blank"><center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_detailing()" target="_blank"><center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_watertesting()" target="_blank"><center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_actualqc()" target="_blank"><center>  <b>Export  </b> </a></th> \n                    <th align=\'center\'> <a href ng-click="export_finalqc()" target="_blank"> <center> <b> Export </b></a> </th> \n                    <th align=\'center\'> <a href ng-click="export_ready_dispatch()" target="_blank"> <center>  <b> Export  </b> </a></th> \n                    <th align=\'center\'> <a href ng-click="export_dispatched()" target="_blank"> <center>  Export </b> </a> </th>\n                </tr>  \n                 <tr><th align=\'center\' colspan="12"> <a href ng-click="export_all()" target="_blank"> <center> <b> Export All </b></a> </th> </tr>  \n            </table> \n        </div>\n\n        <div class="col-sm-2 pull-right">\n            <div class="spinner-container"><bar-spinner ng-if="assignProductionDatesLoading"></bar-spinner></div>\n        </div>\n        <div class="col-sm-1 pull-right">\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.finalize_order" class="col-sm-1 pull-right"> \n            <div class="spinner-container" ng-if="lockCmdInitiated"><bar-spinner></bar-spinner></div> \n        </div>      \n    </div>\n    <div class="row content">\n        <table>\n            <thead>\n                <tr ng-if="isSortingAllowed()"> \n                    \n                    <th>Sch. No.</th>                               <!-- 1 --> \n                    <th>Status</th>                                <!-- 22 --> \n                    <th>Manage</th>                                 <!-- 21 --> \n                   <th>Hold / Release</th>                         <!-- 20 -->\n                    <th>Chassis </th>                               <!-- 2 --> \n                    <th>Order # </th>                               <!-- 3 --> \n                    <th>Series Code</th>                            <!-- 4 --> \n                    <th>Dealership</th>                             <!-- 5 --> \n                    <th>On-Line Date  </th>               <!-- 6 --> \n                    <th>Off-Line Date  </th>               <!-- 6 --> \n                    <th>Actual Production  </th>                <!-- 7 --> \n                      <!--  <th class="comments"> Production Comments</th>8 --> \n                    <th>Chassis  </th>                           <!-- 9 -->\n                    <th>Chassis Comments</th>                        <!-- 10 -->\n                    <th>Building  </th>                         <!-- 11 -->\n                    <th>Building Comments</th>                      <!-- 12 -->\n                    <th>Pre-Wire  </th>                         <!-- 12 -->\n                    <th>Pre-Wire Comments</th>                      <!-- 14 -->\n                    <th>Aluminium / Fit Off </th>                        <!-- 14 -->\n                    <th>Aluminium Comments</th>                     <!-- 15 -->\n                    <th>Finishing  </th>                        <!-- 16 -->\n                    <th>Finishing Comments</th>                     <!-- 17 -->\n                   <th>Detailing Canopy </th>                        <!-- 16 -->\n                    <th>Detailing Canopy Comments</th>                     <!-- 17 -->\n                    <th>Water Test  </th>                        <!-- 16 -->\n                    <th>Water Test Comments</th>                     <!-- 17 -->\n                    <!-- <th>Planned QC</th>  -->                             <!-- 18 -->\n                    <th> QC </th>                             <!-- 19 --> \n                    <th> QC Comments</th>                        <!-- 20 --> \n                    <!-- Temporarily Disabled as per client request -->\n                    <!-- <th>Actual Water Testing </th> -->                 <!-- 21 --> \n                    <!-- <th class="comments"> Water Test Comments</th> --> <!-- 22 --> \n                    <th>Final QC</th>                               <!-- 23 --> \n                    <th class="comments">Final QC Comments</th>     <!-- 24 --> \n                    <th>Actual Dispatch</th>                        <!-- 26 --> \n                    <th class="comments">Dispatch Comments</th>     <!-- 27 --> \n                </tr>\n            </thead>\n            <tbody ui-sortable="sortableOptions" ng-model="orderList">\n         <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'"> \n                <!-- 1 --> \n                    <td ng-if="!order.month_header">\n                        {{ order.index }} \n                    </td>\n                    <!-- 22 -->   \n                <td ng-if="!order.month_header">     \n                        <div ng-show="holdblock[order.id]">\n                            <div> \n                                <label style="background-color:#ffffff;height:25px" class="item item-text-wrap"> On Hold   </label>\n                            </div>\n                        </div>\n\n                        <div ng-show="blankblock[order.id]">\n                            <div> \n                                <label style="background-color:#ffffff;height:25px" class="item item-text-wrap"> Ready For Production    </label>\n                            </div>\n                        </div>\n\n                        <div ng-show="prodblock[order.id]">\n                            <label style="background-color:#ffff17" class="item item-text-wrap"> Awaiting Production    </label>\n                        </div>\n                        <div ng-show="prodblock1[order.id]">\n                            <label style="background-color:#FF4500" class="item item-text-wrap"> Awaiting Production    </label>\n                        </div>\n\n                        <div ng-show="chassisblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Chassis      \n                            </label>\n                        </div>\n\n                        <div ng-show="buildingblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Building     </label>\n                        </div>\n\n                        <div ng-show="prewireblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Pre-wire      </label>\n                        </div>\n\n                        <div ng-show="aluminiumblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Aluminium / Fit Off    </label>\n                        </div>\n\n                        <div ng-show="finishingblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Finishing     </label>\n                        </div>\n\n                        <div ng-show="detailingblock[order.id]">\n                        <label style="background-color:#FFD700" class="item item-text-wrap">  Detailing Canopy  </label>\n                        </div>\n\n\n                        <div ng-show="watertestingblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Water Testing </label>\n                        </div>\n\n\n                        <div ng-show="qcblock[order.id]">\n                        <label style="background-color:#ffff17" class="item item-text-wrap"> QC </label>\n                        </div>\n                        <div ng-show="qcblock1[order.id]">\n                        <label style="background-color:#FF4500" class="item item-text-wrap"> QC </label>\n                        </div>\n                         \n                        <div ng-show="waterblock[order.id]">\n                         <!--   <label style="background-color:#ffff17" class="item item-text-wrap">  Water Testing     </label> -->\n                        </div>\n\n                        <div ng-show="waterblock1[order.id]">\n                         <!--   <label style="background-color:#FF4500" class="item item-text-wrap"> Ready For Water Testing     </label> -->\n                        </div>\n\n                        <div ng-show="finalqcblock[order.id]">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Final QC     </label>\n                        </div>\n                        \n                        <div ng-show="dispatchblock1[order.id]">\n                            <label style="background-color:#00FF00" class="item item-text-wrap"> Ready For Dispatch     </label>\n                        </div>\n                        \n                        <div ng-show="completeblock[order.id]">\n                            <div> \n                                <label style="background-color:#D3D3D3;height:25px" class="item item-text-wrap"> Dispatched    </label>\n                            </div>\n                        </div>\n                    </td>\n \n                     <!-- 21 -->   \n                    <td ng-if="!order.month_header">\n                        <a href="{{ order.url }}" target="_blank">Manage </a>\n                    </td> \n                    <!-- 20 -->    \n                    \n                    <td ng-if="!order.month_header">\n                     \n                        <div ng-show="order.hold_caravans==0">\n                        <input type="checkbox" id="cb10" ng-model="hold_caravans_cur" name="hold_caravans_cur"   ng-checked="false" ng-change="hold_caravans_cur ? hold_order_fun(order) :  !hold_order_fun(order) "/>\n                        <h5>  Hold  </h5> \n                        </div>\n\n                        <div ng-show="order.hold_caravans==1">\n                        <input type="checkbox" id="cb11" ng-model="hold_caravans_cur" name="hold_caravans_cur"   ng-checked="true" ng-click="hold_order_fun(order)"/>\n                        <h5>  Release   </h5> \n                        </div>\n                        \n                    </td>\n                    \n               \n\n                \n                <!-- 2 --> \n                    <td ng-if="!order.month_header" >\n                        {{ order.chassis }}\n                    </td>\n                <!-- 3 --> \n                    <td ng-if="!order.month_header" >\n                        {{ order.order_id }}\n                    </td>\n                <!-- 4 -->    \n                    <td ng-if="!order.month_header">\n                        {{ order.model_series }}\n                    </td>\n\n                <!-- 5 -->    \n                    <td ng-if="!order.month_header">\n                        {{ order.dealership }} \n                    </td>\n                <!-- 6 -->\n                    <td ng-if="!order.month_header">\n                        {{ order.production_date | date: AppSettings.FORMAT_DATE_WEEKDAY_JS }}\n                    </td>\n                <!-- 24 -->    \n                    <td ng-if="!order.month_header"> \n                        <div> {{ order.planned_dispatch_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.planned_dispatch_date">\n                            {{ plandispdate[order.id] | date : \'dd-MM-yyyy\' }} \n                        </div>\n                    </td>\n\n                <!-- 7 --> \n                \n                    <td ng-if="!order.month_header">\n                        <div>\n                            {{ order.actual_production_date | date : \'dd-MM-yyyy\' }}\n                        </div>\n                        <div ng-if="!order.actual_production_date">\n                            <input type="checkbox" id=\'actual_prod\'  ng-model="actual_prod" ng-change="actual_prod ? checkproddate(order) : !checkproddate(order)" >  \n                            <div ng-show="actual_prod">\n                                <label id="lblproddate" name="lblproddate" class="item item-text-wrap">\n                                    <h5>{{ getTodaysDate | date :"dd-MM-yyyy" }}</h5>\n                                </label>\n                            </div>\n                        </div>    \n                    <bar-spinner ng-if="actual_prod_date_loading[order.id]"></bar-spinner>          \n                    </td>\n\n                <!-- 8 \n                    <td ng-if="!order.month_header"> \n\n                        <input type="text" ng-model="order.prod_comments_from" ng-blur="onProdCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.prod_comments_from }}" />\n                        <bar-spinner ng-if="prodCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                -->\n                <!-- 9 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.chassis_section | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.chassis_section">\n                            <input type="checkbox" id=\'chassis_section_chkbox\'  ng-model="chassis_section_chkbox" ng-change="chassis_section_chkbox ? isSectionDateChanged(order) : !isSectionDateChanged(order)" >  \n                            <div ng-show="chassis_section">\n                                <label id="lblsecdate" name="lblsecdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="chassis_section_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 10 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.chassis_section_comments" ng-blur="onChasisSectionCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.chassis_section_comments }}" />\n                        <bar-spinner ng-if="onChasisSectionCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n\n                <!-- 11 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.building | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.building">\n                        <input id="building_chkbox" type="checkbox" ng-model="building_chkbox" ng-change="building_chkbox ? isBuildingDateChanged(order) : !isBuildingDateChanged(order)" >  \n                            <div ng-show="building">\n                                <label id="lblbuilddate" name="lblbuilddate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="building_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 12 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.building_comments" ng-blur="onBuildingCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.building_comments }}" />\n                        <bar-spinner ng-if="onBuildingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                <!-- 13 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.prewire_section | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.prewire_section">\n                        <input id="prewire_chkbox" type="checkbox" ng-model="prewire_chkbox" ng-change="prewire_chkbox ? isPrewireDateChanged(order) : !isPrewireDateChanged(order)" >  \n                            <div ng-show="prewire_section">\n                                <label id="lblprewiredate" name="lblprewiredate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="prewire_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 14 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.prewire_comments" ng-blur="onPrewireCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.prewire_comments }}" />\n                        <bar-spinner ng-if="onPrewireCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                \n\n                <!-- 9 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.aluminium_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.aluminium_date">\n                            <input id="aluminium_chkbox" type="checkbox"   ng-model="aluminium_chkbox" ng-change="aluminium_chkbox ? isAluminiumDateChanged(order) : !isAluminiumDateChanged()" >  \n                            <div ng-show="aluminium_chkbox">\n                                <label id="lblaludate" name="lblaludate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="aluminium_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 11 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.aluminium_comments" ng-blur="onAluminiumCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.aluminium_comments }}" />\n                        <bar-spinner ng-if="onAluminiumCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                <!-- 12 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.finishing | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.finishing">\n                            <input id=\'finishing_chkbox\' type="checkbox"   ng-model="finishing_chkbox" ng-change="finishing_chkbox ? isFinishingDateChanged(order) : !isFinishingDateChanged()" >  \n                            <div ng-show="finishing_chkbox">\n                                <label id="lblfindate" name="lblfindate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="finishing_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 13 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.finishing_comments" ng-blur="onFinishingCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.finishing_comments }}" />\n                        <bar-spinner ng-if="onFinishingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                    <!-- 18 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.detailing_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.detailing_date">\n                            <input id=\'detailing_chkbox\' type="checkbox"   ng-model="detailing_chkbox" ng-change="detailing_chkbox ? isDetailingDateChanged(order) : !isDetailingDateChanged()" >  \n                            <div ng-show="detailing_chkbox">\n                                <label id="lbldetailingdate" name="lbldetailingdate" class="item item-text-wrap">\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="detailing_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 19 -->   \n\n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.detailing_comments"  \n                        ng-blur="onDetailingCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.detailing_comments }}" />\n                        <bar-spinner ng-if="onDetailingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                    <!-- 14 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.watertest_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.watertest_date">\n                            <input id=\'watertest_chkbox\' type="checkbox"   ng-model="watertest_chkbox" ng-change="watertest_chkbox ? isWatertestDateChanged(order) : !isWatertestDateChanged()" >  \n                            <div ng-show="watertest_chkbox">\n                                <label id="lblwaterdate" name="lblwaterdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="watertest_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 15 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.watertest_comments" ng-blur="onWaterTestCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.watertest_comments }}" />\n                        <bar-spinner ng-if="onWatertestCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                    <!-- 16 -->    \n                                                    <!-- 9 -->    \n                <!--    <td ng-if="!order.month_header"> \n                        <div > {{ order.planned_qc_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.planned_qc_date">\n                        {{ planqcdate[order.id] | date : \'dd-MM-yyyy\' }} \n                        </div> \n                    </td>\n                -->\n                <!-- 20 -->    \n                    <td ng-if="!order.month_header">\n                    <div >  {{ order.actual_qc_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.actual_qc_date">\n                            <input type="checkbox" id=\'actual_qc\'  ng-model="actual_qc" ng-change="actual_qc ? isColorOk(order) : isColorNotOk()" >  \n                            <div ng-show="actual_qc">\n                                <label id="lblqcdate" name="lblqcdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="actual_qc_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 21 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.qc_comments_from" ng-blur="onQCCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.qc_comments_from }}" />\n                        <bar-spinner ng-if="qcCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                             \n                \n                <!-- 12 -->    \n                     \n                     \n                <!-- 13 -->    \n                <!--     <td ng-if="!order.month_header">\n                   \n                        <div> {{ order.actual_watertest_date | date:\'dd-MM-yyyy\' }} </div>\n                   \n                        <div ng-if="!order.actual_watertest_date">\n    \n                            <input id="water_test" type="checkbox" ng-model="water_test" ng-change="water_test ? checkwaterfun(order) : !checkwaterfun(order)">  \n                    \n                            <div ng-show="water_test">\n                                <label class="item item-text-wrap"> \n                                    <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \n                                </label>\n                            <bar-spinner ng-if="actual_water_test_date_loading[order.id]"></bar-spinner> \n                            </div>\n                        </div>\n                    </td>\n                -->\n                <!-- 14 -->    \n                <!-- <td ng-if="!order.month_header">\n                        <input type="text" ng-model="order.watertest_comments" ng-blur="onWaterCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.watertest_comments }}" />\n                        <bar-spinner ng-if="waterCommentLoading[order.id]"></bar-spinner> \n                    </td>\n                -->\n                <!-- 22 -->    \n                    <td ng-if="!order.month_header">                  \n                        <div > {{ order.final_qc_date | date:\'dd-MM-yyyy\' }} </div>                   \n                        \n                        <div ng-if = "checkweights(order)">\n                        <font face="Arial" color=\'red\'>Set Weights\n                        </font>  \n                        </div>\n                        <div ng-if = "checkallweights(order)"> \n                        <div ng-if="!order.final_qc_date">   \n                            <input id="final_qc" type="checkbox" ng-model="final_qc" ng-change="final_qc ? checkfinalqcfun(order) : !checkfinalqcfun(order)">  \n                            <div ng-show="final_qc">\n                                <label class="item item-text-wrap"> \n                                    <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \n                                </label> \n                            </div>                             \n                            </div>                          \n                        </div>\n                        <bar-spinner ng-if="final_qc_date_loading[order.id]"></bar-spinner> \n                    </td>\n                <!-- 23 -->    \n                    <td ng-if="!order.month_header">\n                        <input type="text" ng-model="order.final_qc_comments" ng-blur="onFinalQCCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value=" Hello!" + "{{ order.final_qc_comments }}" />\n                        <bar-spinner ng-if="FinalQCCommentLoading[order.id]"></bar-spinner> \n                    </td>\n\n\n\n                \n                <!-- 25 -->    \n                    <td ng-if="!order.month_header">\n                        <div> {{ order.actual_dispatch_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.actual_dispatch_date"> \n                            <input type="checkbox" ng-model="actual_dispatch" ng-change="actual_dispatch ? checkdatefun(order) : !checkdatefun1(order)"> \n                            <div ng-show="actual_dispatch">\n                                <label class="item item-text-wrap"  >\n                                    <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \n                                </label>\n                            </div>\n                             \n                        </div>\n                        <bar-spinner ng-if="actual_dispatch_date_loading[order.id]"></bar-spinner> \n                    </td>\n                    \n                    <!-- 26 -->    \n                    <td ng-if="!order.month_header" class="comments">\n                        <input class="input-comments" type="text" placeholder="Enter Dispatch Comments..." maxlength="2000" ng-model="order.dispatch_comments" ng-blur="onDispatchCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.dispatch_comments }}"  />\n                        <bar-spinner ng-if="dispatchCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                 \n\n                    \n                    \n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n<div class="modal fade" id="moveOrderModal">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form">\n\n                    <div class="row move_orders">\n                        <span class="col-md-4 col-md-offset-2">\n                            <label>Schedule Month </label>\n                            <select ng-model="move_month" ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                                <option value="">Select</option>\n                            </select>\n                        </span>\n                        <span class="col-md-3">\n                            <label> Order Position</label>\n                            <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                        </span>\n                    </div>\n                </form>\n\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n';
},330:function(e,t){e.exports='    \n<div id="transport_dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Pop-Top/Campers Production Status</h2>\n    </top-bar>\n\n    <messages>{{ order.messages }}</messages>\n</div>\n\n\n<div id="transport_dashboard_status">\n   \n\n\n\n    <div class="content">\n        <table style="table-layout:fixed">\n            <thead>\n                <tr>                    \n                    <th style="background-color: #f49e95">Chassis </th>                          \n                    <th style="background-color: #82c0ea">Building  </th>                       \n                    <th style="background-color: #c3c6c9">Pre-Wire  </th>                      \n                    <th style="background-color: #76f4db">Aluminium / <br> Fit Off  </th> \n                    <th style="background-color: #d074f4">Finishing  </th>\n                    <th style="background-color: #ABB2B9">Detailing Canopy  </th>\n                    <th style="background-color: #A9CCE3">Water Testing  </th>\n                    <th style="background-color: #5ee796">QC  </th>\n                    <th style="background-color: #f9d959">Final QC </th>\n                    <th style="background-color: #f2b47f">Ready For Dispatch</th>\n                    <th style="background-color: #7ac4f4">Dispatched Today  </th>\n                    <th style="background-color: #99abbd">Dispatched Yesterday  </th>\n                    <th style="background-color: #a4cfea">Dispatched <br> This Week  </th>\n                    <th style="background-color: #c884e5">Dispatched <br> This Month  </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>  \n                    <th style="background-color: #E6B0AA"> {{ total_count.chassis_count }} </th>\n\n                    <th style="background-color: #AED6F1"> {{ total_count.building_count }} </th>                          \n                    <th style="background-color: #E5E7E9"> {{ total_count.prewire_count }} </th>                          \n                    <th style="background-color: #A3E4D7"> {{ total_count.aluminium_count }} </th>                          \n                    <th style="background-color: #D2B4DE"> {{ total_count.finishing_count }} </th>                          \n                    \n                    <th style="background-color: #ABB2B9"> {{ total_count.detailing_count }} </th>\n                    \n                    <th style="background-color: #A9CCE3"> {{ total_count.water_test_count }} </th>\n\n                    <th style="background-color: #A9DFBF"> {{ total_count.actual_qc_count }} </th>                          \n                    <th style="background-color: #F9E79F"> {{ total_count.final_qc_count }} </th>                          \n                    <th style="background-color: #F5CBA7"> {{ total_count.email_sent_green_count }}  </th>                          \n                    <th style="background-color: #A9CCE3"> {{ total_count.today_dispatched_count }} </th>                          \n                    <th style="background-color: #ABB2B9"> {{ total_count.yesterday_dispatched_count }} </th>                          \n                    <th style="background-color: #D4E6F1"> {{ total_count.this_week_dispatched_count }} </th>                          \n                    <th style="background-color: #D7BDE2"> {{ total_count.this_month_dispatched_count }} </th>                          \n                </tr>\n                <tr>\n                    <th valign="top" style="background-color: #E6B0AA">\n                        <table rules="none">\n                            \n                            <tbody >\n                                <tr ng-repeat="chassis in chassis_list">              \n                                    <td>\n                                        <a href="{{ chassis.url }}" target="_blank"> {{ chassis.chassis }} </a> \n                                    </td>                          \n                                </tr>\n                            <tbody>\n                        </table>\n                    </th>  \n                \n                    <th valign="top" style="background-color: #AED6F1">\n                        <table rules="none"> \n                           \n                            <tbody>\n                                <tr ng-repeat="building in building_list">  \n                                    <td>\n                                        <a href="{{ building.url }}" target="_blank"> {{ building.chassis}} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n                    \n                    <th valign="top" style="background-color: #E5E7E9">\n                        <table rules="none"> \n                             \n                            <tbody>\n                                      \n                                <tr ng-repeat="prewire in prewire_list">                         \n                                    <td>\n                                        <a href="{{ prewire.url }}" target="_blank"> {{ prewire.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #A3E4D7">\n                        <table rules="none">\n                            \n                            <tbody> \n                                <tr ng-repeat="aluminium in aluminium_list">                          \n                                    <td> \n                                        <a href="{{ aluminium.url }}" target="_blank"> {{ aluminium.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th> \n\n                    <th valign="top" style="background-color: #D2B4DE">\n                        <table rules="none">\n                         \n                        <tbody>\n                            <tr ng-repeat="finishing in finishing_list">                         \n                                <td>\n                                    <a href="{{ finishing.url }}" target="_blank"> {{ finishing.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th> \n\n                    <th valign="top" style="background-color: #ABB2B9">\n                        <table rules="none">\n                         \n                        <tbody>\n                            <tr ng-repeat="detailing in detailing_list">                         \n                                <td>\n                                    <a href="{{ detailing.url }}" target="_blank"> {{ detailing.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th> \n\n                   \n                    <th valign="top" style="background-color: #A9CCE3">\n                        <table style="table-layout:fixed" >\n                        <col style="width:20%">\n                        <col style="width:80%">\n                        <tbody>\n                            <tr ng-repeat="water_test in water_test_list">                         \n                            <td>\n                                    <div> \n                                        <font face="Arial" color="Black"> <b>*</b>  </font>\n                                    </div> \n                                </td>\n                                <td>\n                                    <a href="{{ water_test.url }}" target="_blank"> {{ water_test.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>   \n                    <th valign=top style="background-color: #A9DFBF"> \n                     <table style="table-layout:fixed" >\n                                <col style="width:20%">\n                                <col style="width:80%">\n                            <tbody> \n                                <tr ng-repeat="actual_qc in actual_qc_list">                           \n                                     <td>\n                                    <div ng-if="actual_qc.check_weights"> \n                                         <span style=\'font-size:14px;color:green\'>&#xbb;</span>  \n                                    </div> \n                                    <div ng-if="!actual_qc.check_weights">\n                                    <span style=\'font-size:14px;color:red\'>&#xbb;</span>   \n                                        <!-- \n                                            <font face="Arial" color="Red"><b> *</b> {{ actual_qc.weight_tare }} </font> \n                                        -->\n                                    </div>\n                                    </td>\n                                    <td> \n                                        <a href="{{ actual_qc.url }}" target="_blank"> {{ actual_qc.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>\n\n                    <th valign="top" style="background-color: #F9E79F">\n                         <table style="table-layout:fixed" >\n                                <col style="width:20%">\n                                <col style="width:80%">\n                            <tbody>  \n                                <tr ng-repeat="final_qc in final_qc_list">                          \n                                   <td> \n                                        <div ng-if="final_qc.check_weights"> \n                                            <span style=\'font-size:14px;color:green\'>&#xbb;</span>   \n                                    </div> \n                                    <div ng-if="!final_qc.check_weights"> \n                                        <span style=\'font-size:14px;color:red\'>&#xbb;</span>   \n                                    </div>\n                                </td>\n                                    <td> \n                                        <a href="{{ final_qc.url }}" target="_blank"> {{ final_qc.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>\n                    \n                    <th valign="top" style="background-color: #F5CBA7">\n                        <table rules="none" valign="top"> \n                            \n                            <tbody>\n\n                                 <tr ng-repeat="email_sent_green in email_sent_green_list" valign="top">                          \n                                    <td valign="top">\n                                    <div ng-if="email_sent_green.status_red"> \n                                                   \n\n                        <a href="{{ email_sent_green.url }}" style="color:#FF6347;"  target="_blank" >\n                                                                   {{ email_sent_green.chassis }} </a>\n                                 \n                                    </div>\n                                 </td>\n                                 </tr>   \n                                 <tr ng-repeat="email_sent_green in email_sent_green_list" valign="top">\n                                    <td>\n                                    <div ng-if="email_sent_green.status_green"> \n                                                                  \n                        <a href="{{ email_sent_green.url }}" style="color:#32CD32;" target="_blank"> \n                                                                  {{ email_sent_green.chassis }}\n                                                              </a>\n                                 \n                                    </div>\n                                </td>\n                                </tr>\n\n                                <tr ng-repeat="email_sent_green in email_sent_green_list" valign="top">\n                                    <td>\n                                    <div ng-if="email_sent_green.status_grey"> \n                                                                  \n                        <a href="{{ email_sent_green.url }}" style="color:#000000;"  target="_blank"> \n                                                                  {{ email_sent_green.chassis }}\n                                                                   </a> \n                                                               \n                                 \n                                    </div>\n\n\n                                    \n\n                                \n                                    </td>\n                                </tr>\n\n \n                                <!-- email_sent_green_list -->\n                           \n                        </tbody>\n                        </table>\n                    </th>                     \n\n                    <th valign="top" style="background-color: #A9CCE3">\n                        <table rules="none">\n                            \n                            <tbody> \n                                <tr ng-repeat="today_dispatched in today_dispatched_list">                       \n                                    <td> \n                                        <a href="{{ today_dispatched.url }}" target="_blank"> {{ today_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #ABB2B9">\n                        <table rules="none">\n                            \n                            <tbody> \n                                <tr ng-repeat="yesterday_dispatched in yesterday_dispatched_list">\n                                    <td> \n                                        <a href="{{ yesterday_dispatched.url }}" target="_blank"> {{ yesterday_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody> \n                        </table>\n                    </th>                                   \n\n                    <th valign="top" style="background-color: #D4E6F1">\n                        <table rules="none">\n                            \n                            <tbody> \n                                <tr ng-repeat="this_week_dispatched in this_week_dispatched_list">\n                                    <td> \n                                        <a href="{{ this_week_dispatched.url }}" target="_blank"> {{ this_week_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #D7BDE2">\n                        <table rules="none"> \n                            \n                            <tbody> \n                                <tr ng-repeat="this_month_dispatched in this_month_dispatched_list">\n                                    <td>\n                                        <a href="{{ this_month_dispatched.url }}" target="_blank"> {{ this_month_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n                </tr>\n            </tbody>     \n        </table> \n       \n    </div>  \n</div>\n\n\n<div class="modal fade" id="moveOrderModal">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form">\n\n                    <div class="row move_orders">\n                        <span class="col-md-4 col-md-offset-2">\n                            <label>Schedule Month </label>\n                            <select ng-model="move_month" ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                                <option value="">Select</option>\n                            </select>\n                        </span>\n                        <span class="col-md-3">\n                            <label> Order Position</label>\n                            <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                        </span>\n                    </div>\n                </form>\n\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n\n\n\n    </div>\n'}});