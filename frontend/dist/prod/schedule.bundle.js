webpackJsonp([7],{0:function(e,n,t){e.exports=t(178)},2:function(e,n){"use strict";n.__esModule=!0,n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},3:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=t(23),o=a(r);n.default=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,o.default)(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}()},19:function(e,n){},23:function(e,n,t){e.exports={default:t(25),__esModule:!0}},24:function(e,n,t){e.exports={default:t(46),__esModule:!0}},25:function(e,n,t){t(31);var a=t(4).Object;e.exports=function(e,n,t){return a.defineProperty(e,n,t)}},31:function(e,n,t){var a=t(9);a(a.S+a.F*!t(8),"Object",{defineProperty:t(11).f})},46:function(e,n,t){t(62),e.exports=t(4).Object.values},53:function(e,n,t){var a=t(8),r=t(18),o=t(13),i=t(22).f;e.exports=function(e){return function(n){for(var t,d=o(n),s=r(d),l=s.length,c=0,u=[];l>c;)t=s[c++],a&&!i.call(d,t)||u.push(e?[t,d[t]]:d[t]);return u}}},62:function(e,n,t){var a=t(9),r=t(53)(!1);a(a.S,"Object",{values:function(e){return r(e)}})},72:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleDashboardApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"assignProductionDates",value:function(n){return e.postData("schedule/dashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(n)})}},{key:"changeOrderScheduleMonthPosition",value:function(n,t,a,r,o){return e.postData("schedule/dashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),new_schedule_month:e.formatDate(t),new_position_month:a,order_list:r,orderList:o})}},{key:"changeOrderScheduleMonthPosition_ori",value:function(n,t,a,r){return e.postData("schedule/dashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),order_list:r,new_schedule_month:e.formatDate(t),new_position_month:a})}},{key:"changeOrderScheduleMonthPosition1",value:function(n,t,a,r,o){return e.postData("schedule/dashboard/change-order-schedule-unit-position",{view_month:e.formatDate(n),order_list:r,new_schedule_month:e.formatDate(t),new_position_month:a,production_unit:2})}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initial/"+e.formatDate(n))}},{key:"getInitialData1",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getDealerInitialData",value:function(n){return e.getData("schedule/dashboard/dealer/"+e.formatDate(n))}},{key:"saveCommentOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-order",{order_id:n.id,schedule_comments:t})}},{key:"saveQCOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-transport-order",{order_id:n.id+"",qc_comments_from:t})}},{key:"saveWaterOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-water-order",{order_id:n.id+"",watertest_comments:t})}},{key:"saveDispatchOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:n.id+"",dispatch_comments:t})}},{key:"saveDealerCommentOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-order",{order_id:n.id,dealer_comments:t})}},{key:"saveLockdown",value:function(n,t){return e.postData("schedule/dashboard/update-lockdown",{lockdown_number:t,lockdown_month:n})}},{key:"updateNewPosition",value:function(n){return e.postData("schedule/dashboard/update-lockdown",{lockdown_number:number,lockdown_month:month})}},{key:"bulkmoveorders",value:function(n,t,a,r,o,i){return e.postData("schedule/dashboard/bulk-update-newlogic",{view_month:e.formatDate(n),order_id:t,oldPosition:a,new_order_list:r,newPosition:o,source_list:i})}},{key:"massFinalizeOrder",value:function(n,t){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:t})}}]),n}();return new n}])},e.exports=n.default},73:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleDashboardService",function(){var e=function(){function e(){(0,o.default)(this,e)}return(0,d.default)(e,[{key:"getSpecialFeatureClass",value:function(e){return"pending"==e.special_feature_status?"glyphicon-question-sign":"approved"==e.special_feature_status?"glyphicon-ok-sign":"rejected"==e.special_feature_status?"glyphicon-remove-sign":""}},{key:"isSameMonth",value:function(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()}},{key:"containsCaseInsensitive",value:function(e,n){return e.toLowerCase().indexOf(n.toLowerCase())!=-1}}]),e}();return new e})},e.exports=n.default},93:function(e,n){},133:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){t(137)(e),t(146)(e),t(136)(e),t(135)(e),t(143)(e),t(139)(e),t(141)(e),e.controller("ScheduleController",function(){t(93),t(19)})},e.exports=n.default},134:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleCapacityApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(n){return e.getData("schedule/capacity/initial/"+e.formatDate(n))}},{key:"saveData",value:function(n){return e.postData("schedule/capacity/save",{weekList:n})}}]),n}();return new n}])},e.exports=n.default},135:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(14),o=a(r),i=t(1),d=a(i);n.default=function(e){t(134)(e),e.controller("ScheduleCapacityController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","$state","$stateParams","AppSettings","ScheduleCapacityApiService",function(e,n,t,a,r,i,s,l,c){r.initialDataLoading=!1,r.saveLoading=!1,r.currentMonth=s.currentMonth,n.putObject("scheduleCapacityCurrentMonth",s.currentMonth),r.monthList=[];var u=function(e){r.initialDataLoading=!0,c.getInitialData(e).then(function(e){if(r.weekList=e.week_list,a.permissions=e.permissions,0==r.monthList.length){var n=!0,o=!1,i=void 0;try{for(var s,c=(0,d.default)(e.month_list);!(n=(s=c.next()).done);n=!0){var u=s.value,g=new Date(Date.parse(u)),p=new Date(g);p.setMonth(p.getMonth()+5),r.monthList.push({title:t("date")(g,l.FORMAT_DATE_MONTH_SHORT_JS)+" - "+t("date")(p,l.FORMAT_DATE_MONTH_SHORT_JS),value:g}),h(r.currentMonth,g)&&(r.currentMonth=g)}}catch(e){o=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}}var _=!0,f=!1,m=void 0;try{for(var b,y=function(){var e=b.value;r.$watch(function(){return e.days},function(n,t){e.total_capacity=n.reduce(function(e,n){return e+Number(n.capacity)},0)},!0)},v=(0,d.default)(r.weekList);!(_=(b=v.next()).done);_=!0)y()}catch(e){f=!0,m=e}finally{try{!_&&v.return&&v.return()}finally{if(f)throw m}}}).finally(function(){r.initialDataLoading=!1})};u(r.currentMonth),r.$watch("currentMonth",function(e,n){h(e,n)||i.go("schedule.capacity",{currentMonth:e},{reload:!0})}),r.duplicate=function(e){for(var n=0,t=r.weekList[n];t.start_label!=e.start_label&&n<r.weekList.length;)n++,t=r.weekList[n];if(n<r.weekList.length-1)for(var a=0;a<7;a++)r.weekList[n+1].days[a].capacity=r.weekList[n].days[a].capacity},r.save=function(){r.saveLoading=!0,c.saveData(r.weekList).then(function(e){r.successMessages=["Data saved successfully"],r.errorMessages=[]},function(e){var n=e.data.message||e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),r.errorMessages=n}).finally(function(){e("message-anchor"),r.saveLoading=!1})};var h=function(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()}}])},e.exports=n.default},136:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=a(r);n.default=function(e){t(72)(e),t(73)(e),e.controller("DealerScheduleDashboardController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleDashboardApiService","ScheduleDashboardService",function(e,n,a,r,i,d,s,l,c){if(t(93),t(19),r.permissions={},i.monthDataLoading=!1,i.searchStr="",i.monthList=[],i.isOrderDealerCommentSaving={},n.getObject("scheduleDashboardCurrentMonth")){i.currentMonth=new Date(Date.parse(n.getObject("scheduleDashboardCurrentMonth")));var u=s.now();i.currentMonth=new Date(u.getFullYear(),u.getMonth())}else{var h=s.now();i.currentMonth=new Date(h.getFullYear(),h.getMonth())}var g=function(e){i.monthDataLoading=!0,l.getDealerInitialData(e).then(function(e){if(i.orderList=e.order_list,r.permissions=e.permissions,0==i.monthList.length){var n=!0,t=!1,s=void 0;try{for(var l,u=(0,o.default)(e.month_list);!(n=(l=u.next()).done);n=!0){var h=l.value,g=new Date(Date.parse(h));i.monthList.push({title:a("date")(g,d.FORMAT_DATE_MONTH_SHORT_JS),value:g}),c.isSameMonth(i.currentMonth,g)&&(i.currentMonth=g)}}catch(e){t=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(t)throw s}}}}).catch(function(e){e?i.errorMessages=[e.data]:i.errorMessages=["Error while getting the initial data."]}).finally(function(){i.monthDataLoading=!1})};g(i.currentMonth),i.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},i.$watch("currentMonth",function(e,t){c.isSameMonth(e,t)||(g(e),n.putObject("scheduleDashboardCurrentMonth",e))}),i.onOrderDealerCommentChange=function(e,n){var t=e.target.value,r=n.dealer_comments;t!=r&&(i.isOrderDealerCommentSaving[n.id]=!0,l.saveDealerCommentOnOrder(n,t).then(function(){i.errorMessages=[]}).catch(function(){i.errorMessages=["Error while updating the comments for order #"+n.index+" for "+a("date")(n.month,d.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){i.isOrderDealerCommentSaving[n.id]=!1}))},i.filterOrders=function(e){return!!e.month_header||(c.containsCaseInsensitive(e.model_series,i.searchStr)||c.containsCaseInsensitive(e.customer,i.searchStr)||c.containsCaseInsensitive(e.chassis,i.searchStr)||c.containsCaseInsensitive(e.dealer_comments,i.searchStr))}}])},e.exports=n.default},137:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(24),o=a(r),i=t(1),d=a(i);n.default=function(e){t(72)(e),t(73)(e),e.controller("ScheduleDashboardController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleDashboardApiService","ScheduleDashboardService",function(e,n,t,a,r,i,s,l,c){a.permissions={},r.monthDataLoading=!1,r.assignProductionDatesLoading=!1,r.orderCommentLoading={},r.orderSortLoading={},r.searchStr="",r.monthList=[],r.ordersSelected=[],r.production_unit=[],r.sortableOptions={axis:"y",containment:"#dashboard .content table tbody, #dashboard .content table tfoot",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".drag-handle",placeholder:"sortable-placeholder",helper:function e(n,t){var a=t.children(),e=t.clone();return e.children().each(function(e,n){$(n).width(a.eq(e).outerWidth())}),e},stop:function(e,n){var t=n.item.sortable.index,a=n.item.sortable.dropindex,o=n.item.sortable.model;if("dropindex"in n.item.sortable){for(var i=void 0,d=a,s=void 0,c=void 0,u=void 0,h=void 0,g=0;g<r.orderList.length;g++){var p=r.orderList[g];if(p.month_header&&(u=p.month,h=g),p.id==o.id){d-=h,i=u,g+1<r.orderList.length&&(c=r.orderList[g+1].id);break}s=p.id}r.new_order_list=[],r.new_order_index=[],angular.forEach(r.orderList,function(e,n){r.new_order_list.push(e.id),r.new_order_index.push(e.index)}),r.orderSortLoading[o.id]=!0,l.bulkmoveorders(r.currentMonth,o.id,t,r.new_order_list,a,r.orderList).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.orderSortLoading[o.id]=!1})}}};var u=s.now();r.currentMonth=new Date(u.getFullYear(),u.getMonth());var h=function(e){r.monthDataLoading=!0,r.moveCmdInitiated=!1,l.getInitialData(e).then(function(e){if(r.orderList=e.order_list,r.lockdownMonth=e.lockdown_month,r.lockdownNumber=e.lockdown_number,a.permissions=e.permissions,0==r.monthList.length){var n=!0,o=!1,s=void 0;try{for(var l,u=(0,d.default)(e.month_list);!(n=(l=u.next()).done);n=!0){var h=l.value,g=new Date(Date.parse(h)),p=new Date,_=new Date(p.setDate(p.getDate()-(p.getDate()+1)));g>=_&&r.monthList.push({title:t("date")(g,i.FORMAT_DATE_MONTH_SHORT_JS),value:g}),c.isSameMonth(r.currentMonth,g)&&(r.currentMonth=g)}}catch(e){o=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw s}}}}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while getting the initial data."]}).finally(function(){r.monthDataLoading=!1})};h(r.currentMonth),$("#chosen_month_show").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:"#chosen_month",OnAfterMenuClose:function(){$("#chosen_month").trigger("input")}}),r.$watch("currentMonth",function(e,n){e instanceof Date||(e=new Date(Date.parse(e))),n instanceof Date||(n=new Date(Date.parse(n))),c.isSameMonth(e,n)||h(e)}),r.getStatusClass=function(e){return"purchase_order_raised"==e?"summary_plans_completed":e},r.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},r.getOrderSummarySorted=function(e){var n=Object();return"not_finalized"in e&&(n.not_finalized=e.not_finalized),"pending_draft"in e&&(n.pending_draft=e.pending_draft),"pending_customer"in e&&(n.pending_customer=e.pending_customer),"customer_approved"in e&&(n.customer_approved=e.customer_approved),"plans_completed"in e&&(n.plans_completed=e.plans_completed),"senior_designer_verfied"in e&&(n.senior_designer_verfied=e.senior_designer_verfied),"purchase_order_raised"in e&&(n.purchase_order_raised=e.purchase_order_raised),n},r.getSpecialFeatureClass=function(e){return c.getSpecialFeatureClass(e)},r.onOrderCommentChange=function(e,n){var a=e.target.value,o=n.schedule_comments;a!=o&&(r.orderCommentLoading[n.id]=!0,l.saveCommentOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating the comments for order #"+n.index+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.orderCommentLoading[n.id]=!1}))},r.isSortingAllowed=function(){return r.permissions.change_schedule_dashboard},r.hasSequenceChangeInProgress=function(){return!(0,o.default)(r.orderSortLoading).every(function(e){return!e})},r.isSortingAvailable=function(){return!r.searchStr&&!r.hasSequenceChangeInProgress()&&!r.moveCmdInitiated},r.isOrderMovingButtonAvailable=function(){return!r.hasSequenceChangeInProgress()&&!r.moveCmdInitiated},r.filterOrders=function(e){return!!e.month_header||(c.containsCaseInsensitive(e.model_series,r.searchStr)||c.containsCaseInsensitive(e.dealership,r.searchStr)||c.containsCaseInsensitive(e.customer,r.searchStr)||c.containsCaseInsensitive(e.chassis,r.searchStr)||c.containsCaseInsensitive(e.order_id,r.searchStr)||c.containsCaseInsensitive(e.schedule_comments,r.searchStr))},r.assignProductionDates=function(){r.assignProductionDatesLoading=!0,l.assignProductionDates(r.currentMonth).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.assignProductionDatesLoading=!1})},r.onLockdown=function(e,n){l.saveLockdown(e,n).then(function(e){r.errorMessages=[],r.lockdownMonth=e.lockdown_month,r.lockdownNumber=e.lockdown_number}).catch(function(){r.errorMessages=["Error while locking down order #"+n+" for "+t("date")(e,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},r.onMoveCmd=function(){new Date;r.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition(r.currentMonth,r.move_month,r.new_position,r.ordersSelected,r.orderList).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){(e||{}).data?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){angular.forEach(r.ordersSelected,function(e){return r.orderSortLoading[e]=!1}),console.log(" Inside Finally 2 !"),r.moveCmdInitiated=!1,r.orderList=data.order_list,r.moveCmdInitiated=!1}),$("#moveOrderModal").modal("hide")},r.onMoveCmd1=function(){r.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition1(r.currentMonth,r.move_month,r.new_position,r.ordersSelected,r.production_unit).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){(e||{}).data?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){angular.forEach(r.ordersSelected,function(e){return r.orderSortLoading[e]=!1}),r.moveCmdInitiated=!1}),$("#moveOrderModal2").modal("hide")},r.moveOrderCount=function(){var e=0;return angular.forEach(r.orderList,function(n){n.selected&&e++}),e},$("#moveOrderModal.modal").on("hidden.bs.modal",function(){r.moveCmdInitiated||(angular.forEach(r.ordersSelected,function(e){return r.orderSortLoading[e]=!1}),angular.forEach(r.orderList,function(e){e.selected&&(e.selected=!1)}),r.$apply())}),$("#moveOrderModal2.modal").on("hidden.bs.modal",function(){r.moveCmdInitiated||(angular.forEach(r.ordersSelected,function(e){return r.orderSortLoading[e]=!1}),angular.forEach(r.orderList,function(e){e.selected&&(e.selected=!1)}),r.$apply()),$(this).find("input").val("").end().find("select").val("").end().find("input[type=checkbox], input[type=radio],input[type=text]").prop("checked","").end()}),r.moveOrders=function(){r.ordersSelected=[],angular.forEach(r.orderList,function(e,n){e.selected&&(r.ordersSelected.push(e.id),r.orderSortLoading[e.id]=!0)}),r.modalTitle="Move "+r.ordersSelected.length+" Order",r.ordersSelected.length>1&&(r.modalTitle+="s"),$("#moveOrderModal.modal").modal({backdrop:"static",keyboard:!1})},r.moveOrders2=function(){r.ordersSelected=[],angular.forEach(r.orderList,function(e,n){e.selected&&(r.ordersSelected.push(e.id),r.orderSortLoading[e.id]=!0)}),r.modalTitle="Move "+r.ordersSelected.length+"  to Pop-Top/Campers",r.ordersSelected.length>1&&(r.modalTitle+="s"),$("#moveOrderModal2.modal").modal({backdrop:"static",keyboard:!1})},r.lockOrders=function(){r.ordersSelected=[],r.lockCmdInitiated=!0,angular.forEach(r.orderList,function(e,n){e.selected&&r.ordersSelected.push(e.id)}),l.massFinalizeOrder(r.currentMonth,r.ordersSelected).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){(e||{}).data?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.lockCmdInitiated=!1})}}])},e.exports=n.default},138:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleDealerApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(){return e.getData("schedule/dealership/initial")}},{key:"saveData",value:function(n,t){var a=t,r=a.getMonth()+1,o=a.getFullYear(),i=o+"/"+r+"/01";return e.postData("schedule/dealership/save",{dealers_capacity_data:n,month_picker_data:i})}},{key:"updateMonth",value:function(n){var t=n,a=t.getMonth()+1,r=t.getFullYear(),o=r+"/"+a+"/01";return e.postData("schedule/dealership/update-month",{month_picker_data:o})}}]),n}();return new n}])},e.exports=n.default},139:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(14),o=a(r),i=t(188),d=a(i);n.default=function(e){t(138)(e),e.controller("ScheduleDealerController",["$anchorScroll","$rootScope","$scope","ScheduleDealerApiService",function(e,n,t,a){t.saveLoading=!1,t.month_picker=new Date,t.actual_capacity=0,t.total_capacity=0,t.capacity_sum,t.defaultDate=new Date(new Date-2592e5),t.successMessages=[],t.errorMessages=[];var r=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.all_data=n,t.actual_capacity=a,i(),e("message-anchor")},i=function(){var e=t.all_data;t.total_capacity=0,e.forEach(function(e){t.total_capacity+=e.capacity_allotted})};a.getInitialData().then(function(e){r(e.data,e.actual_capacity_allocated),n.permissions=e.permissions});var s=function(){var e=t.all_data,n=[];e.forEach(function(e){n.push({id:e.id,dealer_id:e.dealer_id,production_month:e.production_month,dealer_name:e.name,capacity_value:document.getElementById(e.dealer_id.toString()).value})});var a=(0,d.default)(n);return a};t.capacity_sum=function(){var e=t.all_data;t.total_capacity=0,e.forEach(function(e){t.total_capacity+=parseInt(document.getElementById(e.dealer_id).value)})},t.save=function(){t.saveLoading=!0,a.saveData(s(),t.month_picker).then(function(e){t.successMessages=["Data saved successfully"],t.errorMessages=[],r(e.data,e.actual_capacity_allocated)},function(e){var n=e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),t.errorMessages=n}).finally(function(){t.saveLoading=!1})},t.monthpicker_selection=function(){a.updateMonth(t.month_picker).then(function(e){t.successMessages=[],t.errorMessages=[],r(e.data,e.actual_capacity_allocated)},function(e){var n=e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),t.errorMessages=n}).finally(function(){t.saveLoading=!1})}}])},e.exports=n.default},140:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleExportApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(){return e.getData("schedule/export/initial")}}]),n}();return new n}])},e.exports=n.default},141:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=a(r);n.default=function(e){t(140)(e),e.controller("ScheduleExportController",["$filter","$rootScope","$scope","AppSettings","ScheduleExportApiService",function(e,n,t,a,r){t.successMessages=[],t.errorMessages=[],t.monthList=[],t.exportSpecsPDF={invalidDates:!1,dateFrom:null,dateTo:null},t.exportScheduleCSV={invalidDates:!1,dateFrom:null,dateTo:null},t.contractorExports={list:[],invalidDates:!1,dateFrom:null,dateTo:null};var i=function(){["#exportScheduleCSV_dateFrom","#exportScheduleCSV_dateTo","#exportScheduleCSV1_dateFrom","#exportSpecsPDF_dateFrom","#contractorExports_dateFrom","#contractorExports_dateTo"].forEach(function(e){$(e+"_shown").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:e,OnAfterMenuClose:function(){$(e).trigger("input")}})})};setTimeout(i,1500),r.getInitialData().then(function(r){if(0==t.monthList.length){var i=!0,s=!1,l=void 0;try{for(var c,u=(0,o.default)(r.month_list);!(i=(c=u.next()).done);i=!0){var h=c.value,g=new Date(Date.parse(h));t.monthList.push({title:e("date")(g,a.FORMAT_DATE_MONTH_SHORT_JS),value:g}),d(g)&&(t.exportScheduleCSV.dateFrom=t.exportScheduleCSV.dateTo=g,t.exportSpecsPDF.dateFrom=g,t.contractorExports.dateFrom=t.contractorExports.dateTo=g)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}}n.permissions=r.permissions,t.dealers=r.dealer,t.contractorExports.list=r.contractor_exports}),t.validateDates=function(e){e.invalidDates=e.dateFrom>e.dateTo},t.validatePDFDates=function(e){e.dateFrom&&(e.invalidDates=!0)};var d=function(e){var n=new Date;return n.getFullYear()==e.getFullYear()&&n.getMonth()==e.getMonth()}}])},e.exports=n.default},142:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("SchedulePlannerApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"getInitialData",value:function(){return e.getData("schedule/planner/initial")}},{key:"saveData",value:function(n,t){var a=t,r=a.getMonth()+1,o=a.getFullYear(),i=o+"/"+r+"/01";return e.postData("schedule/planner/save",{data:n,month_picker_data:i})}},{key:"updateMonth",value:function(n){var t=n,a=t.getMonth()+1,r=t.getFullYear(),o=r+"/"+a+"/01";return e.postData("schedule/planner/update_month",{month_picker_data:o})}}]),n}();return new n}])},e.exports=n.default},143:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(14),o=a(r),i=t(1),d=a(i);n.default=function(e){t(142)(e),e.controller("SchedulePlannerController",["$anchorScroll","$rootScope","$scope","SchedulePlannerApiService",function(e,n,t,a){t.saveLoading=!1,t.month_picker=new Date,t.defaultDate=new Date(new Date-2592e5),t.successMessages=[],t.errorMessages=[];var r=function(n){var a=!1,r=!0,o=!1,i=void 0;try{for(var s,l=(0,d.default)(n);!(r=(s=l.next()).done);r=!0){var c=s.value;c.initialValue=new Date(c.production_month),a|=c.capacity<c.total_orders}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}a&&t.errorMessages.push("One or more months have more orders than their allocated capacity."),t.all_data=n,e("message-anchor")};a.getInitialData().then(function(e){r(e.data),n.permissions=e.permissions}),t.save=function(){t.saveLoading=!0,a.saveData(t.all_data,t.month_picker).then(function(e){t.successMessages=["Data saved successfully"],t.errorMessages=[],r(e.data)},function(e){var n=e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),t.errorMessages=n}).finally(function(){t.saveLoading=!1})},t.monthpicker_selection=function(){a.updateMonth(t.month_picker).then(function(e){t.successMessages=[],t.errorMessages=[],r(e.data)},function(e){var n=e.data;("undefined"==typeof n?"undefined":(0,o.default)(n))==(0,o.default)("")&&(n=[n]),t.errorMessages=n}).finally(function(){t.saveLoading=!1})}}])},e.exports=n.default},144:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleDashboardApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"assignProductionDates",value:function(n){return e.postData("schedule/transportdashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(n)})}},{key:"changeOrderScheduleMonthPosition",value:function(n,t,a,r){return e.postData("schedule/transportdashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),order_list:r,new_schedule_month:e.formatDate(t),new_position_month:a})}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getDealerInitialData",value:function(n){return e.getData("schedule/transportdashboard/dealer/"+e.formatDate(n))}},{key:"saveCommentOnOrder",value:function(n,t){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,schedule_comments:t})}},{key:"saveQCOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-transport-order",{order_id:n.id+"",qc_comments_from:t})}},{key:"saveWaterOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-water-order",{order_id:n.id+"",qc_comments_from:t})}},{key:"saveDispatchOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:n.id+"",qc_comments_from:t})}},{key:"saveDealerCommentOnOrder",value:function(n,t){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,dealer_comments:t})}},{key:"saveLockdown",value:function(n,t){return e.postData("schedule/transportdashboard/update-lockdown",{lockdown_number:t,lockdown_month:n})}},{key:"updateOrderPosition",value:function(n,t,a,r,o,i){return e.postData("schedule/transportdashboard/update-order",{view_month:e.formatDate(n),order_id:t.id,new_month:a,new_position:r,previous_order_id:o,next_order_id:i})}},{key:"massFinalizeOrder",value:function(n,t){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:t})}}]),n}();return new n}])},e.exports=n.default},145:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleDashboardService",function(){var e=function(){function e(){(0,o.default)(this,e)}return(0,d.default)(e,[{key:"getSpecialFeatureClass",value:function(e){return"pending"==e.special_feature_status?"glyphicon-question-sign":"approved"==e.special_feature_status?"glyphicon-ok-sign":"rejected"==e.special_feature_status?"glyphicon-remove-sign":""}},{key:"isSameMonth",value:function(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()}},{key:"containsCaseInsensitive",value:function(e,n){return e.toLowerCase().indexOf(n.toLowerCase())!=-1}}]),e}();return new e})},e.exports=n.default},146:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(24),o=a(r),i=t(1),d=a(i);n.default=function(e){t(147)(e),t(144)(e),t(145)(e),e.controller("ScheduleTransportController",["$anchorScroll","$cookies","$filter","$rootScope","$scope","AppSettings","DateProvider","ScheduleTransportDashboardApiService","ScheduleDashboardApiService","ScheduleDashboardService",function(e,n,t,a,r,i,s,l,c,u){a.permissions={},r.monthDataLoading=!1,r.assignProductionDatesLoading=!1,r.sendEmailLoading=!1,r.sendReadyEmailLoading=!1,r.qcstatusvar={},r.qcshowgreen=!1,r.qcshow={},r.watershow={},r.dispatchshow={},r.hold_caravans_cur=!1,r.qc_comm_check={},r.testdate_dynamic="",r.calcdate={},r.planqcdate={},r.waterdate={},r.plandispdate={},r.holdblock={},r.prodblock={},r.prodblock1={},r.prodblock2={},r.chassisblock={},r.buildingblock={},r.prewireblock={},r.plumbingblock={},r.aluminiumblock={},r.finishingblock={},r.watertestingblock={},r.weighbridgeblock={},r.detailingblock={},r.qcblock={},r.qcblock1={},r.waterblock={},r.waterblock1={},r.weight_tare={},r.weight_atm={},r.weight_tow_ball={},r.weight_chassis_gtm={},r.weight_gas_comp={},r.weight_payload={},r.finalqcblock={},r.dispatchblock1={},r.dispatchblock2={},r.completeblock={},r.blankblock={},r.dispshowgreen=!1,r.actual_prod_date_loading={},r.chassis_section_date_loading={},r.onChasisSectionCommentLoading={},r.building_date_loading={},r.onBuildingCommentLoading={},r.prewire_date_loading={},r.onPrewireCommentLoading={},r.plumbing_date_loading={},r.onPlumbingCommentLoading={},r.aluminium_date_loading={},r.finishing_date_loading={},r.watertest_date_loading={},r.weigh_bridge_date_loading={},r.detailing_date_loading={},r.onAluminiumCommentLoading={},r.onFinishingCommentLoading={},r.onWatertestCommentLoading={},r.onWeighBridgeCommentLoading={},r.onDetailingCommentLoading={},r.orderCommentLoading={},r.actual_qc_date_loading={},r.qcCommentLoading={},r.ChassisCommentLoading={},r.prodCommentLoading={},r.actual_water_test_date_loading={},r.waterCommentLoading={},r.detailingCommentLoading={},r.final_qc_date_loading={},r.FinalQCCommentLoading={},r.actual_dispatch_date_loading={},r.dispatchCommentLoading={},r.orderSortLoading={},r.searchStr="",r.statuscolorvar="",r.await_chassis=0,r.await_building=0,r.await_prewire=0,
r.await_aluminium=0,r.await_finishing=0,r.await_watertesting=0,r.await_weighbridge=0,r.await_detailing=0,r.dispatched_count=0,r.ready_for_dispatch_count=0,r.final_qc_count=0,r.water_count=0,r.first_qc_count=0,r.monthList=[],r.ordersSelected=[],r.mydate={date:new Date},r.getTodaysDate=new Date,r.sortableOptions={axis:"y",containment:"#transport_dashboard .content table tbody, #transport_dashboard .content table tfoot",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".drag-handle",placeholder:"sortable-placeholder",helper:function e(n,t){var a=t.children(),e=t.clone();return e.children().each(function(e,n){$(n).width(a.eq(e).outerWidth())}),e},stop:function(e,n){var t=(n.item.sortable.index,n.item.sortable.dropindex),a=n.item.sortable.model;if("dropindex"in n.item.sortable){for(var o=void 0,i=t,d=void 0,s=void 0,c=void 0,u=void 0,h=0;h<r.orderList.length;h++){var g=r.orderList[h];if(g.month_header&&(c=g.month,u=h),g.id==a.id){i-=u,o=c,h+1<r.orderList.length&&(s=r.orderList[h+1].id);break}d=g.id}r.orderSortLoading[a.id]=!0,l.updateOrderPosition(r.currentMonth,a,o,i,d,s).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){}).finally(function(){r.orderSortLoading[a.id]=!1})}}};var h=s.now();r.currentMonth=new Date(h.getFullYear(),h.getMonth());var g=function(e){r.monthDataLoading=!0,l.getInitialData1(e).then(function(e){r.orderList=e.order_list,r.countList=e.count_list,r.lockdownMonth=e.lockdown_month,r.lockdownNumber=e.lockdown_number,r.finaltest=new Date,r.calcdate={},r.planqcdate={},r.waterdate={},r.plandispdate={};if(r.dispatched_count=0,r.ready_for_dispatch_count=0,r.water_count=0,r.await_chassis=0,r.await_building=0,r.await_prewire=0,r.await_aluminium=0,r.await_finishing=0,r.await_watertesting=0,r.await_weighbridge=0,r.await_detailing=0,r.await_qc_count_red=0,r.await_qc_count_yellow=-1,r.await_water_count_red=0,r.await_water_count_yellow=0,r.final_qc_count=0,a.permissions=e.permissions,0==r.monthList.length){var n=!0,o=!1,s=void 0;try{for(var l,c=(0,d.default)(e.month_list);!(n=(l=c.next()).done);n=!0){var h=l.value,g=new Date(Date.parse(h));r.monthList.push({title:t("date")(g,i.FORMAT_DATE_MONTH_SHORT_JS),value:g}),u.isSameMonth(r.currentMonth,g)&&(r.currentMonth=g)}}catch(e){o=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}}}).catch(function(e){}).finally(function(){r.monthDataLoading=!1})},p=function(e){r.monthDataLoading=!0,l.getStatusInitialData().then(function(e){r.chassis_list=e.chassis_list,r.building_list=e.building_list,r.prewire_list=e.prewire_list,r.plumbing_list=e.plumbing_list,r.aluminium_list=e.aluminium_list,r.finishing_list=e.finishing_list,r.water_test_list=e.water_test_list,r.weigh_bridge_list=e.weigh_bridge_list,r.detailing_list=e.detailing_list,r.actual_qc_list=e.actual_qc_list,r.final_qc_list=e.final_qc_list,r.actual_dispatch_list=e.actual_dispatch_list,r.actual_dispatch_list1=e.actual_dispatch_list1,r.email_sent_green_list=e.email_sent_green_list,r.today_dispatched_list=e.today_dispatched_list,r.yesterday_dispatched_list=e.yesterday_dispatched_list,r.this_week_dispatched_list=e.this_week_dispatched_list,r.this_month_dispatched_list=e.this_month_dispatched_list,r.total_count=e.total_count,a.permissions=e.permissions}).catch(function(e){}).finally(function(){r.monthDataLoading=!1})},_=function(e){l.getDelayStatusData().then(function(e){r.delay_list=e.delay_list,a.permissions=e.permissions}).catch(function(e){}).finally(function(){r.monthDataLoading=!1})};g(r.currentMonth),p(),_(),$("#chosen_month_show").MonthPicker({Button:!1,MonthFormat:"M yy",SelectedMonth:0,AltFormat:"yy-mm-dd",AltField:"#chosen_month",OnAfterMenuClose:function(){$("#chosen_month").trigger("input")}}),r.$watch("currentMonth",function(e,n){e instanceof Date||(e=new Date(Date.parse(e))),n instanceof Date||(n=new Date(Date.parse(n))),u.isSameMonth(e,n)||g(e)}),r.getStatusClass=function(e){return"plans_completed"==e?"summary_plans_completed":e},r.call_Status=function(){console.log("test this call")},r.getOrderSummarySorted=function(e){var n=Object();return"not_finalized"in e&&(n.not_finalized=e.not_finalized),"pending_draft"in e&&(n.pending_draft=e.pending_draft),"pending_customer"in e&&(n.pending_customer=e.pending_customer),"customer_approved"in e&&(n.customer_approved=e.customer_approved),"plans_completed"in e&&(n.plans_completed=e.plans_completed),n},r.getSpecialFeatureClass=function(e){return u.getSpecialFeatureClass(e)},r.hold_order_fun=function(e){var n=!1;n=0==e.hold_caravans,l.hold_Order(e,n).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while Holding Order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.qcCommentLoading[e.id]=!1})},r.onChasisSectionCommentChange=function(e,n){var a=e.target.value,o=n.chassis_section_comments;a!=o&&(null==o&&""===a||(r.onChasisSectionCommentLoading[n.id]=!0,l.saveChassisOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Chassis  comments for order #"+n.index+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onChasisSectionCommentLoading[n.id]=!1})))},r.onBuildingCommentChange=function(e,n){var a=e.target.value,o=n.building_comments;a!=o&&(null==o&&""===a||(r.onBuildingCommentLoading[n.id]=!0,l.saveBuildingOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Building comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onBuildingCommentLoading[n.id]=!1})))},r.onPrewireCommentChange=function(e,n){var a=e.target.value,o=n.prewire_comments;a!=o&&(null==o&&""===a||(r.onPrewireCommentLoading[n.id]=!0,l.savePrewireOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Prewire comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onPrewireCommentLoading[n.id]=!1})))},r.onPlumbingCommentChange=function(e,n){var a=e.target.value,o=n.prewire_comments;a!=o&&(null==o&&""===a||(r.onPlumbingCommentLoading[n.id]=!0,l.savePlumbingOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Plumbing comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onPlumbingCommentLoading[n.id]=!1})))},r.onAluminiumCommentChange=function(e,n){var a=e.target.value,o=n.chassis_section_comments;a!=o&&(null==o&&""===a||(r.onAluminiumCommentLoading[n.id]=!0,l.saveAluminiumOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Aluminium comments for order # "+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onAluminiumCommentLoading[n.id]=!1})))},r.onFinishingCommentChange=function(e,n){var a=e.target.value,o=n.finishing_comments;a!=o&&(null==o&&""===a||(r.onFinishingCommentLoading[n.id]=!0,l.saveFinishinOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Finishing comments for order # "+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onFinishingCommentLoading[n.id]=!1})))},r.onWaterTestCommentChange=function(e,n){var a=e.target.value,o=n.watertest_comments;a!=o&&(null==o&&""===a||(r.onWatertestCommentLoading[n.id]=!0,l.saveWatertestOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Watertest comments for order # "+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onWatertestCommentLoading[n.id]=!1})))},r.onWeighBridgeCommentChange=function(e,n){var a=e.target.value,o=n.weigh_bridge_comments;a!=o&&(null==o&&""===a||(r.onWeighBridgeCommentLoading[n.id]=!0,l.saveWeighBridgeOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Weigh Bridge comments for order # "+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onWeighBridgeCommentLoading[n.id]=!1})))},r.onDetailingCommentChange=function(e,n){var a=e.target.value,o=n.detailing_comments;a!=o&&(null==o&&""===a||(r.onDetailingCommentLoading[n.id]=!0,l.saveDetailingOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Detailing comments for order # "+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.onDetailingCommentLoading[n.id]=!1})))},r.onProdCommentChange=function(e,n){var a=e.target.value,o=n.prod_comments_from;a!=o&&(null==o&&""===a||(r.prodCommentLoading[n.id]=!0,l.saveProdOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Production comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.prodCommentLoading[n.id]=!1})))},r.onWaterCommentChange=function(e,n){var a=e.target.value,o=n.watertest_comments;a!=o&&(null==o&&""===a||(r.waterCommentLoading[n.id]=!0,l.saveWaterOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Water comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.waterCommentLoading[n.id]=!1})))},r.onFinalQCCommentChange=function(e,n){var a=e.target.value,o=n.final_qc_comments;a!==o&&(null===o&&""===a||(r.FinalQCCommentLoading[n.id]=!0,l.saveFinalQCOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Final QC comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.FinalQCCommentLoading[n.id]=!1})))},r.onDispatchCommentChange=function(e,n){var a=e.target.value,o=n.dispatch_comments;a!=o&&(null==o&&""===a||(r.dispatchCommentLoading[n.id]=!0,l.saveDispatchOnOrder(n,a).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating Dispatch comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){r.dispatchCommentLoading[n.id]=!1})))},r.storeproddate=function(e,n){var a=r.getTodaysDate,o=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();l.saveProdDate(n,o).then(function(){r.errorMessages=[]}).catch(function(){r.errorMessages=["Error while updating QC comments for order #"+n.chassis+" for "+t("date")(n.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},r.storeqcdate=function(e,n){r.getTodaysDate;r.dispatchCommentLoading[n.id]=!0,l.saveQcDate(n,newValue).then(function(){r.errorMessages=[]}).catch(function(){}).finally(function(){r.dispatchCommentLoading[n.id]=!1})},r.onOrderCommentChange=function(e,n){var t=e.target.value,a=n.schedule_comments;t!=a&&(r.orderCommentLoading[n.id]=!0,l.saveCommentOnOrder(n,t).then(function(){r.errorMessages=[]}).catch(function(){}).finally(function(){r.orderCommentLoading[n.id]=!1}))},r.checkdatefun1=function(e){if(r.getTodaysDate>e.id)return r.watshowgreen=!1,!0},r.checkwaterfun=function(e){r.actual_water_test_date_loading[e.id]=!0;var n=new Date(r.getTodaysDate),a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveWaterDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Water Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),r.actual_water_test_date_loading[e.id]=!1}),r.actual_water_test_date_loading[e.id]=!1},r.checkfinalqcfun=function(e){r.final_qc_date_loading[e.id]=!0;var n=new Date(r.getTodaysDate),a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveFinalQCDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while final QC Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),r.final_qc_date_loading[e.id]=!1}),r.final_qc_date_loading[e.id]=!1},r.checkdatefun=function(e){r.actual_dispatch_date_loading[e.id]=!0;var n=new Date(r.getTodaysDate),a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveDispatchDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Actual Dispatch Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),r.actual_dispatch_date_loading[e.id]=!1}),r.actual_dispatch_date_loading[e.id]=!1},r.checkproddate=function(e){r.actual_prod_date_loading[e.id]=!0;var n=new Date(r.getTodaysDate),a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveProdDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Actual Production Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(2e3),r.actual_prod_date_loading[e.id]=!1})},r.checkweights=function(e){if(!(e.weight_tare&&e.weight_atm&&e.weight_tow_ball&&e.weight_tyres&&e.weight_chassis_gtm&&e.weight_gas_comp&&e.weight_payload))return r.dispshowgreen=!0,!0},r.checkallweights=function(e){return!!(e.weight_tare||e.weight_atm||e.weight_tow_ball||e.weight_tyres||e.weight_chassis_gtm||e.weight_gas_comp||e.weight_payload)&&(r.dispshowgreen=!1,!0)},r.checkwaterfun1=function(e){return r.getTodaysDate>e.id?(r.dispshowgreen=!0,!0):(r.dispshowgreen=!1,!1)},r.isSectionDateChanged=function(e){r.chassis_section_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveChassisDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Chassis Section Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.chassis_section_date_loading[e.id]=!1}),r.chassis_section_date_loading[e.id]=!1},r.isBuildingDateChanged=function(e){r.building_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveBuildingDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Building  Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.building_date_loading[e.id]=!1}),r.building_date_loading[e.id]=!1},r.isPrewireDateChanged=function(e){r.prewire_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.savePrewireDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Prewire Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.prewire_date_loading[e.id]=!1}),r.prewire_date_loading[e.id]=!1},r.isPlumbingDateChanged=function(e){r.plumbing_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.savePlumbingDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Plumbing Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.plumbing_date_loading[e.id]=!1}),r.plumbing_date_loading[e.id]=!1},r.isAluminiumDateChanged=function(e){r.aluminium_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveAluminiumDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Aluminium Date for order #"+e.chassis+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.aluminium_date_loading[e.id]=!1}),r.aluminium_date_loading[e.id]=!1},r.isFinishingDateChanged=function(e){r.finishing_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveFinishingDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Finishing Date for order #"+e.index+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.finishing_date_loading[e.id]=!1}),r.finishing_date_loading[e.id]=!1},r.isWatertestDateChanged=function(e){r.watertest_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveWatertestDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating Watertest Date for order #"+e.index+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.watertest_date_loading[e.id]=!1}),r.watertest_date_loading[e.id]=!1},r.isWeighbridgeDateChanged=function(e){r.weigh_bridge_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveWeighBridgeDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating  Weigh Bridge  Date for order #"+e.index+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.weigh_bridge_date_loading[e.id]=!1}),r.weigh_bridge_date_loading[e.id]=!1},r.isDetailingDateChanged=function(e){r.detailing_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveDetailingDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating  Detailing Date for order #"+e.index+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.detailing_date_loading[e.id]=!1}),r.detailing_date_loading[e.id]=!1},r.checkactualqc=function(e){r.actual_qc_date_loading[e.id]=!0;var n=r.getTodaysDate,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();l.saveQcDate(e,a).then(function(){r.errorMessages=[],g(r.currentMonth),setTimeout(2e3)}).catch(function(){r.errorMessages=["Error while updating QC Canopy Date for order #"+e.index+" for "+t("date")(e.month,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){setTimeout(1e3),r.actual_qc_date_loading[e.id]=!1}),r.actual_qc_date_loading[e.id]=!1},r.isSortingAllowed=function(){return r.permissions.view_transport_dashboard},r.hasSequenceChangeInProgress=function(){return!(0,o.default)(r.orderSortLoading).every(function(e){return!e})},r.isSortingAvailable=function(){return!r.searchStr&&!r.hasSequenceChangeInProgress()&&!r.moveCmdInitiated},r.isOrderMovingButtonAvailable=function(){return!r.hasSequenceChangeInProgress()&&!r.moveCmdInitiated},r.testfilterfun=function(){r.searchStr="Dispatched"},r.filterreadyfordispatch=function(){r.searchStr="Ready For Dispatch"},r.filterchassis=function(){r.searchStr="Chassis"},r.filterbuilding=function(){r.searchStr="Building"},r.filterprewire=function(){r.searchStr="Prewire"},r.filterplumbing=function(){r.searchStr="Plumbing"},r.filteraluminium=function(){r.searchStr="Aluminium"},r.filterfinishing=function(){r.searchStr="Finishing"},r.filteractualqc=function(){r.searchStr="QC Canopy"},r.filterwatertest=function(){r.searchStr="Water Testing"},r.filterweighbridge=function(){r.searchStr="Weigh Bridge"},r.filterdetailing=function(){r.searchStr="Detailing"},r.filterfinalqc=function(){r.searchStr="Final QC"},r.filterOrders=function(e){return!!e.month_header||(u.containsCaseInsensitive(e.model_series,r.searchStr)||u.containsCaseInsensitive(e.dealership,r.searchStr)||u.containsCaseInsensitive(e.customer,r.searchStr)||u.containsCaseInsensitive(e.chassis,r.searchStr)||u.containsCaseInsensitive(e.order_id,r.searchStr)||u.containsCaseInsensitive(e.order_status,r.searchStr))},r.export_delay_all=function(){l.exportDelayAll().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting All the Delayed orders. Please reload the page."]}).finally(function(){})},r.export_delay_chassis=function(){l.exportDelayChassis().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Chassis Delay. Please reload the page."]}).finally(function(){})},r.export_delay_building=function(){l.exportDelayBuilding().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Building Delay. Please reload the page."]}).finally(function(){})},r.export_delay_prewire=function(){l.exportDelayPrewire().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Pre Wire Delay. Please reload the page."]}).finally(function(){})},r.export_delay_plumbing=function(){l.exportDelayPlumbing().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Plumbing Delay. Please reload the page."]}).finally(function(){})},r.export_delay_aluminium=function(){l.exportDelayAluminium().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Aluminium Delay. Please reload the page."]}).finally(function(){})},r.export_delay_finishing=function(){l.exportDelayFinishing().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Finishing Delay. Please reload the page."]}).finally(function(){})},r.export_delay_detailing=function(){l.exportDelayDetailing().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Detailing Delay. Please reload the page."]}).finally(function(){})},r.export_delay_watertesting=function(){l.exportDelayWatertesting().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Watertesting Delay. Please reload the page."]}).finally(function(){})},r.export_delay_actualqc=function(){l.exportDelayActualQC().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Actual QC Delay. Please reload the page."]}).finally(function(){})},r.export_delay_finalqc=function(){l.exportDelayFinalQC().then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the Final QC Delay. Please reload the page."]}).finally(function(){})},r.export_dispatched=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportDispatched(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_ready_dispatch=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportReadyDispatched(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_chassis=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportChassis(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_building=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportBuilding(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_prewire=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportPrewire(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_plumbing=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportPlumbing(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_aluminium=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportAluminium(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_finishing=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportFinishing(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_watertesting=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportWatertesting(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_weighbridge=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportWeighbridge(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_detailing=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportDetailing(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_actualqc=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportActualQc(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_watertest=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportWatertest(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_finalqc=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportFinalQC(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.export_all=function(){var e=new Date(r.currentMonth),n=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),a=n+"-"+t;l.exportAll(a).then(function(){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while exporting the orders. Please reload the page."]}).finally(function(){})},r.assignProductionDates=function(){r.assignProductionDatesLoading=!0,l.assignProductionDates(r.currentMonth).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.assignProductionDatesLoading=!1})},r.sendReadyForDispatchList=function(){r.sendReadyEmailLoading=!0,console.log("Entering the Ready For Dispatch ! "),l.sendEmailReadyForDispatch().then(function(e){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.sendReadyEmailLoading=!1})},r.sendActualDispatchList=function(){r.sendEmailLoading=!0,console.log("Entering the Function"),l.sendEmailActualDispatch().then(function(e){r.errorMessages=[]}).catch(function(e){e?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.sendEmailLoading=!1})},r.onLockdown=function(e,n){l.saveLockdown(e,n).then(function(e){r.errorMessages=[],r.lockdownMonth=e.lockdown_month,r.lockdownNumber=e.lockdown_number}).catch(function(){r.errorMessages=["Error while locking down order #"+n+" for "+t("date")(e,i.FORMAT_DATE_MONTH_SHORT_JS)]}).finally(function(){})},r.onMoveCmd=function(){r.moveCmdInitiated=!0,l.changeOrderScheduleMonthPosition(r.currentMonth,r.move_month,r.new_position,r.ordersSelected).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){(e||{}).data}).finally(function(){angular.forEach(r.ordersSelected,function(e){return r.orderSortLoading[e]=!1}),r.moveCmdInitiated=!1}),$("#moveOrderModal").modal("hide")},r.moveOrderCount=function(){var e=0;return angular.forEach(r.orderList,function(n){n.selected&&e++}),e},$("#moveOrderModal.modal").on("hidden.bs.modal",function(){r.moveCmdInitiated||(angular.forEach(r.ordersSelected,function(e){return r.orderSortLoading[e]=!1}),angular.forEach(r.orderList,function(e){e.selected&&(e.selected=!1)}),r.$apply())}),r.moveOrders=function(){r.ordersSelected=[],angular.forEach(r.orderList,function(e,n){e.selected&&(r.ordersSelected.push(e.id),r.orderSortLoading[e.id]=!0)}),r.modalTitle="Move "+r.ordersSelected.length+" Order",r.ordersSelected.length>1&&(r.modalTitle+="s"),$("#moveOrderModal.modal").modal({backdrop:"static",keyboard:!1})},r.lockOrders=function(){r.ordersSelected=[],r.lockCmdInitiated=!0,angular.forEach(r.orderList,function(e,n){e.selected&&r.ordersSelected.push(e.id)}),l.massFinalizeOrder(r.currentMonth,r.ordersSelected).then(function(e){r.orderList=e.order_list,r.errorMessages=[]}).catch(function(e){(e||{}).data?r.errorMessages=[e.data]:r.errorMessages=["Error while updating the orders. Please reload the page."]}).finally(function(){r.lockCmdInitiated=!1})}}])},e.exports=n.default},147:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=a(r),i=t(3),d=a(i);n.default=function(e){e.factory("ScheduleTransportDashboardApiService",["ApiService",function(e){var n=function(){function n(){(0,o.default)(this,n)}return(0,d.default)(n,[{key:"assignProductionDates",value:function(n){return e.postData("schedule/transportdashboard/assign-production-dates",{assign_production_dates_for_month:e.formatDate(n)})}},{key:"changeOrderScheduleMonthPosition",value:function(n,t,a,r){return e.postData("schedule/transportdashboard/change-order-schedule-month-position",{view_month:e.formatDate(n),order_list:r,new_schedule_month:e.formatDate(t),new_position_month:a})}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getInitialData",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getInitialData1",value:function(n){return e.getData("schedule/dashboard/initialdata/"+e.formatDate(n))}},{key:"getStatusInitialData",value:function(){return e.getData("schedule/dashboard/production_status/")}},{key:"getDelayStatusData",
value:function(){return e.getData("schedule/dashboard/delay_status/")}},{key:"getDealerInitialData",value:function(n){return e.getData("schedule/transportdashboard/dealer/"+e.formatDate(n))}},{key:"getStatusData",value:function(n){return e.getData("schedule/dashboard/production_status/"+e.formatDate(n))}},{key:"hold_Order",value:function(n,t){return e.postData("schedule/dashboard/update-hold-caravans",{order_id:n.id,hold_caravans:t})}},{key:"saveCommentOnOrder",value:function(n,t){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,schedule_comments:t})}},{key:"saveChassisOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-chassis-section-comments",{order_id:n.id+"",chassis_section_comments:t})}},{key:"saveBuildingOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-building-comments",{order_id:n.id+"",building_comments:t})}},{key:"savePrewireOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-prewire-comments",{order_id:n.id+"",prewire_comments:t})}},{key:"savePlumbingOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-plumbing-comments",{order_id:n.id+"",plumbing_comments:t})}},{key:"saveAluminiumOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-aluminium-comments",{order_id:n.id+"",aluminium_comments:t})}},{key:"saveFinishinOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-finishing-comments",{order_id:n.id+"",finishing_comments:t})}},{key:"saveWatertestOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-water-comments",{order_id:n.id+"",watertest_comments:t})}},{key:"saveProdOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-prodcomment-order",{order_id:n.id+"",prod_comments_from:t})}},{key:"saveWaterOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-water-order",{order_id:n.id+"",watertest_comments:t})}},{key:"saveWeighBridgeOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-weigh-bridge-comments",{order_id:n.id+"",weigh_bridge_comments:t})}},{key:"saveDetailingOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-detailing-comments",{order_id:n.id+"",detailing_comments:t})}},{key:"saveFinalQCOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-finalqccomment-order",{order_id:n.id+"",final_qc_comments:t})}},{key:"saveDispatchOnOrder",value:function(n,t){return e.postData("schedule/dashboard/update-dispatch-order",{order_id:n.id+"",dispatch_comments:t})}},{key:"saveProdDate",value:function(n,t){return e.postData("schedule/dashboard/update-proddate",{order_id:n.id+"",actual_production_date:t})}},{key:"savePlannedWaterDate",value:function(n,t,a,r){return e.postData("schedule/dashboard/update-planned-water-date",{order_id:n.id+"",planned_watertest_date:a,planned_qc_date:t,planned_disp_date:r})}},{key:"saveChassisDate",value:function(n,t){return e.postData("schedule/dashboard/update-chassis-section",{order_id:n.id+"",chassis_section:t})}},{key:"saveAluminiumDate",value:function(n,t){return e.postData("schedule/dashboard/update-aluminium",{order_id:n.id+"",aluminium:t})}},{key:"saveBuildingDate",value:function(n,t){return e.postData("schedule/dashboard/update-building",{order_id:n.id+"",building:t})}},{key:"savePrewireDate",value:function(n,t){return e.postData("schedule/dashboard/update-prewire_section",{order_id:n.id+"",prewire_section:t})}},{key:"savePlumbingDate",value:function(n,t){return e.postData("schedule/dashboard/update-plumbing_date",{order_id:n.id+"",plumbing_date:t})}},{key:"saveFinishingDate",value:function(n,t){return e.postData("schedule/dashboard/update-finishing",{order_id:n.id+"",finishing:t})}},{key:"saveWatertestDate",value:function(n,t){return e.postData("schedule/dashboard/update-waterdate",{order_id:n.id+"",watertest_date:t})}},{key:"saveWeighBridgeDate",value:function(n,t){return e.postData("schedule/dashboard/update-weigh-bridge",{order_id:n.id+"",weigh_bridge_date:t})}},{key:"saveDetailingDate",value:function(n,t){return e.postData("schedule/dashboard/update-detailing",{order_id:n.id+"",detailing_date:t})}},{key:"saveQcDate",value:function(n,t){return e.postData("schedule/dashboard/update-qcdate",{order_id:n.id+"",actual_qc_date:t})}},{key:"saveWaterDate",value:function(n,t){return e.postData("schedule/dashboard/update-waterdate",{order_id:n.id+"",actual_watertest_date:t+""})}},{key:"saveFinalQCDate",value:function(n,t){return e.postData("schedule/dashboard/update-finalqcdate",{order_id:n.id+"",final_qc_date:t+""})}},{key:"saveDispatchDate",value:function(n,t){return e.postData("schedule/dashboard/update-dispatchdate",{order_id:n.id+"",actual_dispatch_date:t})}},{key:"sendEmailReadyForDispatch",value:function(){return e.postData("schedule/dashboard/send-ReadyForDispatch",{send_ReadyForDispatch:"send_ReadyForDispatch"})}},{key:"sendEmailActualDispatch",value:function(){return e.postData("schedule/dashboard/send-ActualDispatch",{send_ActualDispatch:"send_ActualDispatch"})}},{key:"exportDispatched",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/dispatched/"+e+"/"+e}},{key:"exportReadyDispatched",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/pending_for_dispatch/"+e+"/"+e}},{key:"exportChassis",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_chassis/"+e+"/"+e}},{key:"exportBuilding",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_building/"+e+"/"+e}},{key:"exportPrewire",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_prewire/"+e+"/"+e}},{key:"exportPlumbing",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_plumbing/"+e+"/"+e}},{key:"exportAluminium",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_aluminium/"+e+"/"+e}},{key:"exportFinishing",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_finishing/"+e+"/"+e}},{key:"exportWatertesting",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_watertest/"+e+"/"+e}},{key:"exportWeighbridge",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_weighbridge/"+e+"/"+e}},{key:"exportDetailing",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_detailing/"+e+"/"+e}},{key:"exportActualQc",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_qc/"+e+"/"+e}},{key:"exportWatertest",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_water_test/"+e+"/"+e}},{key:"exportFinalQC",value:function(e){window.location="/export/schedule/productiondashboard-csv/1/awaiting_final_qc/"+e+"/"+e}},{key:"exportAll",value:function(e){console.log("all"),window.location="/export/schedule/productiondashboard-csv/1/all/"+e+"/"+e}},{key:"exportDelayAll",value:function(){window.location="/export/schedule/delaydashboard-csv/all/"}},{key:"exportDelayChassis",value:function(){window.location="/export/schedule/delaydashboard-csv/chassis/"}},{key:"exportDelayBuilding",value:function(){window.location="/export/schedule/delaydashboard-csv/building/"}},{key:"exportDelayPrewire",value:function(){window.location="/export/schedule/delaydashboard-csv/prewire/"}},{key:"exportDelayPlumbing",value:function(){window.location="/export/schedule/delaydashboard-csv/plumbing/"}},{key:"exportDelayAluminium",value:function(){window.location="/export/schedule/delaydashboard-csv/aluminium/"}},{key:"exportDelayFinishing",value:function(){window.location="/export/schedule/delaydashboard-csv/finishing/"}},{key:"exportDelayDetailing",value:function(){window.location="/export/schedule/delaydashboard-csv/detailing/"}},{key:"exportDelayWatertesting",value:function(){window.location="/export/schedule/delaydashboard-csv/watertesting/"}},{key:"exportDelayFinalQC",value:function(){window.location="/export/schedule/delaydashboard-csv/finalqc/"}},{key:"exportDelayActualQC",value:function(){window.location="/export/schedule/delaydashboard-csv/actualqc/"}},{key:"saveDealerCommentOnOrder",value:function(n,t){return e.postData("schedule/transportdashboard/update-order",{order_id:n.id,dealer_comments:t})}},{key:"saveLockdown",value:function(n,t){return e.postData("schedule/transportdashboard/update-lockdown",{lockdown_number:t,lockdown_month:n})}},{key:"updateOrderPosition",value:function(n,t,a,r,o,i){return e.postData("schedule/transportdashboard/update-order",{view_month:e.formatDate(n),order_id:t.id,new_month:a,new_position:r,previous_order_id:o,next_order_id:i})}},{key:"massFinalizeOrder",value:function(n,t){return e.postData("orders/mass-finalize-orders",{view_month:e.formatDate(n),order_list:t})}}]),n}();return new n}])},e.exports=n.default},178:function(e,n,t){"use strict";var a=t(10);t(133)(a),a.config(["$stateProvider","$urlRouterProvider",function(e,n){var a=function(e){var n=new Date,t=new Date(n.getFullYear(),n.getMonth());return e.getObject("scheduleCapacityCurrentMonth")&&(t=new Date(Date.parse(e.getObject("scheduleCapacityCurrentMonth")))),t};n.when("","/dashboard").when("/capacity",["$cookies","$state",function(e,n){return n.go("schedule.capacity",{currentMonth:a(e)},{reload:!0}),!0}]).when("/transportdashboard",["$cookies","$state",function(e,n){return n.go("schedule.transportdashboard",{currentMonth:a(e)},{reload:!0}),!0}]),e.state("dealer_dashboard",{url:"/dealer_dashboard",template:t(314),controller:"DealerScheduleDashboardController"}).state("schedule",{abstract:!0,url:"",template:t(318),controller:"ScheduleController"}).state("schedule.dashboard",{url:"/dashboard",template:t(313),controller:"ScheduleDashboardController"}).state("schedule.transportdashboard",{url:"/transportdashboard",template:t(319),controller:"ScheduleTransportController"}).state("schedule.statusdashboard",{url:"/statusdashboard",template:t(322),controller:"ScheduleTransportController"}).state("schedule.delaydashboard",{url:"/delaydashboard",template:t(320),controller:"ScheduleTransportController"}).state("combinedstatusdashboard",{url:"/combinedstatusdashboard",template:t(321),controller:"ScheduleTransportController"}).state("schedule.capacity",{url:"/capacity/{currentMonth:date}",template:t(312),controller:"ScheduleCapacityController",params:{currentMonth:["$cookies",function(e){return a(e)}]}}).state("schedule.planner",{url:"/planner",template:t(317),controller:"SchedulePlannerController"}).state("schedule.dealership",{url:"/dealership",template:t(315),controller:"ScheduleDealerController"}).state("schedule.export",{url:"/export",template:t(316),controller:"ScheduleExportController"})}])},188:function(e,n,t){e.exports={default:t(199),__esModule:!0}},199:function(e,n,t){var a=t(4),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},312:function(e,n){e.exports='<div id="capacity">\n    <top-bar>\n        <h2 class="top-bar__title">Caravans Production Capacity</h2>\n    </top-bar>\n\n    <messages></messages>\n\n    <div class="row header">\n        <label>Date range:</label>\n        <select ng-model="currentMonth"\n            ng-options="month.value as month.title for month in monthList" no-dirty-check></select>\n        <bar-spinner ng-if="initialDataLoading"></bar-spinner>\n    </div>\n\n    <div class="row content">\n        <table>\n            <thead>\n                <tr>\n                    <th>Date</th>\n                    <th>Capacity</th>\n                    <th>Type</th>\n                    <th ng-if="permissions.change_schedule_capacity"></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="week in weekList" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\n                    <td>{{ week.start_label }} - {{ week.end_label }}</td>\n                    <td><strong>{{ week.total_capacity }}</strong></td>\n                    <td>\n                        <ul>\n                            <li ng-repeat="day in week.days" ng-class="day.month_start ? \'month-start\': \'\'">\n                                <label>{{ day.label }}</label>\n                                <input type="number" ng-model="day.capacity" ng-readonly="!permissions.change_schedule_capacity" />\n                                <div>{{ day.month_start }}</div>\n                            </li>\n                        </ul>\n                    </td>\n                    <td ng-if="permissions.change_schedule_capacity"><a ng-if="!$last" ng-click="duplicate(week)">Copy to following week</a></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class="row footer">\n        <button ng-if="permissions.change_schedule_capacity" class="btn btn-primary btn-lg btn-danger" ng-click="save()">Save changes</button>\n        <bar-spinner ng-if="saveLoading"></bar-spinner>\n    </div>\n</div>'},313:function(e,n){e.exports='<div id="dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Caravans Dashboard</h2>\n    </top-bar>\n\n\n\n    <messages></messages>\n\n    <div class="row header">\n        <div class="col-sm-2">\n            <label>Month: </label>\n                <input id=\'chosen_month_show\' type="text" class="form-control" />\n                <input id=\'chosen_month\' hidden ng-model="currentMonth" no-dirty-check />\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\n        </div>\n        <div class="col-sm-5">\n            <label>Filter: </label>\n            <input ng-model="searchStr" placeholder="Type to filter on Model, Customer, Dealership, Chassis or Comments..." size="60" />\n        </div>\n\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-4 pull-right">\n            <button ng-click="assignProductionDates()" class="btn btn-primary pull-right">Assign production dates</button>\n            <div class="spinner-container"><bar-spinner ng-if="assignProductionDatesLoading"></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-3 pull-right">\n            <button ng-click="moveOrders()" ng-disabled="!moveOrderCount() || !isOrderMovingButtonAvailable() " class="btn btn-primary">Move Orders</button>\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.change_schedule_dashboard" class="col-sm-2 pull-right">\n            <button ng-click="moveOrders2()" ng-disabled="!moveOrderCount() || !isOrderMovingButtonAvailable() " class="btn btn-primary">Move to Pop-Top/Campers</button>\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.finalize_order" class="col-sm-1 pull-right">\n            <button ng-click="lockOrders()" ng-disabled="!moveOrderCount()" class="btn btn-primary">Lock Orders</button>\n            <div class="spinner-container" ng-if="lockCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n    </div>\n\n    <div class="row content">\n        <table>\n            <thead>\n                <tr>\n                    <th ng-if="isSortingAllowed()">&nbsp;</th>\n                    <th>Sch. No.</th>\n                    <th>Production date</th>\n                    <th>Chassis</th>\n                    <th>Order #</th>\n                    <th>Series Code</th>\n                    <th>Special</th>\n                    <th>Dealership</th>\n                    <th>Customer</th>\n                    <th>Drafter</th>\n                    <th class="comments">Comments</th>\n                    <th>VIN No.</th>\n                    <th ng-if="permissions.change_schedule_dashboard">Select</th>\n                    <th>Manage</th>\n                    <th ng-if="permissions.change_schedule_dashboard">Lock</th>\n                </tr>\n            </thead>\n            <tbody ui-sortable="sortableOptions" ng-model="orderList">\n                <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\n                    <td ng-if="order.month_header && isSortingAllowed()" class="month-header">&nbsp;</td>\n                    <td ng-if="order.month_header" class="month-header" colspan="42">\n                        {{ order.month_header }}\n                        <span class="capacity">\n                            <span>Available: {{ order.available }}</span>\n                            <span>Taken: {{ order.taken }}</span>\n                            <span>Capacity: {{ order.capacity }}</span>\n                            <span>Lock down date: {{ order.signoff_date }}</span>\n                        </span>\n                        <span class="status-summary">\n                            Status Summary:\n                            <span ng-repeat="(status, value) in getOrderSummarySorted(order.status_summary)" class="{{ getStatusClass(status) }}">{{ value }}</span>\n                        </span>\n                    </td>\n\n                    <td ng-if="!order.month_header && isSortingAllowed()" ng-class="isSortingAvailable() ? \'drag-handle\' : \'not-available\'"><i class="glyphicon glyphicon-move"></i></td>\n                    <td ng-if="!order.month_header">\n                        <i class="glyphicon glyphicon-lock" ng-if="order.month < lockdownMonth || (order.month === lockdownMonth && order.index <= lockdownNumber)"></i>\n                        {{ order.index }}\n                    </td>\n                    <td ng-if="!order.month_header">{{ order.production_date | date: AppSettings.FORMAT_DATE_WEEKDAY_JS }}</td>\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.chassis }}</td>\n                    <td ng-if="!order.month_header" ng-class="order.status">{{ order.order_id }}</td>\n                    <td ng-if="!order.month_header">{{ order.model_series }}</td>\n                    <td ng-if="!order.month_header"><i class="glyphicon" ng-class="getSpecialFeatureClass(order)"></i></td>\n                    <td ng-if="!order.month_header">{{ order.dealership }}</td>\n                    <td ng-if="!order.month_header">{{ order.customer }}</td>\n                    <td ng-if="!order.month_header">{{ order.drafter }}</td>\n                    <td ng-if="!order.month_header" class="comments">\n                        <input class="input-comments" type="text" placeholder="Comments..." maxlength="2000"\n                               ng-model="order.schedule_comments" ng-blur="onOrderCommentChange($event, order)"\n                               ng-model-options="{ updateOn: \'blur\', debounce:0 }"\n                               no-dirty-check\n                               ng-readonly="!permissions.edit_comments_schedule_dashboard"/>\n                        <bar-spinner ng-if="orderCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                    <td ng-if="!order.month_header">{{ order.vin_number }}</td>\n                    <td ng-if="!order.month_header && permissions.change_schedule_dashboard">\n                       <input type="checkbox" ng-model="order.selected "/>\n                    </td>\n                    <td ng-if="!order.month_header"><a href="{{ order.url }}" target="_blank">Manage</a></td>\n\n                    <td ng-if="!order.month_header && permissions.change_schedule_dashboard">\n                        <a href="#" ng-click="onLockdown(order.month, order.index)">Lock</a>\n                    </td>\n\n                    <td ng-if="orderSortLoading[order.id]" class="spinner-container"><bar-spinner></bar-spinner></td>\n                </tr>\n                <tr class="extra-placeholder"><td colspan="42"></td></tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n<div class="modal fade" id="moveOrderModal">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form">\n                  <div class="row move_orders">\n                    <span class="col-md-4 col-md-offset-2">\n                      <label>Schedule Month </label>\n                      <select ng-model="move_month"\n                              ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                        <option value="">Select</option>\n                      </select>\n                    </span>\n                  <span class="col-md-3">\n                      <label> Order Position</label>\n                      <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                    </span>\n                  </div>\n                </form>\n\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class="modal fade" id="moveOrderModal2">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form1">\n                  <div class="row move_orders">\n                    <span class="col-md-4 col-md-offset-2">\n                      <label>Schedule Month </label>\n                      <select ng-model="move_month"\n                              ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                        <option value="">Select</option>\n                      </select>\n                    </span>\n                    <span class="col-md-3">\n                      <label> Order Position</label>\n                    <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                    </span>\n                    <span class="col-md-3">\n                      <label> Pop-Top/Campers</label>\n                      <input type="hidden" ng-model="production_unit" value=\'2\' />\n                       \n                    </span>\n                  </div>\n                </form>\n\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd1()"> Move To Pop-Top/Campers </button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'},314:function(e,n){e.exports='<nav class="navbar navbar-default navbar-content">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class="navbar-header">\n            <span class="navbar-brand">\n                <img src="/static/newage/icons/orders.png" />\n                Dealer Dashboard\n            </span>\n        </div>\n</nav>\n\n<div id="dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Dealer Dashboard</h2>\n    </top-bar>\n\n    <messages>\n        {{ order.messages }}\n    </messages>\n\n    <div class="row header">\n        <div class="col-sm-2">\n            <label>Month: </label>\n            <select ng-model="currentMonth"\n                ng-options="month.value as month.title for month in monthList" no-dirty-check></select>\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\n        </div>\n        <div class="col-sm-5">\n            <label>Filter: </label>\n            <input ng-model="searchStr" placeholder="Type to filter on Model, Customer, or Chassis..." size="60" />\n        </div>\n    </div>\n\n    <div class="row content">\n        <div class="legend">\n          <table>\n           <tr>\n              <td class="not_finalized highlight"> Not Finalised </td>\n              <td class="pending_draft"> To be Drafted </td>\n              <td class="customer_approved highlight"> Customer Plan Completed </td>\n              <td class="summary_plans_completed"> Plans Completed </td>\n           </tr>\n          </table>\n        </div>\n        <br>\n        <p style="color:#FF0000; text-align: right;"> * Vans that have missed Planned Production</p>\n        \n        <table>\n            <thead>\n                <tr>\n                    <th>Chassis</th>\n                    <th>Online Date</th>\n                    <th>Offline Date</th>\n                    <th>Series Code</th>\n                    <th>Special</th>\n                    <th>Customer</th>\n                    <th>Comment</th>\n                    <th>Manage</th>\n                </tr>\n            </thead>\n            <tbody ng-model="orderList">\n                <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'">\n                    <td ng-if="order.month_header" class="month-header" colspan="9">\n                        {{ order.month_header }}\n                        <span class="capacity">\n                            <span>Lock down date: {{ order.signoff_date }}</span>\n                        </span>\n                    </td>\n                    \n                    <td ng-if="!order.month_header" ng-class="order.status"> {{ order.chassis }} </td>\n\n                    <td ng-if="!order.month_header" > {{ order.production_date | date : \'dd-MM-yyyy\' }} \n                    \n<span style="color:#FF0000" class="item item-text-wrap" ng-if="order.order_status_prod_check==\'3\'">  <b> * </b>  </span> \n\n                    </td>\n                    <td ng-if="!order.month_header" > {{ order.planned_dispatch_date | date : \'dd-MM-yyyy\' }} </td>\n\n                    <td ng-if="!order.month_header"> {{ order.model_series }} </td>\n                    <td ng-if="!order.month_header"> <i class="glyphicon" ></i> \n                    {{ order.special_feature_status }}</td>\n                    <td ng-if="!order.month_header">  {{ order.customer }}</td>\n                    <td ng-if="!order.month_header" class="comments">\n                        <input class="input-comments" type="text" placeholder="Comments..." maxlength="2000"\n                               ng-model="order.dealer_comments" ng-blur="onOrderDealerCommentChange($event, order)"\n                               ng-model-options="{ updateOn: \'blur\', debounce:0 }"\n                               ng-readonly="isOrderDealerCommentSaving[order.id]"\n                               no-dirty-check\n                               />\n                        <bar-spinner ng-if="isOrderDealerCommentSaving[order.id]"></bar-spinner>\n                    </td>\n                    <td ng-if="!order.month_header"><a href="{{ order.url }}" target="_blank">Manage</a></td>\n                </tr>\n                <tr class="extra-placeholder"><td colspan="42"></td></tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'},315:function(e,n){e.exports='<div id="planner">\r\n    <top-bar>\r\n        <h2 class="top-bar__title">Dealer Schedule Planner</h2>\r\n    </top-bar>\r\n\r\n    <messages></messages>\r\n        <!-- <input type="month" name="month_picker" value="2021-02"> -->\r\n\r\n        <input type="month"  ng-model="month_picker" ng-change="monthpicker_selection()">\r\n        \r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th style="width: 50px;">SNo</th>\r\n                <th style="width: 50px;">Dealer Id</th>\r\n                <th>Dealer Name</th>\r\n                <th>Dealer Order Count for the Month</th>\r\n                <th>Capacity Allotted</th>\r\n                \r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr ng-repeat="dealer_data in all_data">\r\n                \r\n                <td style="width: 50px;"> {{$index + 1}}</td>\r\n\r\n                <td style="width: 50px;">{{ dealer_data.dealer_id}}</td>\r\n\r\n                <td> {{ dealer_data.name[0] }}</td>\r\n                <td ng-style="{color: dealer_data.dealer_order_count > dealer_data.capacity_allotted ? \'red\' : \'black\'}">\r\n                    {{ dealer_data.dealer_order_count }}</td>\r\n             \r\n             <td>\r\n                <input type="text" class="form-control" id="{{dealer_data.dealer_id}}"  \r\n                    ng-model="dealer_data.capacity_allotted" ng-change="capacity_sum()"/>\r\n            </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan="2">\r\n                    Capacity Allocated&nbsp;</td><td><input type="text" class="form-control" ng-model="actual_capacity" readonly> \r\n                 </td>\r\n                <td>\r\n                    Total:Capacity&nbsp;</td><td><input type="text" class="form-control" ng-model="total_capacity" readonly> \r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n    <div class="footer">\r\n        <button ng-if="permissions.change_schedule_planner" class="btn btn-primary btn-lg btn-danger" ng-click="save()" ng-disabled="total_capacity > actual_capacity">Save changes</button>\r\n        <center><p ng-show="total_capacity > actual_capacity" style="color: red;">Input capacity should be less than or equal to Allocated Capacity</p></center>\r\n    </div>\r\n</div>\r\n'},316:function(e,n){e.exports='<div id="export">\n    <top-bar>\n        <h2 class="top-bar__title">Caravans Schedule Exports</h2>\n    </top-bar>\n\n    <messages></messages>\n\n    <table>\n        <thead>\n            <tr>\n                <th>Type</th>\n                <th>Parameters</th>\n                <th>Export</th>\n            </tr>\n        </thead>\n\n        <tbody>\n            <tr>\n                <td>Export Series Details as CSV</td>\n                <td>\n                    <p>With Avereage Tare weight and Ball weight</p>\n                </td>\n                <td>\n                    <a class="btn btn-default" target="_blank"\n                            href="/export/schedule/series-avg-csv">\n                        Export\n                    </a>\n                </td>\n            </tr>\n\n            <tr>\n                <td>Export Schedule as CSV</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'exportScheduleCSV_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV_dateFrom\' hidden ng-model="exportScheduleCSV.dateFrom" no-dirty-check ng-change="validateDates(exportScheduleCSV)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'exportScheduleCSV_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportScheduleCSV_dateTo\' hidden ng-model="exportScheduleCSV.dateTo" no-dirty-check ng-change="validateDates(exportScheduleCSV)" />\n                    </div>\n                    <div class="text-danger" ng-if="exportScheduleCSV.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!exportScheduleCSV.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/schedule-csv/1/{{ exportScheduleCSV.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ exportScheduleCSV.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n                    <button ng-if="exportScheduleCSV.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n\n             <tr>\n                <td>Export Specs as PDF</td>\n                <td>\n                    <div class="col-sm-6">\n                        <label>Select Month </label>\n                        <input id=\'exportSpecsPDF_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'exportSpecsPDF_dateFrom\' hidden ng-model="exportSpecsPDF.dateFrom" no-dirty-check ng-change="validatePDFDates(exportSpecsPDF)" />\n                    </div>\n                </td>\n                \n                <td>\n                    <a ng-if="exportSpecsPDF.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/specs-pdf/1/{{ exportSpecsPDF.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export\n                    </a>\n            <button ng-if="!exportSpecsPDF.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n            </td>\n            </tr>\n\n            <tr ng-repeat="exp in contractorExports.list">\n                <td>{{ exp.name }}</td>\n                <td rowspan="{{ contractorExports.list.length }}" ng-if="$first">\n                    <div class="col-sm-6">\n                        <label>Date From: </label>\n                        <input id=\'contractorExports_dateFrom_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'contractorExports_dateFrom\' hidden ng-model="contractorExports.dateFrom" no-dirty-check ng-change="validateDates(contractorExports)" />\n                    </div>\n                    <div class="col-sm-6">\n                        <label> Date To: </label>\n                        <input id=\'contractorExports_dateTo_shown\' type="text" class="form-control" placeholder="loading..." />\n                        <input id=\'contractorExports_dateTo\' hidden ng-model="contractorExports.dateTo" no-dirty-check ng-change="validateDates(contractorExports)" />\n                    </div>\n                    <div class="text-danger" ng-if="contractorExports.invalidDates">\n                        The start date cannot be greater than the end date.\n                    </div>\n                </td>\n                <td>\n                    <a ng-if="!contractorExports.invalidDates" class="btn btn-default" target="_blank"\n                            href="/export/schedule/contractor/1/{{ exp.id }}/{{ contractorExports.dateFrom | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}/{{ contractorExports.dateTo | date: AppSettings.FORMAT_DATE_MONTH_ISO_JS }}">\n                        Export</a>\n                    <button ng-if="contractorExports.invalidDates" class="btn btn-default" disabled="disabled">Export</button>\n                </td>\n            </tr>\n\n        </tbody>\n    </table>\n    \n</div>\n';
},317:function(e,n){e.exports='<div id="planner">\n    <top-bar>\n        <h2 class="top-bar__title">Caravans Schedule Planner</h2>\n    </top-bar>\n\n    <messages></messages>\n        <input type="month"  ng-model="month_picker" ng-change="monthpicker_selection()">\n\n    <table>\n        <thead>\n            <tr>\n                <th>Production Month</th>\n                <th>Start Production</th>\n                <th>Production capacity</th>\n                <th>Month status</th>\n                <th>Number of orders</th>\n                <th>Lock down date</th>\n                <th>Drafting completion</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="month_data in all_data">\n                <td>{{ month_data.production_month | date: AppSettings.FORMAT_DATE_MONTH_JS}}</td>\n                <td>\n                    <div class="input-group date-group">\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.production_start_date"\n                               ng-model="month_data.production_start_date" close-text="Close"\n                               datetimepicker-neutral-timezone init-date="month_data.initialValue"\n                               ng-readonly="!permissions.change_schedule_planner" />\n\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.production_start_date = true"\n                                    ng-disabled="!permissions.change_schedule_planner"><i\n                                    class="glyphicon glyphicon-calendar"></i></button>\n                        </span>\n                    </div>\n\n                </td>\n                <td ng-class="month_data.capacity < month_data.total_orders ? \'alert-danger\' : \'\'">{{ month_data.capacity }}</td>\n                <td><label><input type="checkbox" ng-model="month_data.closed" /> Closed</label></td>\n                <td ng-class="month_data.capacity < month_data.total_orders ? \'alert-danger\' : \'\'">{{ month_data.total_orders }}</td>\n                <td>\n                    <div class="input-group date-group" ng-if="!month_data.sign_off_reminder_sent">\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.sign_off_reminder"\n                               ng-model="month_data.sign_off_reminder" close-text="Close"\n                               datetimepicker-neutral-timezone\n                               ng-readonly="!permissions.change_schedule_planner" />\n\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.sign_off_reminder = true"\n                                    ng-disabled="!permissions.change_schedule_planner"><i\n                                    class="glyphicon glyphicon-calendar"></i></button>\n                        </span>\n                    </div>\n                    <div ng-if="month_data.sign_off_reminder_sent">\n                        Email has been sent on {{ month_data.sign_off_reminder | date: AppSettings.FORMAT_DATE_JS }}\n                    </div>\n                </td>\n                <td>\n                    <div class="input-group date-group">\n                        <input type="text" class="form-control" uib-datepicker-popup="{{ AppSettings.FORMAT_DATE_JS }}" is-open="datepickerState.draft_completion"\n                               ng-model="month_data.draft_completion" close-text="Close"\n                               datetimepicker-neutral-timezone\n                               ng-readonly="!permissions.change_schedule_planner" />\n\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="datepickerState.draft_completion = true"\n                                    ng-disabled="!permissions.change_schedule_planner"><i\n                                    class="glyphicon glyphicon-calendar"></i></button>\n                        </span>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <div class="footer">\n        <button ng-if="permissions.change_schedule_planner" class="btn btn-primary btn-lg btn-danger" ng-click="save()">Save changes</button>\n    </div>\n</div>\n'},318:function(e,n){e.exports='<nav class="navbar navbar-default navbar-content">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class="navbar-header">\n            <button type="button"\n                    class="navbar-toggle collapsed"\n                    data-toggle="collapse"\n                    data-target="#bs-example-navbar-collapse-1"\n                    aria-expanded="false">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <span class="navbar-brand">\n                <img src="/static/newage/icons/factory-schedule.png" />\n                Caravans\n                <span class="glyphicon glyphicon-menu-right"></span>\n            </span>\n        </div>\n        <!-- Collect the nav links, forms, and other content for toggling -->\n        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n            <ul class="nav navbar-nav">\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule.dashboard">Dashboard</a></li>\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule.transportdashboard">Production Dashboard</a></li>\n                <li><a ng-if="permissions.view_schedule_dashboard" ui-sref="schedule.statusdashboard">Production Dashboard - Status</a></li>\n                <li><a ng-if="permissions.view_schedule_capacity" ui-sref="schedule.capacity">Production Capacity</a></li>\n                <li><a ng-if="permissions.view_schedule_planner" ui-sref="schedule.planner">Schedule Planner</a></li>\n                <li><a ng-if="permissions.export_schedule" ui-sref="schedule.export">Export</a></li>\n            </ul>\n        </div><!-- /.navbar-collapse -->\n</nav>\n\n<div ui-view></div>\n\n'},319:function(e,n){e.exports='    \n<div id="transport_dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Caravans Production Dashboard</h2>\n    </top-bar>\n\n    <messages>{{ order.messages }}</messages>\n\n    <div class="row header" >\n        <div class="col-sm-2">\n            <label>Month: </label>\n                <input id=\'chosen_month_show\' type="text" class="form-control" />\n                <input id=\'chosen_month\' hidden ng-model="currentMonth" no-dirty-check />\n            <bar-spinner ng-if="monthDataLoading"></bar-spinner>\n        </div>\n        <div class="col-sm-2">\n            <label>Filter: </label>\n            <input ng-model="searchStr" placeholder="Type to filter on Order, Customer, Dealership or Chassis..." size="60" />      \n        </div>\n\n        <div class="col-sm-5 pull-right">\n            <label>Status Summary: </label>\n            <table border="2" width="50%">               \n                <tr>\n                    <!-- <th rowspan=3 align=\'center\'> <center> Status <p> Summary</b></th> -->\n                    <th align=\'center\'> <a href ng-click="filterchassis()">  <center>  Chassis  </b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterbuilding()"> <center>  Building</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterprewire()"> <center>  Pre-Wire</b> </a></th>\n                        <th align=\'center\'> <a href ng-click="filterplumbing()"> <center> Plumbing</b> </a></th>\n                    <th align=\'center\'>  <a href ng-click="filteraluminium()"> <center>  Aluminium / Fit Off </b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterfinishing()"><center>  Finishing</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterdetailing()"><center>  Detailing Canopy</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="filterwatertest()"><center>  Water Testing</b></a></th>\n                     \n                   \n                    <th align=\'center\'> <a href ng-click="filterfinalqc()"> <center> <b> QC </b></a> </th> \n                    <th align=\'center\'>   <a href ng-click="filterreadyfordispatch()"> <center>  <b> Ready For <br> Dispatch </b> </a></th> \n                    <th align=\'center\'> <a href ng-click="testfilterfun()"> <center>  Dispatched </b> </a> </th>\n                </tr>\n\n                <tr>   \n                    \n                    \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b> {{  countList.chassis_count }} </b> <br> </h4>\n                      </h3>\n                    </td>   \n\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b>{{  countList.building_count }} </b>  </h4>\n                    </td>\n\n                     <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b>{{  countList.prewire_count }} </b>  </h4>\n                    </td>\n\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>     <b>{{  countList.plumbing_count }} </b>  </h4>\n                    </td>   \n\n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>  <b>{{  countList.aluminium_count }} </b>   </h4>\n                    </td>   \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>    <b> {{  countList.finishing_count }} </b>  </h4> \n                    </td>  \n                    \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>    <b> {{  countList.detailing_count }} </h4>\n                    </td>   \n                    \n                    <td style="background-color:#ffd700" align=\'center\'rowspan="2"> \n                    \n                     <h4>    <b> {{  countList.water_test_count }}  </b>  </h4>  \n                    </td>   \n                     \n                   \n                     \n\n                    <td style="background-color:#FFD700" align=\'center\' rowspan="2"> \n                        <h4>  <b>  {{  countList.final_qc_count }}   </b>   </h4> \n                    </td> \n                    <td style="background-color:#33ff33" align=\'center\'rowspan="2"> \n                    \n                     <h4><b>{{  countList.ready_for_dispatch_count }} <b>  </b>  </h4>  \n                    </td>   \n                    <td style="background-color:#C0C0C0" align=\'center\'rowspan="2">\n                      <h4><b> {{  countList.dispatched_count }}  </b> </h4>  \n                       \n                    </td>   \n                    \n                </tr>\n                \n                <tr></tr>\n                 <tr>                   \n                    \n                <th align=\'center\'> <a href ng-click="export_chassis()" target="_blank">  <center>  Export  </b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_building()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_prewire()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_plumbing()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_aluminium()" target="_blank"> <center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_finishing()" target="_blank"><center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_detailing()" target="_blank"><center>  Export</b> </a></th>\n                    <th align=\'center\'> <a href ng-click="export_watertesting()" target="_blank"><center>  Export</b> </a></th>\n                    \n                    <th align=\'center\'> <a href ng-click="export_finalqc()" target="_blank"> <center> <b> Export </b></a> </th> \n                    <th align=\'center\'> <a href ng-click="export_ready_dispatch()" target="_blank"> <center>  <b> Export  </b> </a></th> \n                    <th align=\'center\'> <a href ng-click="export_dispatched()" target="_blank"> <center>  Export </b> </a> </th>\n                </tr>  \n                 <tr><th align=\'center\' colspan="12"> <a href ng-click="export_all()" target="_blank"> <center> <b> Export All </b></a> </th> </tr>  \n            </table> \n        </div>\n\n        <div class="col-sm-2 pull-right">\n            <div class="spinner-container"><bar-spinner ng-if="assignProductionDatesLoading"></bar-spinner></div>\n        </div>\n        <div class="col-sm-1 pull-right">\n            <div class="spinner-container" ng-if="moveCmdInitiated"><bar-spinner></bar-spinner></div>\n        </div>\n        <div ng-if="permissions.finalize_order" class="col-sm-1 pull-right"> \n            <div class="spinner-container" ng-if="lockCmdInitiated"><bar-spinner></bar-spinner></div> \n        </div>      \n    </div>\n    <div class="row content">\n        <table>\n            <thead>\n                <tr ng-if="isSortingAllowed()"> \n                    \n                    <th>Sch. No.</th>                               <!-- 1 --> \n                    \n                    <th>Status </th>                        <!-- 22 --> \n                    <th>Manage</th>                                 <!-- 21 --> \n                    <th>Hold / Release</th>                          <!-- 20 -->\n                    <th>Chassis </th>                               <!-- 2 --> \n                    <th>Order # </th>                               <!-- 3 --> \n                    <th>Series Code</th>                            <!-- 4 --> \n                    <th>Dealership</th>                             <!-- 5 --> \n                    <th>On-Line <br>Date  </th>                         <!-- 6 --> \n                    <th>Off-Line <br>Date  </th>                        <!-- 6 --> \n                    <th>Actual Production  </th>                    <!-- 7 --> \n                      <!--  <th class="comments"> Production Comments</th>8 --> \n                    <th>Chassis  </th>                              <!-- 9 -->\n                    <th>Chassis Comments</th>                       <!-- 10 -->\n                    <th>Building  </th>                             <!-- 11 -->\n                    <th>Building Comments</th>                      <!-- 12 -->\n                    <th>Pre-Wire  </th>                             <!-- 12 -->\n                    <th>Pre-Wire Comments</th>                      <!-- 14 -->\n                    <th>Plumbing  </th>                             <!-- 12 -->\n                    <th>Plumbing Comments</th>                      <!-- 14 -->\n                    <th>Aluminium / Fit Off </th>                   <!-- 14 -->\n                    <th>Aluminium Comments</th>                     <!-- 15 -->\n                    <th>Finishing  </th>                            <!-- 16 -->\n                    <th>Finishing Comments</th>                     <!-- 17 -->\n                    <th>Detailing Canopy </th>                      <!-- 16 -->\n                    <th>Detailing Canopy Comments</th>              <!-- 17 -->\n                    <th>Water Test  </th>                           <!-- 16 -->\n                    <th>Water Test Comments</th>                    <!-- 17 -->\n                    <!-- <th>Planned QC</th>  -->                   <!-- 18 -->\n                    <!-- <th> QC </th> -->                                   <!-- 19 --> \n                    <!-- <th> QC Comments</th> -->                           <!-- 20 --> \n                    <!-- Temporarily Disabled as per client request -->\n                    <!-- <th>Actual Water Testing </th> -->                 <!-- 21 --> \n                    <!-- <th class="comments"> Water Test Comments</th> --> <!-- 22 --> \n                    <!-- Final QC is changed to display as QC and QC Comments -->\n                    <th> QC</th>                               <!-- 23 --> \n                    <th class="comments"> QC Comments</th>     <!-- 24 --> \n                    <th>Actual Dispatch</th>                        <!-- 26 --> \n                    <th class="comments">Dispatch Comments</th>     <!-- 27 --> \n                </tr>\n            </thead>\n            <tbody ui-sortable="sortableOptions" ng-model="orderList">\n         <tr ng-repeat="order in orderList | filter:filterOrders" ng-class-odd="\'odd\'" ng-class-even="\'even\'"> \n                <!-- 1 --> \n                    <td ng-if="!order.month_header">\n                        {{ order.index }} \n                    </td>\n                    <!-- 2 -->   \n                \n                       <!-- 2 -->   \n                <td ng-if="!order.month_header">     \n                                    \n\n                       <div ng-if="order.order_status==\'Ready For Production\'">\n                            <div> \n                                <label style="background-color:#ffffff;height:25px" class="item item-text-wrap"> Ready For Production    </label>\n                            </div>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Awaiting-Production\'">\n                            <label style="background-color:#FF4500" class="item item-text-wrap"> Awaiting-Production    </label>\n                        </div>\n                        <div ng-if="order.order_status==\'Awaiting Production\'">\n                            <label style="background-color:#ffff17" class="item item-text-wrap">Awaiting Production    </label>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Chassis\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Chassis      \n                            </label>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Building\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Building     </label>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Prewire\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Pre-wire      </label>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Plumbing\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Plumbing      </label>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Aluminium\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Aluminium / Fit Off    </label>\n                        </div>\n\n                        <div ng-if="order.order_status==\'Finishing\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Finishing     </label>\n                        </div>\n\n                          <div ng-if="order.order_status==\'Detailing\'">\n                        <label style="background-color:#FFD700" class="item item-text-wrap">  Detailing Canopy  </label>\n                        </div>\n\n                          <div ng-if="order.order_status==\'Water Testing\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">  Water Testing </label>\n                        </div>\n\n\n                         \n                       <!--   <div ng-if="order.order_status==\'QC Canopy\'">\n                            <label style="background-color:#FF4500" class="item item-text-wrap"> QC </label>\n                        </div> -->\n                         \n                        <!-- Fromt Backend receive as Final QC only  -->\n                        <div ng-if="order.order_status==\'Final QC\'">\n                            <label style="background-color:#FFD700" class="item item-text-wrap">   QC     </label>\n                        </div>\n                        \n                        <div ng-if="order.order_status==\'Ready For Dispatch\'">\n                            <label style="background-color:#00FF00" class="item item-text-wrap"> Ready For Dispatch     </label>\n                        </div>\n                        \n                        <div ng-if="order.order_status==\'Dispatched\'">\n                            <div> \n                                <label style="background-color:#D3D3D3;height:25px" class="item item-text-wrap"> Dispatched    </label>\n                            </div>\n                        </div>\n\n                        <div ng-if="order.hold_caravans==1">\n                            <div> \n                                <label style="background-color:#ffffff;height:25px" class="item item-text-wrap"> On Hold Caravan   </label>\n                            </div>\n                        </div>\n                        \n                    </td>\n \n\n\n\n\n                     \n\n                     <!-- 3 -->   \n                    <td ng-if="!order.month_header">\n                        <a href="{{ order.url }}" target="_blank">Manage </a>\n                    </td> \n                    <!-- 4 -->    \n                    \n                    <td ng-if="!order.month_header">\n                     \n                        <div ng-show="order.hold_caravans==0">\n                        <input type="checkbox" id="cb10" ng-model="hold_caravans_cur" name="hold_caravans_cur"   ng-checked="false" ng-change="hold_caravans_cur ? hold_order_fun(order) :  !hold_order_fun(order) "/>\n                        <h5>  Hold  </h5> \n                        </div>\n\n                        <div ng-show="order.hold_caravans==1">\n                        <input type="checkbox" id="cb11" ng-model="hold_caravans_cur" name="hold_caravans_cur"   ng-checked="true" ng-click="hold_order_fun(order)"/>\n                        <h5>  Release   </h5> \n                        </div>\n                        \n                    </td>\n                    \n               \n\n                \n                <!-- 5 --> \n                    <td ng-if="!order.month_header" >\n                        {{ order.chassis }}\n                    </td>\n                <!-- 6 --> \n                    <td ng-if="!order.month_header" >\n                        {{ order.order_id }}\n                    </td>\n                <!-- 7 -->    \n                    <td ng-if="!order.month_header">\n                        {{ order.model_series }}\n                    </td>\n\n                <!-- 8 -->    \n                    <td ng-if="!order.month_header">\n                        {{ order.dealership }} \n                    </td>\n                <!-- 9 -->\n                    <td ng-if="!order.month_header">\n                        {{ order.production_date | date: AppSettings.FORMAT_DATE_WEEKDAY_JS }}\n                    </td>\n                <!-- 10 -->    \n                    <td ng-if="!order.month_header"> \n                        <div> {{ order.planned_dates.planned_dispatch_date | date : \'dd-MM-yyyy\' }} </div>\n                        <!-- <div ng-if="!order.planned_dispatch_date">\n                            {{ plandispdate[order.id] | date : \'dd-MM-yyyy\' }} \n                        </div> -->\n                    </td>\n\n                <!-- 11 --> \n                \n                    <td ng-if="!order.month_header">\n                        <div>\n                            {{ order.actual_production_date | date : \'dd-MM-yyyy\' }}\n                        </div>\n                        <div ng-if="!order.actual_production_date">\n                            <input type="checkbox" id=\'actual_prod\'  ng-model="actual_prod" ng-change="actual_prod ? checkproddate(order) : !checkproddate(order)" >  \n                            <div ng-show="actual_prod">\n                                <label id="lblproddate" name="lblproddate" class="item item-text-wrap">\n                                    <h5>{{ getTodaysDate | date :"dd-MM-yyyy" }}</h5>\n                                </label>\n                            </div>\n                        </div>    \n                    <bar-spinner ng-if="actual_prod_date_loading[order.id]"></bar-spinner>          \n                    </td>\n\n                <!-- 8 \n                    <td ng-if="!order.month_header"> \n\n                        <input type="text" ng-model="order.prod_comments_from" ng-blur="onProdCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.prod_comments_from }}" />\n                        <bar-spinner ng-if="prodCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                -->\n                <!-- 12 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.chassis_section | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.chassis_section">\n                            <input type="checkbox" id=\'chassis_section_chkbox\'  ng-model="chassis_section_chkbox" ng-change="chassis_section_chkbox ? isSectionDateChanged(order) : !isSectionDateChanged(order)" >  \n                            <div ng-show="chassis_section">\n                                <label id="lblsecdate" name="lblsecdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="chassis_section_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 13 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.chassis_section_comments" ng-blur="onChasisSectionCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.chassis_section_comments }}" />\n                        <bar-spinner ng-if="onChasisSectionCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n\n                <!-- 14 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.building | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.building">\n                        <input id="building_chkbox" type="checkbox" ng-model="building_chkbox" ng-change="building_chkbox ? isBuildingDateChanged(order) : !isBuildingDateChanged(order)" >  \n                            <div ng-show="building">\n                                <label id="lblbuilddate" name="lblbuilddate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="building_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 15 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.building_comments" ng-blur="onBuildingCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.building_comments }}" />\n                        <bar-spinner ng-if="onBuildingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                <!-- 16 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.prewire_section | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.prewire_section">\n                        <input id="prewire_chkbox" type="checkbox" ng-model="prewire_chkbox" ng-change="prewire_chkbox ? isPrewireDateChanged(order) : !isPrewireDateChanged(order)" >  \n                            <div ng-show="prewire_section">\n                                <label id="lblprewiredate" name="lblprewiredate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="prewire_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 17 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.prewire_comments" ng-blur="onPrewireCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.prewire_comments }}" />\n                        <bar-spinner ng-if="onPrewireCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                    \n                      <!-- 16 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.plumbing_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.plumbing_date">\n                        <input id="plumbing_chkbox" type="checkbox" ng-model="plumbing_chkbox" ng-change="plumbing_chkbox ? isPlumbingDateChanged(order) : !isPlumbingDateChanged(order)" >  \n                            <div ng-show="plumbing_date">\n                                <label id="lblplumbingdate" name="lblplumbingdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="plumbing_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 17 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.plumbing_comments" ng-blur="onPlumbingCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.plumbing_comments }}" />\n                        <bar-spinner ng-if="onPlumbingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                \n\n                <!-- 18 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.aluminium_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.aluminium_date">\n                            <input id="aluminium_chkbox" type="checkbox"   ng-model="aluminium_chkbox" ng-change="aluminium_chkbox ? isAluminiumDateChanged(order) : !isAluminiumDateChanged()" >  \n                            <div ng-show="aluminium_chkbox">\n                                <label id="lblaludate" name="lblaludate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="aluminium_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 19 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.aluminium_comments" ng-blur="onAluminiumCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.aluminium_comments }}" />\n                        <bar-spinner ng-if="onAluminiumCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                <!-- 20 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.finishing | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.finishing">\n                            <input id=\'finishing_chkbox\' type="checkbox"   ng-model="finishing_chkbox" ng-change="finishing_chkbox ? isFinishingDateChanged(order) : !isFinishingDateChanged()" >  \n                            <div ng-show="finishing_chkbox">\n                                <label id="lblfindate" name="lblfindate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="finishing_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 21 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.finishing_comments" ng-blur="onFinishingCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.finishing_comments }}" />\n                        <bar-spinner ng-if="onFinishingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                     <!-- 22 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.detailing_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.detailing_date">\n                            <input id=\'detailing_chkbox\' type="checkbox"   ng-model="detailing_chkbox" ng-change="detailing_chkbox ? isDetailingDateChanged(order) : !isDetailingDateChanged()" >  \n                            <div ng-show="detailing_chkbox">\n                                <label id="lbldetailingdate" name="lbldetailingdate" class="item item-text-wrap">\n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="detailing_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 23 -->   \n\n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.detailing_comments"  \n                        ng-blur="onDetailingCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.detailing_comments }}" />\n                        <bar-spinner ng-if="onDetailingCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                    <!-- 24 -->    \n                    <td ng-if="!order.month_header">\n                        <div > {{ order.watertest_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.watertest_date">\n                            <input id=\'watertest_chkbox\' type="checkbox"   ng-model="watertest_chkbox" ng-change="watertest_chkbox ? isWatertestDateChanged(order) : !isWatertestDateChanged()" >  \n                            <div ng-show="watertest_chkbox">\n                                <label id="lblwaterdate" name="lblwaterdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="watertest_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                <!-- 25 -->    \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.watertest_comments" ng-blur="onWaterTestCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.watertest_comments }}" />\n                        <bar-spinner ng-if="onWatertestCommentLoading[order.id]"></bar-spinner>\n                    </td>\n\n                <!-- 26 -->    \n                <!-- Client has requested to remove this in 1 Dec 2020 They might change their minds again  -->\n                <!-- Also henceforth record final qc date and comments in both actual qc date and comments.  -->\n                <!-- So we block this out -->\n                    <!-- <td ng-if="!order.month_header">\n                        <div >  {{ order.actual_qc_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.actual_qc_date">\n                            <input type="checkbox" id=\'actual_qc\'  ng-model="actual_qc" ng-change="actual_qc ? checkactualqc(order) : !checkactualqc(order)" >  \n                            <div ng-show="actual_qc">\n                                <label id="lblqcdate" name="lblqcdate" class="item item-text-wrap"> \n                                    <h5>  {{ getTodaysDate | date :"dd-MM-yyyy" }}  </h5>\n                                </label>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="actual_qc_date_loading[order.id]"></bar-spinner>               \n                    </td>\n                \n                 \n                    <td ng-if="!order.month_header">                \n                        <input type="text" ng-model="order.qc_comments_from" ng-blur="onQCCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.qc_comments_from }}" />\n                        <bar-spinner ng-if="qcCommentLoading[order.id]"></bar-spinner>\n                    </td> - -->\n                             \n                \n                <!-- 28 -->    \n                    <td ng-if="!order.month_header">                  \n                        <div > {{ order.final_qc_date | date:\'dd-MM-yyyy\' }} </div>                   \n\n                        <div ng-if = "checkweights(order)">\n                        <font face="Arial" color=\'red\'>Set Weights\n                        </font>  \n                        </div>\n                        <div ng-if = "checkallweights(order)"> \n                            <div ng-if="!order.final_qc_date">   \n                                <input id="final_qc" type="checkbox" ng-model="final_qc" ng-change="final_qc ? checkfinalqcfun(order) : !checkfinalqcfun(order)">  \n                                <div ng-show="final_qc">\n                                    <label class="item item-text-wrap"> \n                                        <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \n                                    </label> \n                                </div>\n                            </div>\n                        </div>\n                        <bar-spinner ng-if="final_qc_date_loading[order.id]"></bar-spinner> \n                    </td>\n                <!-- 29 -->    \n                    <td ng-if="!order.month_header">\n                        <input type="text" ng-model="order.final_qc_comments" ng-blur="onFinalQCCommentChange($event, order)" ng-model-options="{ updateOn: \'blur\', debounce:0 }" value=" Hello!" + "{{ order.final_qc_comments }}" />\n                        <bar-spinner ng-if="FinalQCCommentLoading[order.id]"></bar-spinner> \n                    </td>\n\n\n\n                \n                <!-- 30 -->    \n                    <td ng-if="!order.month_header">\n                        <div> {{ order.actual_dispatch_date | date : \'dd-MM-yyyy\' }} </div>\n                        <div ng-if="!order.actual_dispatch_date"> \n                            <input type="checkbox" ng-model="actual_dispatch" ng-change="actual_dispatch ? checkdatefun(order) : !checkdatefun1(order)"> \n                            <div ng-show="actual_dispatch">\n                                <label class="item item-text-wrap"  >\n                                    <h5> {{ getTodaysDate | date :"dd-MM-yyyy" }} </h5> \n                                </label>\n                            </div>\n                             \n                        </div>\n                        <bar-spinner ng-if="actual_dispatch_date_loading[order.id]"></bar-spinner> \n                    </td>\n                    \n                    <!-- 31 -->    \n                    <td ng-if="!order.month_header" class="comments">\n                        <input class="input-comments" type="text" placeholder="Enter Dispatch Comments..." maxlength="2000" ng-model="order.dispatch_comments" ng-blur="onDispatchCommentChange($event, order)"ng-model-options="{ updateOn: \'blur\', debounce:0 }" value="{{ order.dispatch_comments }}"  />\n                        <bar-spinner ng-if="dispatchCommentLoading[order.id]"></bar-spinner>\n                    </td>\n                 \n\n                    \n                    \n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n<div class="modal fade" id="moveOrderModal">\n   <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title modal_title"> {{ modalTitle }} </h4>\n            </div>\n            <div class="modal-body">\n                <form name="move_orders_form">\n\n                    <div class="row move_orders">\n                        <span class="col-md-4 col-md-offset-2">\n                            <label>Schedule Month </label>\n                            <select ng-model="move_month" ng-options="month.value as month.title|date: AppSettings.FORMAT_DATE_MONTH_SHORT_JS for month in monthList"\n                              no-dirty-check>\n                                <option value="">Select</option>\n                            </select>\n                        </span>\n                        <span class="col-md-3">\n                            <label> Order Position</label>\n                            <input type="number" placeholder="" min="1" max="99999" maxlength="5" ng-model="new_position"/>\n                        </span>\n                    </div>\n                </form>\n\n                <div class="alert alert-warning" ng-if="clone.message">{{ clone.message }}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-disabled="!(move_month && new_position)" ng-click="onMoveCmd()">Move</button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n';
},320:function(e,n){e.exports='<div id="transport_dashboard">\n    \n    <top-bar>\n        <h2 class="top-bar__title">Delay Dashboard</h2>\n    </top-bar>\n\n    <messages>{{ order.messages }}</messages>\n</div>\n\n<div id="delay_dashboard_status">\n    \n    <div class="content">\n       \n        <table style="table-layout:auto">\n            <thead>\n                <tr>\n                    <th style="background-color: #f49e95">Serial No</th>\n\n                    <th style="background-color: #f49e95">Production Month</th>\n\n                    <th style="background-color: #f49e95">Schedule No</th>                                              \n                    <th style="background-color: #f49e95">Order Id </th>                                              \n                    <th style="background-color: #f49e95">Manage</th>                          \n                    <th style="background-color: #f49e95">Model Series</th>                          \n                    <th style="background-color: #f49e95">Dealership</th> \n                    \n                    <th style="background-color: #F9F989">Days Delayed <br> Within Production  </th>                       \n                    \n                    <th style="background-color: #5ee796">Planned Production Date  </th>                <!-- 6 --> \n                    <th style="background-color: #5ee796">Planned Dispatch Date  </th>                  <!-- 6 --> \n                    <th style="background-color: #5ee796">Actual Production Date  </th>                 <!-- 6 --> \n                    <th style="background-color: #5ee796">Days delayed to <br> Start Production </th>                       <!-- 6 --> \n                    \n                    \n                    <th style="background-color: #f9d959">Planned Chassis </th>                          \n                    <th style="background-color: #f9d959">Actual Chassis </th>                       \n                    <th style="background-color: #f9d959">Chassis Delay </th>\n\n                    <th style="background-color: #82c0ea">Planned Building  </th>\n                    <th style="background-color: #82c0ea">Actual Building  </th>                       \n                    <th style="background-color: #82c0ea">Building Delay  </th>                                              \n                    <th style="background-color: #c3c6c9">Planned  Pre-Wire  </th>\n                    <th style="background-color: #c3c6c9">Actual Pre-Wire  </th>\n                    <th style="background-color: #c3c6c9">Pre-Wire Delay  </th>\n\n                    <th style="background-color: #FA9811">Planned  Plumbing  </th>\n                    <th style="background-color: #FA9811">Actual Plumbing  </th>\n                    <th style="background-color: #FA9811">Plumbing Delay  </th>\n\n                    <th style="background-color: #76f4db">Planned Aluminium / <br> Fit Off  </th> \n                    <th style="background-color: #76f4db">Actual Aluminium / <br> Fit Off  </th> \n                    <th style="background-color: #76f4db"> Aluminium / <br> Fit Off Delay  </th> \n\n                    <th style="background-color: #d074f4">Planned Finishing  </th>\n                    <th style="background-color: #d074f4">Actual Finishing  </th>\n                    <th style="background-color: #d074f4">Finishing  </th>\n\n                    <th style="background-color: #ABB2B9">Planned Detailing Canopy  </th>\n                    <th style="background-color: #ABB2B9">Actual Detailing Canopy  </th>\n                    <th style="background-color: #ABB2B9">Detailing Canopy Delay  </th>\n\n                    <th style="background-color: #A9CCE3">Planned Water Testing  </th>                 \n                    <th style="background-color: #A9CCE3">Actual Water Testing  </th>                    \n                    <th style="background-color: #A9CCE3">Water Testing Delay  </th>                    \n\n                 <!--    <th style="background-color: #5ee796">Planned QC  </th>\n                    <th style="background-color: #5ee796">Actual QC  </th>\n                    <th style="background-color: #5ee796"> QC Delay  </th> -->\n                    \n                    <th style="background-color: #f9d959">Planned QC </th>\n                    <th style="background-color: #f9d959">Actual QC </th>\n                    <th style="background-color: #f9d959">QC Delay </th>\n                     \n                </tr>\n            </thead>\n            <tbody>\n                        <tr>\n                        <td colspan="9"></td>\n                        <td colspan="3"><a href ng-click="export_delay_all()" target="_blank">  <center> Export All</a></td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_chassis()" target="_blank">  <center>Export Chassis</a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_building()" target="_blank"> Export Building </a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_prewire()" target="_blank"> Export Pre Wire </a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_plumbing()" target="_blank"> Export Plumbing </a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_aluminium()" target="_blank">Export Aluminium </a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_finishing()" target="_blank"> Export Finishing</a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_detailing()" target="_blank"> Export Detailing</a>\n                        </td>\n                        <td colspan="3">\n                            <a href ng-click="export_delay_watertesting()" target="_blank"> Export Water Testing </a>\n                        </td>\n                       <!--  <td colspan="3">\n                            <a href ng-click="export_delay_actualqc()" target="_blank"> Export Actual QC </a>\n                        </td> -->\n                            \n                        <td colspan="3">\n                            <a href ng-click="export_delay_finalqc()" target="_blank"> Export QC </a>\n                        </td>\n                        </tr>                 \n                        <tr ng-repeat="order in delay_list" ng-class-odd="\'odd\'" ng-class-even="\'even\'">               \n                        <!-- <tr ng-repeat="order in delay_list | filter: { production_unit : 1 }" ng-class-odd="\'odd\'" ng-class-even="\'even\'">               -->\n                                    <td>\n                                       {{ $index + 1 }}\n                                    </td>\n\n                                    <td>\n                                       {{ order.production_month  | date : "MMM - yyyy" }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.schno }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.id }}\n                                    </td>\n\n                                     \n                                    <td>\n                                    <a href="{{ order.url }}" target="_blank"> {{ order.chassis }} </a> \n                                    </td>\n                                    <td>\n                                        {{ order.model }}\n                                    </td>\n                                    <td>\n                                        {{ order.dealership }}\n                                    </td>\n                                    \n\n                                     <td>\n                                        <div>\n                                          <!-- Double Negation in ANgularjs adds the variables values -->  \n                                        <div ng-if="order.roll_delay > 0">\n                                         <font face="Arial" color=\'green\'><b>{{ order.roll_delay }}</b></font>\n                                        </div>\n\n                                        <div ng-if="order.roll_delay < 0">\n                                        <font face="Arial" color=\'red\'><b>{{ order.roll_delay }}</b></font>\n                                        </div>\n                                        <div ng-if="order.roll_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b>{{ order.roll_delay }}</b></font>\n                                        </div>\n\n                                        </b></font>\n                                        </div>\n \n\n                                        \n                                    </td> \n                                    \n                                    <td>\n                                        {{ order.production_date | date : \'dd-MM-yyyy\' }}\n                                    </td>\n                                    <td>   \n                                        {{ order.planned_dispatch_date | date : \'dd-MM-yyyy\' }}\n                                    </td>\n                                    <td>\n                                        {{ order.actual_production_date | date : \'dd-MM-yyyy\' }}\n                                    </td>\n                                    \n                                    <td>\n                                        <div ng-if="order.estimated_delay > 0">\n                                         <font face="Arial" color=\'green\'><b>{{ order.estimated_delay }}</b></font>\n                                        </div>\n\n                                        <div ng-if="order.estimated_delay < 0">\n                                        <font face="Arial" color=\'red\'><b>{{ order.estimated_delay }}</b></font>\n                                        </div>\n                                        <div ng-if="order.estimated_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b>{{ order.estimated_delay }}</b></font>\n                                        </div>\n\n                                        \n                                    </td> \n\n                                    <td>\n                                        {{ order.planned_chassis | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                     <td>\n                                        {{ order.actual_chassis | date : \'dd-MM-yyyy\' }}\n                                     </td>\n\n                                    <td>\n                                        <div ng-if="order.chassis_delay > 0">\n                                                 \n                                         <font face="Arial" color=\'green\'><b>{{ order.chassis_delay }}</b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.chassis_delay < 0">\n                                          \n                                         <font face="Arial" color=\'red\'><b>{{ order.chassis_delay }}</b></font>\n                                         </div>\n\n                                         <div ng-if="order.chassis_delay == 0">\n                                          \n                                         <font face="Arial" color=\'blue\'><b>{{ order.chassis_delay }}</b></font>\n                                         </div>\n \n                                    </td>\n\n                                    <td>\n\n                                        {{ order.planned_building | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_building | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        <div ng-if="order.building_delay > 0">\n                                                 \n                                         <font face="Arial" color=\'green\'><b>\n\n                                        {{ order.building_delay }}\n                                        </b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.building_delay < 0">\n                                          \n                                         <font face="Arial" color=\'red\'><b>\n\n                                            {{ order.building_delay }}</b></font>\n                                         </div>\n\n                                        <div ng-if="order.building_delay == 0">\n                                          \n                                         <font face="Arial" color=\'blue\'><b>{{ order.building_delay }}</b></font>\n                                         </div>\n                                    </td>\n\n\n                                    <td>\n                                        {{ order.planned_prewire | date : \'dd-MM-yyyy\' }}\n                                        \n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_prewire | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        <div ng-if="order.prewire_delay > 0">\n                                                 \n                                         <font face="Arial" color=\'green\'><b>\n\n                                        {{ order.prewire_delay }}\n                                        </b></font>\n                                        </div>\n                                         \n                                         <div ng-if="order.prewire_delay < 0">\n                                          \n                                         <font face="Arial" color=\'red\'><b>\n\n                                            {{ order.prewire_delay }}</b></font>\n                                         </div>\n\n                                         <div ng-if="order.prewire_delay == 0">\n                                          \n                                         <font face="Arial" color=\'blue\'><b>\n                                            {{ order.prewire_delay }}</b></font>\n                                         </div>\n                                    </td>\n\n\n                                    <td>\n                                        {{ order.planned_plumbing | date : \'dd-MM-yyyy\' }}\n                                        \n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_plumbing | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        <div ng-if="order.plumbing_delay > 0">\n                                         <font face="Arial" color=\'green\'><b>{{ order.plumbing_delay }}</b></font>\n                                        </div>\n                                        <div ng-if="order.plumbing_delay < 0"> <font face="Arial" color=\'red\'><b>{{ order.plumbing_delay }}</b></font> \n                                        </div>\n                                         <div ng-if="order.plumbing_delay == 0"> <font face="Arial" color=\'blue\'><b>{{ order.plumbing_delay }}</b></font> \n                                        </div>\n                                    </td>\n\n\n\n                                    <td>\n                                        {{ order.planned_aluminium | date : \'dd-MM-yyyy\' }}\n                                        \n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_aluminium | date : \'dd-MM-yyyy\' }}\n                                        \n                                    </td>\n\n                                    <td>\n                                        <div ng-if="order.aluminium_delay > 0">\n                                                 \n                                         <font face="Arial" color=\'green\'><b>\n                                                {{ order.aluminium_delay }}\n                                        </b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.aluminium_delay < 0">\n                                        <font face="Arial" color=\'red\'><b> {{ order.aluminium_delay }}</b></font>\n                                        </div>\n                                        <div ng-if="order.aluminium_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b> {{ order.aluminium_delay }}</b></font>\n                                        </div>\n\n                                    </td>\n\n\n\n                                    <td>\n                                        {{ order.planned_finishing | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_finishing | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n\n                                         <div ng-if="order.finishing_delay > 0">\n                                                 \n                                         <font face="Arial" color=\'green\'><b>\n\n                                        {{ order.finishing_delay }}\n                                        </b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.finishing_delay < 0">\n                                        <font face="Arial" color=\'red\'><b>{{ order.finishing_delay }}</b></font>\n                                        </div>\n\n                                        <div ng-if="order.finishing_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b>{{ order.finishing_delay }}</b></font>\n                                        </div>\n                                    </td>\n\n\n\n                                    <td>\n                                        {{ order.planned_detailing | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_detailing | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        <div ng-if="order.detailing_delay > 0">\n                                                 \n                                         <font face="Arial" color=\'green\'><b>\n\n                                        {{ order.detailing_delay }}\n                                        </b></font>\n                                        </div>\n                                        <div ng-if="order.detailing_delay < 0">\n                                        <font face="Arial" color=\'red\'><b>{{ order.detailing_delay }}</b></font>\n                                        </div>\n                                        <div ng-if="order.detailing_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b>{{ order.detailing_delay }}</b></font>\n                                        </div>\n                                    </td>\n\n\n\n                                    <td>\n                                        {{ order.planned_watertest | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_watertest | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        <div ng-if="order.watertest_delay > 0">\n                                        <font face="Arial" color=\'green\'> <b> {{order.watertest_delay}}</b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.watertest_delay < 0">\n                                        <font face="Arial" color=\'red\'><b>{{ order.watertest_delay }}</b></font>\n                                        </div>\n\n                                        <div ng-if="order.watertest_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b>{{ order.watertest_delay }}</b></font>\n                                        </div>\n                                    </td>\n\n<!-- \n                                    <td>\n                                        {{ order.planned_actual_qc | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_qc | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        \n                                        <div ng-if="order.actual_qc_delay > 0">\n                                        <font face="Arial" color=\'green\'><b> {{ order.actual_qc_delay }}</b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.actual_qc_delay < 0">\n                                        <font face="Arial" color=\'red\'><b>{{ order.actual_qc_delay }}</b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.actual_qc_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b>{{ order.actual_qc_delay }}</b></font>\n                                        </div>\n                                    </td>\n\n -->\n                                    <td>\n                                        {{ order.planned_final_qc | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        {{ order.actual_final_qc | date : \'dd-MM-yyyy\' }}\n                                    </td>\n\n                                    <td>\n                                        \n                                        <div ng-if="order.final_qc_delay > 0">\n                                        <font face="Arial" color=\'green\'><b> {{ order.final_qc_delay }} </b></font>\n                                        </div>\n                                        \n                                        <div ng-if="order.final_qc_delay < 0">\n                                        <font face="Arial" color=\'red\'><b> {{ order.final_qc_delay }}</b></font>\n                                        </div>\n\n                                        <div ng-if="order.final_qc_delay == 0">\n                                        <font face="Arial" color=\'blue\'><b> {{ order.final_qc_delay }}</b></font>\n                                        </div>\n                                    </td>\n\n\n                                </tr>\n                                  \n                            <tbody>\n                        </table>\n                         <p>* Days in <font face=\'Verdana\' color=\'green\'> <b> green color are  positive </b><font>indicate ahead of schedule  \n        <p>      ** Days in <font face=\'Verdana\' color=\'red\'> red color</font> with<font face=\'Verdana\' color=\'red\'>  - sign </font> indicate behind schedule\n                 \n    </div>  \n</div>\n\n\n \n\n\n</div>\n'},321:function(e,n){e.exports=' \n<div id="combined_dashboard">\n    <top-bar>\n        <h2 class="top-bar__title"> Combined Production Status Summary</h2>\n    </top-bar>\n\n    <messages>{{ order.messages }}</messages>\n</div>\n\n<div id="transport_dashboard_status">\n    \n    <div class="content">\n        <table style="table-layout:fixed;width:125%">\n            <thead>\n                <tr>                    \n                    <th style="background-color: #f49e95">Chassis </th>                          \n                    <th style="background-color: #82c0ea">Building  </th>                       \n                    <th style="background-color: #c3c6c9">Pre-Wire  </th>                      \n                    <th style="background-color: #c3c6c9">Plumbing  </th>                      \n                    <th style="background-color: #76f4db">Aluminium / <br> Fit Off  </th> \n                    <th style="background-color: #d074f4">Finishing  </th>\n                    <th style="background-color: #ABB2B9">Detailing Canopy  </th>\n                    <th style="background-color: #A9CCE3">Water Testing  </th>                    \n                    \n                    <th style="background-color: #f9d959"> QC </th>\n                    <th style="background-color: #f2b47f">Ready For Dispatch</th>\n                    <th style="background-color: #7ac4f4">Dispatched Today  </th>\n                    <th style="background-color: #99abbd">Dispatched Yesterday  </th>\n                    <th style="background-color: #a4cfea">Dispatched <br> This Week  </th>\n                    <th style="background-color: #c884e5">Dispatched <br> This Month  </th>\n                    \n                </tr>\n            </thead>\n            <tbody>\n                <tr>  \n                    <th style="background-color: #E6B0AA"> {{ total_count.chassis_count }} </th>\n\n                    <th style="background-color: #AED6F1"> {{ total_count.building_count }} </th>                          \n                    <th style="background-color: #E5E7E9"> {{ total_count.prewire_count }} </th>\n\n                    <th style="background-color: #E5E7E9"> {{ total_count.plumbing_count }} </th>                          \n                    <th style="background-color: #A3E4D7"> {{ total_count.aluminium_count }} </th>                          \n                    <th style="background-color: #D2B4DE"> {{ total_count.finishing_count }} </th>\n\n                    <th style="background-color: #ABB2B9"> {{ total_count.detailing_count }} </th>\n\n                    <th style="background-color: #A9CCE3"> {{ total_count.water_test_count }} </th>\n\n                    <!-- <th style="background-color: #A9DFBF"> {{ total_count.actual_qc_count }} </th> -->                          \n                    \n                    <th style="background-color: #F9E79F"> {{ total_count.final_qc_count }} </th>                          \n                    \n                    <th style="background-color: #F5CBA7"> {{ total_count.actual_dispatch_count1 }} </th>                          \n                    <th style="background-color: #A9CCE3"> {{ total_count.today_dispatched_count }} </th>                          \n                    <th style="background-color: #ABB2B9"> {{ total_count.yesterday_dispatched_count }} </th>                          \n                    <th style="background-color: #D4E6F1"> {{ total_count.this_week_dispatched_count }} </th>                          \n                    <th style="background-color: #D7BDE2"> {{ total_count.this_month_dispatched_count }} </th>\n                    \n                </tr>\n                <tr>\n                    <th valign="top" style="background-color: #E6B0AA">\n                        <table rules="none">\n                            \n                            <tbody >\n                                <tr ng-repeat="chassis in chassis_list" >              \n                                    <td>\n                                        <a href="{{ chassis.url }}" target="_blank"> {{ chassis.chassis }} </a> \n                                        \n                                    </td>                          \n                                </tr>\n                            <tbody>\n                        </table>\n                    </th>  \n                \n                    <th valign="top" style="background-color: #AED6F1">\n                        <table rules="none"> \n                           \n                            <tbody>\n                                <tr ng-repeat="building in building_list">  \n                                    <td>\n                                        <a href="{{ building.url }}" target="_blank"> {{ building.chassis}} </a>\n                                         \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n                    \n                    <th valign="top" style="background-color: #E5E7E9">\n                        <table rules="none"> \n                             \n                            <tbody>\n                                      \n                                <tr ng-repeat="prewire in prewire_list">                         \n                                    <td>\n                                        <a href="{{ prewire.url }}" target="_blank"> {{ prewire.chassis }} </a> \n                                        \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>\n\n                    <th valign="top" style="background-color: #E5E7E9">\n                        <table rules="none"> \n                             \n                            <tbody>\n                                      \n                                <tr ng-repeat="plumbing in plumbing_list">                         \n                                    <td>\n                                        <a href="{{ plumbing.url }}" target="_blank"> {{ plumbing.chassis }} </a> \n                                        \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                     \n\n                    <th valign="top" style="background-color: #A3E4D7">\n                        <table rules="none">\n                            \n                            <tbody> \n                                <tr ng-repeat="aluminium in aluminium_list">                          \n                                    <td> \n                                        <a href="{{ aluminium.url }}" target="_blank"> {{ aluminium.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th> \n\n                    <th valign="top" style="background-color: #D2B4DE">\n                        <table rules="none">\n                         \n                        <tbody>\n                            <tr ng-repeat="finishing in finishing_list">                         \n                                <td>\n                                    <a href="{{ finishing.url }}" target="_blank"> {{ finishing.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>\n\n                     <th valign="top" style="background-color: #ABB2B9">\n                        <table rules="none">\n                         \n                        <tbody>\n                            <tr ng-repeat="detailing in detailing_list">                         \n                                <td>\n                                    <a href="{{ detailing.url }}" target="_blank"> {{ detailing.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>   \n\n\n                    <th valign="top" style="background-color: #A9CCE3">\n                        <table style="table-layout:fixed" >\n                        <col style="width:20%">\n                        <col style="width:80%">\n                        <tbody>\n                            <tr ng-repeat="water_test in water_test_list">                         \n                                <td>\n                                    <div> \n                                        <font face="Arial" color="Black"> <b>*</b>  </font>\n                                    </div> \n                                </td>\n                                <td>\n                                    <a href="{{ water_test.url }}" target="_blank"> {{ water_test.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>   \n                   \n\n                    <th valign="top" style="background-color: #F9E79F">\n                        <table style="table-layout:fixed" >\n                                <col style="width:20%">\n                                <col style="width:80%">\n                            <tbody>  \n                                <tr ng-repeat="final_qc in final_qc_list">                          \n                                    <td> \n                                        <div ng-if="final_qc.check_weights"> \n                                            <span style=\'font-size:14px;color:green\'>&#xbb;</span>   \n                                    </div> \n                                    <div ng-if="!final_qc.check_weights"> \n                                        <span style=\'font-size:14px;color:red\'>&#xbb;</span>   \n                                    </div>\n                                </td>\n                                <td>\n                                        <a href="{{ final_qc.url }}" target="_blank"> {{ final_qc.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n \n                    <th  style="background-color: #F5CBA7;vertical-align: top">\n                        <table style="table-layout:fixed;" >\n                            <tbody> \n                                <!-- email_sent_green_list -->\n                            <tr ng-repeat="email_sent_green in email_sent_green_list" style="line-height: auto;">                          \n                                    <td style="line-height: auto">        \n                                    <div ng-if="email_sent_green.status_red">\n                                        \n\n                        <a href="{{ email_sent_green.url }}" style="color:#FF6347;"  target="_blank" >\n                                                     {{ email_sent_green.chassis }} </a>\n                                </div>\n                                </td>                                  \n                                 </tr>   \n\n                        <tr ng-repeat="email_sent_green in email_sent_green_list"  style="height: 10px;">\n                                    \n                                    <td style="line-height: auto">\n                                    <div ng-if="email_sent_green.status_green" style="line-height: auto"> \n                                                                  \n                        <a href="{{ email_sent_green.url }}" style="color:#32CD32;" target="_blank"> \n                                                                  {{ email_sent_green.chassis }}\n                                                              </a>\n                                 \n                                    </div>\n                                </td>\n                                </tr>\n                            <tr ng-repeat="email_sent_green in email_sent_green_list"  style="line-height: auto;">\n                            <td style="line-height: auto">\n                            <div ng-if="email_sent_green.status_grey" style="line-height: auto"> \n                                    \n                                  \n                        <a href="{{ email_sent_green.url }}" style="color:#000000;"  target="_blank"> \n                                                                  {{ email_sent_green.chassis }}\n                                                                   </a> \n                                    \n                                    </div>\n                                </td>\n                                </tr>\n                            </tbody>\n                                </table>\n\n                    </th>                    \n\n                    <th valign="top" style="background-color: #A9CCE3">\n                        <table rules="none">\n                            \n                            <tbody> \n                        <tr ng-repeat="today_dispatched in today_dispatched_list">                       \n                                    <td> \n                                        <a href="{{ today_dispatched.url }}" target="_blank"> {{ today_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #ABB2B9">\n                        <table rules="none">\n                            \n                            <tbody> \n                    <tr ng-repeat="yesterday_dispatched in yesterday_dispatched_list">\n                                    <td> \n                                        <a href="{{ yesterday_dispatched.url }}" target="_blank"> {{ yesterday_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody> \n                        </table>\n                    </th>                                   \n\n                    <th valign="top" style="background-color: #D4E6F1">\n                        <table rules="none">\n                            \n                            <tbody> \n            <tr ng-repeat="this_week_dispatched in this_week_dispatched_list">\n                                    <td> \n                                        <a href="{{ this_week_dispatched.url }}" target="_blank"> {{ this_week_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #D7BDE2">\n                        <table rules="none"> \n                            \n                            <tbody> \n                <tr ng-repeat="this_month_dispatched in this_month_dispatched_list">\n                                    <td>\n                                        <a href="{{ this_month_dispatched.url }}" target="_blank"> {{ this_month_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>\n                                        \n                </tr>\n            </tbody>     \n        </table>\n       \n    </div>  \n</div>\n\n\n\n\n\n\n\n</div>\n \n\n\n ';
},322:function(e,n){e.exports='<div id="transport_dashboard">\n    <top-bar>\n        <h2 class="top-bar__title">Caravans Production Status</h2>\n    </top-bar>\n\n    <messages>{{ order.messages }}</messages>\n</div>\n\n<div id="transport_dashboard_status">\n    \n    <div class="content">\n        <table style="table-layout:fixed">\n            <thead>\n                <tr>                    \n                    <th style="background-color: #f49e95">Chassis </th>                          \n                    <th style="background-color: #82c0ea">Building  </th>                       \n                    <th style="background-color: #c3c6c9">Pre-Wire  </th>                      \n                    <th style="background-color: #c3c6c9">Plumbing  </th>                      \n                    <th style="background-color: #76f4db">Aluminium / <br> Fit Off  </th> \n                    <th style="background-color: #d074f4">Finishing  </th>\n                    <th style="background-color: #ABB2B9">Detailing Canopy  </th>\n                    <th style="background-color: #A9CCE3">Water Testing  </th>                    \n                    <!-- <th style="background-color: #5ee796">QC  </th> -->\n                    <th style="background-color: #f9d959"> QC </th>\n                    <th style="background-color: #f2b47f">Ready For Dispatch</th>\n                    <th style="background-color: #7ac4f4">Dispatched Today  </th>\n                    <th style="background-color: #99abbd">Dispatched Yesterday  </th>\n                    <th style="background-color: #a4cfea">Dispatched <br> This Week  </th>\n                    <th style="background-color: #c884e5">Dispatched <br> This Month  </th>\n                    \n                </tr>\n            </thead>\n            <tbody>\n                <tr>  \n                    <th style="background-color: #E6B0AA"> {{ (chassis_list | filter: { production_unit : 1 }).length }}  </th>\n\n                    <th style="background-color: #AED6F1"> {{ (building_list | filter: { production_unit : 1 }).length }}</th>                          \n                    <th style="background-color: #E5E7E9">{{ (prewire_list | filter: { production_unit : 1 }).length }}</th>\n\n                     <th style="background-color: #E5E7E9">{{ (plumbing_list | filter: { production_unit : 1 }).length }}</th>\n\n                    <th style="background-color: #A3E4D7"> {{ (aluminium_list | filter: { production_unit : 1 }).length }}</th>                          \n                    \n                    <th style="background-color: #D2B4DE"> {{ (finishing_list | filter: { production_unit : 1 }).length }} </th>\n\n                    <th style="background-color: #ABB2B9"> {{ (detailing_list | filter: { production_unit : 1 }).length }}  </th>\n\n                    <th style="background-color: #A9CCE3">  {{ (water_test_list | filter: { production_unit : 1 }).length }}</th>\n\n                    \n                    <th style="background-color: #F9E79F">{{ (final_qc_list | filter: { production_unit : 1 }).length }} </th>                          \n                    <th style="background-color: #F9E79F">{{ (actual_dispatch_list | filter: { production_unit : 1 }).length }} </th>                          \n                    <th style="background-color: #A9CCE3"> {{ (today_dispatched_list | filter: { production_unit : 1 }).length }} </th>                          \n                    <th style="background-color: #ABB2B9">{{ (yesterday_dispatched_list | filter: { production_unit : 1 }).length }} </th>                          \n                    <th style="background-color: #D4E6F1"> {{ (this_week_dispatched_list | filter: { production_unit : 1 }).length }} </th>                          \n                    <th style="background-color: #D7BDE2"> {{ (this_month_dispatched_list | filter: { production_unit : 1 }).length }} </th>\n                    \n                </tr>\n                <tr>\n                    <th valign="top" style="background-color: #E6B0AA">\n                        <table rules="none">\n                            \n                            <tbody >\n                                <tr ng-repeat="chassis in chassis_list | filter: { production_unit : 1 }" >              \n                                    <td>\n                                        <a href="{{ chassis.url }}" target="_blank"> {{ chassis.chassis }} </a> \n                                     \n                                    </td>                          \n                                </tr>\n                            <tbody>\n                        </table>\n                    </th>  \n                \n                    <th valign="top" style="background-color: #AED6F1">\n                        <table rules="none"> \n                           \n                            <tbody>\n                                <tr ng-repeat="building in building_list | filter: { production_unit : 1 }">  \n                                    <td>\n                                        <a href="{{ building.url }}" target="_blank"> {{ building.chassis}} </a>\n                                      \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n                    \n                    <th valign="top" style="background-color: #E5E7E9">\n                        <table rules="none"> \n                             \n                            <tbody>\n                                      \n                                <tr ng-repeat="prewire in prewire_list | filter: { production_unit : 1 }">                         \n                                    <td>\n                                        <a href="{{ prewire.url }}" target="_blank"> {{ prewire.chassis }} </a> \n                                       \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>\n\n                    <th valign="top" style="background-color: #E5E7E9">\n                        <table rules="none"> \n                             \n                            <tbody>\n                                      \n                                <tr ng-repeat="plumbing in plumbing_list | filter: { production_unit : 1 }">                         \n                                    <td>\n                                        <a href="{{ plumbing.url }}" target="_blank"> {{ plumbing.chassis }} </a> \n                                       \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                          \n\n                    <th valign="top" style="background-color: #A3E4D7">\n                        <table rules="none">\n                            \n                            <tbody> \n                                <tr ng-repeat="aluminium in aluminium_list | filter: { production_unit : 1 }">                          \n                                    <td> \n                                        <a href="{{ aluminium.url }}" target="_blank"> {{ aluminium.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th> \n\n                    <th valign="top" style="background-color: #D2B4DE">\n                        <table rules="none">\n                         \n                        <tbody>\n                            <tr ng-repeat="finishing in finishing_list | filter: { production_unit : 1 }">                         \n                                <td>\n                                    <a href="{{ finishing.url }}" target="_blank"> {{ finishing.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>\n\n                     <th valign="top" style="background-color: #ABB2B9">\n                        <table rules="none">\n                         \n                        <tbody>\n                            <tr ng-repeat="detailing in detailing_list | filter: { production_unit : 1 }">                         \n                                <td>\n                                    <a href="{{ detailing.url }}" target="_blank"> {{ detailing.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>   \n\n\n                    <th valign="top" style="background-color: #A9CCE3">\n                        <table style="table-layout:fixed" >\n                        <col style="width:20%">\n                        <col style="width:80%">\n                        <tbody>\n                            <tr ng-repeat="water_test in water_test_list | filter: { production_unit : 1 }">                         \n                                <td>\n                                    <div> \n                                        <font face="Arial" color="Black"> <b>*</b>  </font>\n                                    </div> \n                                </td>\n                                <td>\n                                    <a href="{{ water_test.url }}" target="_blank"> {{ water_test.chassis }} </a> \n                                </td>\n                            </tr>\n                        </tbody> \n                        </table>\n                    </th>   \n                   \n\n                    <th valign="top" style="background-color: #F9E79F">\n                        <table style="table-layout:fixed" >\n                                <col style="width:20%">\n                                <col style="width:80%">\n                            <tbody>  \n                                <tr ng-repeat="final_qc in final_qc_list | filter: { production_unit : 1 }">                          \n                                    <td> \n                                        <div ng-if="final_qc.check_weights"> \n                                            <span style=\'font-size:14px;color:green\'>&#xbb;</span>   \n                                    </div> \n                                    <div ng-if="!final_qc.check_weights"> \n                                        <span style=\'font-size:14px;color:red\'>&#xbb;</span>   \n                                    </div>\n                                </td>\n                                <td>\n                                        <a href="{{ final_qc.url }}" target="_blank"> {{ final_qc.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n \n                    <th  style="background-color: #F5CBA7;vertical-align: top">\n                        <table style="table-layout:fixed;" >\n                            <tbody> \n                                <!-- email_sent_green_list -->\n                            <tr ng-repeat="email_sent_green in email_sent_green_list | filter: { production_unit : 1 }" style="line-height: auto;">                          \n                                    <td style="line-height: auto">        \n                                    <div ng-if="email_sent_green.status_red">\n                                        \n\n                        <a href="{{ email_sent_green.url }}" style="color:#FF6347;"  target="_blank" >\n                                                     {{ email_sent_green.chassis }} </a>\n                                </div>\n                                </td>                                  \n                                 </tr>   \n\n                        <tr ng-repeat="email_sent_green in email_sent_green_list | filter: { production_unit : 1 }"  style="height: 10px;">\n                                    \n                                    <td style="line-height: auto">\n                                    <div ng-if="email_sent_green.status_green" style="line-height: auto"> \n                                                                  \n                        <a href="{{ email_sent_green.url }}" style="color:#32CD32;" target="_blank"> \n                                                                  {{ email_sent_green.chassis }}\n                                                              </a>\n                                 \n                                    </div>\n                                </td>\n                                </tr>\n                            <tr ng-repeat="email_sent_green in email_sent_green_list | filter: { production_unit : 1 }"  style="line-height: auto;">\n                            <td style="line-height: auto">\n                            <div ng-if="email_sent_green.status_grey" style="line-height: auto"> \n                                    \n                                  \n                        <a href="{{ email_sent_green.url }}" style="color:#000000;"  target="_blank"> \n                                                                  {{ email_sent_green.chassis }}\n                                                                   </a> \n                                    \n                                    </div>\n                                </td>\n                                </tr>\n                            </tbody>\n                                </table>\n\n                    </th>                    \n\n                    <th valign="top" style="background-color: #A9CCE3">\n                        <table rules="none">\n                            \n                            <tbody> \n                        <tr ng-repeat="today_dispatched in today_dispatched_list | filter: { production_unit : 1 }">                       \n                                    <td> \n                                        <a href="{{ today_dispatched.url }}" target="_blank"> {{ today_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #ABB2B9">\n                        <table rules="none">\n                            \n                            <tbody> \n                    <tr ng-repeat="yesterday_dispatched in yesterday_dispatched_list | filter: { production_unit : 1 }">\n                                    <td> \n                                        <a href="{{ yesterday_dispatched.url }}" target="_blank"> {{ yesterday_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody> \n                        </table>\n                    </th>                                   \n\n                    <th valign="top" style="background-color: #D4E6F1">\n                        <table rules="none">\n                            \n                            <tbody> \n            <tr ng-repeat="this_week_dispatched in this_week_dispatched_list | filter: { production_unit : 1 }">\n                                    <td> \n                                        <a href="{{ this_week_dispatched.url }}" target="_blank"> {{ this_week_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>                    \n\n                    <th valign="top" style="background-color: #D7BDE2">\n                        <table rules="none"> \n                            \n                            <tbody> \n                <tr ng-repeat="this_month_dispatched in this_month_dispatched_list | filter: { production_unit : 1 }">\n                                    <td>\n                                        <a href="{{ this_month_dispatched.url }}" target="_blank"> {{ this_month_dispatched.chassis }} </a> \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </th>\n                                        \n                </tr>\n            </tbody>     \n        </table>\n       \n    </div>  \n</div>\n\n\n \n\n\n</div>\n'}});