webpackJsonp([14],{0:function(e,n,s){e.exports=s(171)},120:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e.controller("EditQuoteController",["$scope","$http","$location","ApiService",function(e,n,s,t){e.post=function(e){return t.post("edit_quote/",e)},e.table_object=null,e.customer_type="Customer",e.caravan_selection="base",e.choices={series_list:[]},e.data={},e.customer_form={},e.order={physical_add:{owner:"",street:"",postcode:"",state:"",suburb:""},delivery_add:{name:"",street:"",postcode:"",state:"",suburb:""},invoice_add:{name:"",street:"",postcode:"",state:"",suburb:""},customer:{partner_name:""}},e.active_sub_tab=[!0,!1,!1,!1,!1,!1],e.order.desired_dd_day=1,e.order.desired_dd_month=2,e.order.desired_dd_year=2016,e.info={show_price:!0,show_price_button:"Hide"},e.days=[],e.months=[],e.years=[];for(var a=new Date,o=1;o<=31;o++)e.days.push(o);for(var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=0;l<12;l++)e.months.push([l,i[l]]);for(var r=0;r<=20;r++)e.years.push(a.getFullYear()+r);var d=$("<a>",{href:s.absUrl()})[0],c=d.search.substr(1).split("=")[1];e.post({type:"get_edit_pre_data",quote_id:c}).then(function(n){e.choices.dealerships=n.data.list.dealers,e.choices.states=n.data.list.states,e.choices.models=n.data.list.models,e.choices.series_list=n.data.list.series_list,e.data.categories=n.data.list.categories,e.data.availability_types=n.data.list.availability_types,e.data.series=n.data.list.series,e.quote=n.data.list.quote,e.quote.upgrade_retail_sum=0,e.quote.upgrade_wholesale_sum=0,e.quote.upgrade_cost_sum=0,e.quote.extra_retail_sum=0,e.quote.extra_wholesale_sum=0,e.quote.extra_cost_sum=0,e.quote.special_features_retail_sum=0}),e.on_base_series_selection=function(){e.post({type:"set_series",series_id:e.quote.series,quote_id:e.quote.id}).then(function(n){e.active_sub_tab[2]=!0})},e.toggleShowPrice=function(){e.info.show_price=!e.info.show_price,e.info.show_price?e.info.show_price_button="Hide":e.info.show_price_button="Show Retail Price"},e.OnSKUClick=function(n,s){n.selected_item=s;var t=n.retail_price_differential,a=n.wholesale_price_differential,o=n.cost_price_differential;n.retail_price_differential=s.retail_price-n.standard_item.retail_price,n.wholesale_price_differential=s.wholesale_price-n.standard_item.wholesale_price,n.cost_price_differential=s.cost_price-n.standard_item.cost_price,e.quote.upgrade_retail_sum+=n.retail_price_differential-t,e.quote.upgrade_wholesale_sum+=n.wholesale_price_differential-a,e.quote.upgrade_cost_sum+=n.cost_price_differential-o},e.UpdateFeaturesTotals=function(e,n){},e.extra_checked=function(n,s,t){t.is_selected=!t.is_selected;var a;t.is_selected?(a=1,s.selected_extra_count++,n.sub_selected_extra_count++):(n.sub_selected_extra_count--,s.selected_extra_count--,a=-1),e.quote.extra_retail_sum+=t.retail_price*a,e.quote.extra_wholesale_sum-=t.wholesale_price*a,e.quote.extra_cost_sum-=t.cost_price*a},e.onAddExtra=function(n){e.data.category_for_extra=n,$("#extra_modal").modal({backdrop:"static",keyboard:!1})},e.onOpenSeriesPhotos=function(){$("#photos.modal").modal({backdrop:"static"})},e.onShowFeaturedTotals=function(){$("#featured_totals_modal").modal({backdrop:"static",keyboard:!1})},e.onAddExtraSubmit=function(){$(".modal").modal("hide")};e.search=function(n){e.search_id=n.id,e.table_object.ajax.reload()},e.select_physical_suburb=function(n){e.order.physical_add.suburb=n.suburb,e.order.physical_add.postcode=n.postcode,e.order.physical_add.state=n.state_id},e.select_delivery_suburb=function(n){e.order.delivery_add.suburb=n.suburb,e.order.delivery_add.postcode=n.postcode,e.order.delivery_add.state=n.state_id},e.select_invoice_suburb=function(n){e.order.invoice_add.suburb=n.suburb,e.order.invoice_add.postcode=n.postcode,e.order.invoice_add.state=n.state_id},e.on_model_select=function(n){e.post({type:"get_model_series",model_id:e.quote.model}).then(function(n){e.quote.model_obj=null,e.quote.series_obj=null,e.get_model_name(),e.get_series_name(),e.choices.series_list=n.data.list.series_list})},e.on_series_select=function(){e.post({type:"get_series_data",series_id:e.quote.series,quote_id:e.quote.id}).then(function(n){e.quote.series_obj=null,e.get_series_name(),e.data.series=n.data.list.series,e.data.categories=n.data.list.categories})},e.get_model_name=function(){if(e.quote&&e.quote.model_obj)return e.quote.model_obj.title;if("undefined"==typeof e.choices.models)return"";var n;for(n=0;n<e.choices.models.length;++n)if(e.choices.models[n].id==e.quote.model)return e.quote.model_obj=e.choices.models[n],e.choices.models[n].title},e.get_series_name=function(){if(e.quote&&e.quote.series_obj)return e.quote.series_obj.title;var n;for(n=0;n<e.choices.series_list.length;++n)if(e.choices.series_list[n].id==e.quote.series)return e.quote.series_obj=e.choices.series_list[n],e.choices.series_list[n].title;return""},e.add_special_row=function(e){e.additional_expenses.push({id:"",category_id:"",notes:"",quantity:"",retail_charge:"",wholesale_charge:"",cost_price:"",approval_time:"",approval_notes:""})},e.should_feature_price_be_disabled=function(e){return""==e.category_id||""==e.notes||""==e.quantity},e.on_special_feature_price_change=function(n){void 0===n.previous_retail_charge&&(n.previous_retail_charge=0),e.quote.special_features_retail_sum+=parseInt(n.retail_charge)-n.previous_retail_charge,n.previous_retail_charge=parseInt(n.retail_charge)},e.update_customer_details=function(n){n.$valid&&e.post({type:"add_customer_quote",data:e.order}).then(function(n){"fail"===n.data.result?(e.order.insert_successful_message="",e.order.insert_failed_message=n.data.message):(e.order.insert_failed_message="",e.order.insert_successful_message=n.data.message)})}}])},e.exports=n.default},171:function(e,n,s){"use strict";var t=s(10);s(120)(t),t.config(["$stateProvider",function(e){e.state("edit_quote",{url:"",template:s(287),controller:"EditQuoteController"})}])},287:function(e,n){e.exports='<top-bar>\n    <h2>Edit Quote</h2>\n    <div class="row top-bar-info">\n        <div class="col-sm-2" ng-if="current_dealership()">\n            <h5>Dealership</h5>\n            <h4>{{ current_dealership().title }}</h4>\n        </div>\n        <div class="col-sm-6" ng-if="quote.model && quote.series">\n            <h4><small>Model: </small>\n            {{ get_model_name() }}</h4>\n            {{ get_series_name() }}\n        </div>\n    </div>\n</top-bar>\n\n<div class="container">\n    <div class="row" ng-if="customer_type==\'Dealership\'">\n        <div class="col-sm-12">\n\n            <form name="stock_form" class="form top-margin-30">\n                <div class="panel panel-primary" id="panels">\n                    <div class="panel-heading">Create a stock order</div>\n                    <div class="panel-body">\n                            <div class="col-sm-6">\n                                <label class="form-label">DEALERSHIP</label>\n                                <select class="form-control"\n                                        ng-model="quote.dealer_dealership"\n                                        ng-options="dealer.id as dealer.title for dealer in choices.dealerships"\n                                        required>\n                                    <option value="">Select a dealership</option>\n                                </select>\n                            </div>\n\n                            <div class="col-sm-6">\n                                <label class="form-label">DESIRED DELIVERY DATE</label>\n                                <date-dropdowns></date-dropdowns>\n                            </div>\n                    </div>\n                </div>\n                <div class="form-group col-sm-3">\n                    <button type="submit" class="btn btn-primary form-control" ng-click="proceed(stock_form)">Create and proceed</button>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class="row" ng-if="customer_type==\'Customer\'">\n        <div class="col-sm-12">\n            <div>\n                <tabset justified="false">\n                    <tab heading="Customer Details">\n                        <form name="customer_form" novalidate class="form top-margin-30" autocomplete="off" form-autofill-fix ng-submit="update_customer_details(customer_form)">\n                            <div class="panel panel-default">\n                                <div class="panel-body">\n                                    <div class="row">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">DEALERSHIP</label>\n                                            <select class="form-control"\n                                                    ng-model="quote.customer_dealership"\n                                                    ng-options="dealer.id as dealer.title for dealer in choices.dealerships">\n                                                <option value="">Select a dealership (optional)</option>\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                    <!-- Customer details -->\n\n                                    <div class="row top-margin-40">\n                                        <div class="col-sm-6"><h4>Customer Details</h4></div>\n                                        <div class="col-sm-6">\n                                            <button class="btn btn-default pull-right">Retrieve customer from leads</button>\n                                        </div>\n                                    </div>\n\n                                    <div class="row top-margin-30">\n                                        <div class="col-sm-6"><i>Fields marked with an asterisk are required</i></div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                FIRST NAME</label>\n                                            <input type="text" class="form-control" ng-model="quote.customer.first_name" name="first_name" required/>\n                                            <required-field form="customer_form" name="customer_form.first_name" label="First Name"></required-field>\n                                        </div>\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                LAST NAME</label>\n                                            <input type="text" class="form-control" ng-model="quote.customer.last_name" name="last_name" required/>\n                                            <required-field form="customer_form" name="customer_form.last_name" label="Last Name"></required-field>\n                                        </div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                EMAIL</label>\n                                            <input type="text" class="form-control" ng-model="quote.customer.email" name="email" required/>\n                                            <required-field form="customer_form" name="customer_form.email" label="Email Address"></required-field>\n                                        </div>\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">PARTNER\'S NAME</label>\n                                            <input type="text" class="form-control" ng-model="quote.customer.partner_name" name="partner_name" />\n                                        </div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                PHONE NUMBER</label>\n                                            <input type="text" class="form-control" ng-model="quote.customer.phone_number" name="phone_number" required/>\n                                            <required-field form="customer_form" name="customer_form.phone_number" label="Phone Number"></required-field>\n                                        </div>\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">DESIRED DELIVERY DATE</label>\n                                            <div class="date-dropdowns">\n                                                <select class="form-control"\n                                                        ng-model="quote.desired_dd_day"\n                                                        ng-options="day as day for day in days">\n                                                    <option value="">dd</option>\n                                                </select>\n                                                <select class="form-control"\n                                                        ng-model="quote.desired_dd_month"\n                                                        ng-options="month[0] as month[1] for month in months">\n                                                    <option value="">mm</option>\n                                                </select>\n                                                <select class="form-control"\n                                                        ng-model="quote.desired_dd_year"\n                                                        ng-options="year as year for year in years">\n                                                    <option value="">yyyy</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n\n\n                                    <!-- Address -->\n\n\n                                    <div class="row top-margin-40">\n                                        <div class="col-sm-6"><h4>Address</h4></div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                REGISTERED OWNER</label>\n                                            <input type="text" ng-model="quote.physical_add.owner" name="physical_add_owner" class="form-control" required/>\n                                            <required-field form="customer_form" name="customer_form.physical_add_owner" label="Registered Owner"></required-field>\n                                        </div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                STREET ADDRESS</label>\n                                            <input type="text" ng-model="quote.physical_add.street" name="physical_add_street" class="form-control" required/>\n                                            <required-field form="customer_form" name="customer_form.physical_add_street" label="Street Address"></required-field>\n                                        </div>\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                LOOKUP CITY OR SUBURB</label>\n                                            <lookup result="search.physical_suburb"\n                                                    on-select="select_physical_suburb" type="suburb_lookup" name="physical_add_suburb" autocomplete="off" required></lookup>\n                                        </div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                CITY / SUBURB</label>\n                                            <input type="text"  ng-model="quote.physical_add.suburb" name="physical_add_suburb" class="form-control" required/>\n                                            <required-field form="customer_form" name="customer_form.physical_add_suburb" label="City / Suburb"></required-field>\n                                        </div>\n                                        <div class="form-group col-sm-4">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                POSTCODE</label>\n                                            <input type="text" ng-model="quote.physical_add.postcode" name="physical_add_postcode" class="form-control" required/>\n                                            <required-field form="customer_form" name="customer_form.physical_add_postcode" label="Postcode"></required-field>\n                                        </div>\n                                        <div class="form-group col-sm-2">\n                                        </div>\n                                    </div>\n\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-6">\n                                            <label class="form-label">\n                                                <red-star></red-star>\n                                                STATE</label>\n                                            <select  class="form-control"\n                                                    ng-model="quote.physical_add.state" name="physical_add_state"\n                                                    ng-options="state.id as state.title for state in choices.states" required>\n                                                <option value="">Select a state</option>\n                                            </select>\n                                            <required-field form="customer_form" name="customer_form.physical_add_state" label="State"></required-field>\n                                        </div>\n\n                                    </div>\n\n                                    <div class="row top-margin-40">\n\n                                        <accordion class="red" close-others="false">\n\n                                            <!-- Delivery -->\n\n                                            <accordion-group>\n                                                <accordion-heading>\n                                                    <div>Delivery details (if different)</div>\n                                                </accordion-heading>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">NAME</label>\n                                                        <input type="text" ng-model="quote.delivery_add.name" class="form-control"/>\n                                                    </div>\n                                                </div>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">STREET ADDRESS</label>\n                                                        <input type="text" ng-model="quote.delivery_add.street" class="form-control"/>\n                                                    </div>\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">LOOKUP CITY OR SUBURB</label>\n                                                        <lookup result="search.delivery_suburb"\n                                                            on-select="select_delivery_suburb" type="suburb_lookup" autocomplete="off"></lookup>\n                                                    </div>\n                                                </div>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">\n                                                            CITY / SUBURB</label>\n                                                        <input type="text"  ng-model="quote.delivery_add.suburb" name="delivery_add_suburb" class="form-control"/>\n                                                    </div>\n                                                    <div class="form-group col-sm-4">\n                                                        <label class="form-label">POSTCODE</label>\n                                                        <input type="text" ng-model="quote.delivery_add.postcode" class="form-control"/>\n                                                    </div>\n                                                    <div class="form-group col-sm-2">\n                                                    </div>\n                                                </div>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">STATE</label>\n                                                        <select  class="form-control"\n                                                                ng-model="quote.delivery_add.state"\n                                                                ng-options="state.id as state.title for state in choices.states">\n                                                            <option value="">Select a state</option>\n                                                        </select>\n                                                    </div>\n                                                </div>\n\n                                            </accordion-group>\n\n\n                                            <!-- Invoice -->\n\n                                            <accordion-group>\n                                                <accordion-heading>\n                                                    <div>Invoice details (if different)</div>\n                                                </accordion-heading>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">NAME</label>\n                                                        <input type="text" ng-model="quote.invoice_add.name" class="form-control"/>\n                                                    </div>\n                                                </div>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">STREET ADDRESS</label>\n                                                        <input type="text" ng-model="quote.invoice_add.street" class="form-control"/>\n                                                    </div>\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">LOOKUP CITY OR SUBURB</label>\n                                                        <lookup result="search.invoice_suburb"\n                                                            on-select="select_invoice_suburb" type="suburb_lookup" autocomplete="off"></lookup>\n                                                    </div>\n                                                </div>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">\n                                                            CITY / SUBURB</label>\n                                                        <input type="text"  ng-model="quote.invoice_add.suburb" name="invoice_add_suburb" class="form-control"/>\n                                                    </div>\n                                                    <div class="form-group col-sm-4">\n                                                        <label class="form-label">POSTCODE</label>\n                                                        <input type="text" ng-model="quote.invoice_add.postcode" class="form-control"/>\n                                                    </div>\n                                                    <div class="form-group col-sm-2"></div>\n                                                </div>\n\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">STATE</label>\n                                                        <select  class="form-control"\n                                                                ng-model="quote.invoice_add.state"\n                                                                ng-options="state.id as state.title for state in choices.states">\n                                                            <option value="">Select a state</option>\n                                                        </select>\n                                                    </div>\n                                                </div>\n\n                                            </accordion-group>\n                                        </accordion>\n\n                                    </div>\n                                    <div class="row top-margin-20">\n                                        <div class="form-group col-sm-3">\n                                            <button type="submit" class="btn btn-primary form-control" data-ng-disabled="progress.active()">Update and proceed</button>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="alert alert-success" ng-if="quote.update_successful_message">{{ quote.update_successful_message }}</div>\n                                        <div class="alert alert-danger" ng-if="quote.update_failed_message">{{ quote.update_failed_message }}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </tab>\n                    <tab heading="Caravan Details">\n                        <div class="panel panel-default">\n                            <div class="panel-body" style="padding-top:60px;">\n                                <tabset justified="false">\n                                    <tab id="sub_tab_model_series" heading="Model & Series">\n                                        <div class="radio">\n                                          <label>\n                                            <input type="radio" ng-model="caravan_selection" value="base">\n                                            Select from Base Model and Series\n                                          </label>\n                                        </div>\n                                        <div class="radio">\n                                          <label>\n                                            <input type="radio" ng-model="caravan_selection" value="previous">\n                                            Select a previous Customer / Stock Model\n                                          </label>\n                                        </div>\n                                        <div ng-if="caravan_selection==\'base\'">\n                                            <form name="model_series_form" novalidate class="form top-margin-30" autocomplete="off" form-autofill-fix ng-submit="assign_model_series(model_series_form)">\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">Model</label>\n                                                        <select  class="form-control"\n                                                                ng-model="quote.model" name="model"\n                                                                ng-options="model.id as model.title for model in choices.models" ng-change="on_model_select(quote.model)">\n                                                            <option value="">Select a model</option>\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-6">\n                                                        <label class="form-label">Series</label>\n                                                        <select  class="form-control"\n                                                                ng-model="quote.series" name="series"\n                                                                ng-options="series.id as series.title for series in choices.series_list" ng-change="on_series_select()">\n                                                            <option value="">Select a series</option>\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-3">\n                                                        <button type="submit" class="btn btn-primary form-control" ng-click="on_base_series_selection()" data-ng-disabled="progress.active()">Update and proceed</button>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="alert alert-success" ng-if="quote.update_successful_message">{{ quote.update_successful_message }}</div>\n                                                    <div class="alert alert-danger" ng-if="quote.update_failed_message">{{ quote.update_failed_message }}</div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                        <div ng-if="caravan_selection==\'previous\'">\n                                            <form name="assign_qo_form" novalidate class="form top-margin-30" autocomplete="off" form-autofill-fix ng-submit="quote_from_previous(assign_qo_form)">\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-9">\n                                                        <lookup result="search.text" placeholder="Search by Customer Name or Chassis Number" on-select="search_quote_or_order"\n                                                            type="quote_or_order_lookup" autocomplete="off"></lookup>\n                                                    </div>\n                                                </div>\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-3">\n                                                        <button type="submit" class="btn btn-primary form-control" data-ng-disabled="progress.active()">Update and proceed</button>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="alert alert-success" ng-if="quote.update_successful_message">{{ quote.update_successful_message }}</div>\n                                                    <div class="alert alert-danger" ng-if="quote.update_failed_message">{{ quote.update_failed_message }}</div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                    </tab>\n                                    <tab id="sub_tab_weight_size" heading="Weight & Size">\n                                        <form name="assign_qo_form" novalidate class="form top-margin-30" autocomplete="off" form-autofill-fix ng-submit="quote_from_previous(assign_qo_form)">\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12">\n                                                        <h3>Estimated Size</h3>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12">\n                                                        {{ data.series.length_feet }}&#39;&nbsp;{{ data.series.length_inches }}&#34;&nbsp;X&nbsp;{{ data.series.width_feet }}&#39;&nbsp;{{ data.series.width_inches }}&#34;\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12">\n                                                        <h3>Estimated Weight</h3>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12">\n                                                        Tare Weight: {{ data.series.tare_weight }} KG, Ball Weight: {{ data.series.ball_weight }} KG\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12 checkbox">\n                                                        <label>\n                                                          <input type="checkbox" ng-model="quote.weight_understood_as_estimate">\n                                                          I understand that the weight provided above is an estimate only and that the final weight will depend on the Customer\'s final specifications\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12">\n                                                        <h4>Specify weight limits for this caravan</h4>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="form-group col-sm-12">\n                                                        Some owners are limited by the towing capacity of their vehicle.\n                                                    </div>\n                                                </div>\n                                                <div class="form-group row">\n                                                    <div class="col-sm-2">\n                                                        <div class="form-value">\n                                                            <input placeholder="Tare Weight (KG)"\n                                                                   ng-model="clone.tare_weight"\n                                                                   type="text" class="form-control">\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-sm-2">\n                                                        <div class="form-value">\n                                                            <input placeholder="Ball Weight (KG)"\n                                                                   ng-model="clone.ball_weight"\n                                                                   type="text" class="form-control">\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class="row top-margin-20">\n                                                    <div class="form-group col-sm-3">\n                                                        <button type="submit" class="btn btn-primary form-control" data-ng-disabled="!quote.weight_understood_as_estimate">Update and proceed</button>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="alert alert-success" ng-if="quote.update_successful_message">{{ quote.update_successful_message }}</div>\n                                                    <div class="alert alert-danger" ng-if="quote.update_failed_message">{{ quote.update_failed_message }}</div>\n                                                </div>\n                                            </form>\n                                    </tab>\n                                    <tab id="sub_tab_features" heading="Features" active="active_sub_tab[2]">\n                                        <div class="form-group row">\n                                            <div class="col-sm-2">\n                                                <img class="large-thumbnail" ng-if="data.series.has_photos" ng-src="{{ data.series.first_photo }}" />\n                                            </div>\n                                            <div class="col-sm-2">\n                                                <h4>{{ data.series.name }}</h4>\n                                                <div class="row" ng-if="data.series.has_photos">\n                                                    <div class="col-sm-12">\n                                                        <a href="" ng-click="onOpenSeriesPhotos()">View {{ data.series.photo_count }} images</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="col-sm-2">&nbsp;</div>\n                                            <div class="col-sm-6">\n                                                <div class="row">\n                                                    <div class="col-sm-8">\n                                                        <h3 class="pull-right" ng-if="info.show_price"><small>Retail Sale Price:&nbsp;&nbsp;&nbsp;</small>\n                                                            {{ data.series_retail_price + quote.upgrade_retail_sum + quote.extra_retail_sum + quote.special_features_retail_sum | currency }}\n                                                        </h3>\n                                                    </div>\n                                                    <div class="col-sm-4">\n                                                        <h3>\n                                                            <button type="button" class="btn btn-pending-selection btn-block" ng-click="toggleShowPrice()">{{ info.show_price_button }}</button>\n                                                        </h3>\n                                                    </div>\n                                                </div>\n                                                <div class="row">\n                                                    <div class="col-sm-9">\n                                                    </div>\n                                                    <div class="col-sm-3">\n                                                        <button type="button" class="btn btn-pending-selection btn-block" ng-click="onShowFeaturedTotals()">Show Totals</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="form-group row">\n                                            <div class="col-sm-12"><h4>Upgrades and Optional Extras</h4></div>\n                                        </div>\n                                        <form name="features_form" novalidate class="form top-margin-30" autocomplete="off" form-autofill-fix ng-submit="specify_features(features_form)">\n                                            <div class="row">\n                                                <div class="col-sm-12">\n                                                    <accordion>\n                                                        <accordion-group class="category" ng-repeat="(catKey, category) in data.categories" ng-if="category.show_tab">\n                                                            <accordion-heading>\n                                                                <div>{{ category.title }}</div>\n                                                            </accordion-heading>\n\n                                                            <accordion>\n                                                                <accordion-group class="sub-category" ng-repeat="(grpkey, group) in category.groups" ng-if="group.show_tab">\n                                                                    <accordion-heading>\n                                                                        <div>{{ group.title }}</div>\n                                                                    </accordion-heading>\n\n                                                                    <div ng-repeat="(grp2key, group2) in group.groups">\n                                                                        <div  ng-if="group2.item_count" class="row">\n                                                                            <div class="form-group col-sm-8">\n                                                                                <!-- Split button -->\n                                                                                <div ng-if="group2.item_count > 1" class="btn-group" dropdown>\n                                                                                  <div id="{{ group2.id }}" class="btn btn-default" ng-class="{true:\'dropdown-pending-selection\', false:\'\'}[group2.selected_item.title == \'\']">\n                                                                                      <div class="row sku-choice">\n                                                                                          <div class="col-sm-8" ng-if="group2.selected_item.title">\n                                                                                            {{ group2.selected_item.title }}\n                                                                                          </div>\n                                                                                          <div class="col-sm-8" ng-if="group2.selected_item.title == \'\'">\n                                                                                            Select {{ group2.title }}\n                                                                                          </div>\n                                                                                          <div class="col-sm-4" ng-if="group2.retail_price_differential">\n                                                                                              <span class="glyphicon glyphicon-tag"></span>\n                                                                                              <span>{{ group2.retail_price_differential | currency }}</span>\n                                                                                          </div>\n                                                                                      </div>\n                                                                                      <span class="sr-only">Toggle Dropdown</span>\n                                                                                  </div>\n\n                                                                                  <button type="button" class="btn btn-default"  ng-class="{true:\'btn-pending-selection\', false:\'\'}[group2.selected_item.title == \'\']" dropdown-toggle>\n                                                                                    <span class="caret"></span>\n                                                                                    <span class="sr-only">Toggle Dropdown</span>\n                                                                                  </button>\n                                                                                  <ul class="dropdown-menu sku-choice" role="menu" aria-labelledby="">\n                                                                                      <li ng-repeat="item in group2.items" ng-class-odd="\'spb-item-bk-odd\'" ng-class="{true:\'selected-dropdown-item\', false:\'\'}[group2.selected_item.id==item.id]"\n                                                                                          ng-class-even="\'spb-item-bk-even\'" ng-click="OnSKUClick(group2, item)">\n\n                                                                                          <div class="row sku-choice">\n                                                                                              <div class="col-sm-3">\n                                                                                                  <img ng-if="item.photo.length" class="item-thumbnail" ng-src="{{ item.photo }}" />\n                                                                                              </div>\n                                                                                              <div class="col-sm-6">\n                                                                                                  <span>{{ item.title }}</span>\n                                                                                              </div>\n                                                                                              <div class="col-sm-3">\n                                                                                                  <span>{{ item.retail_price - group2.standard_item.retail_price | currency}}</span>\n                                                                                              </div>\n                                                                                          </div>\n                                                                                      </li>\n                                                                                  </ul>\n                                                                                </div>\n\n                                                                                <!-- flat div -->\n                                                                                <div ng-if="group2.item_count == 1">\n                                                                                  <div id="{{ group2.id }}" class="btn btn-default">\n                                                                                      <div class="row sku-non-choice">\n                                                                                          <div class="col-sm-8">\n                                                                                            {{ group2.selected_item.title }}\n                                                                                          </div>\n                                                                                          <div class="col-sm-4" ng-if="group2.retail_price_differential">\n                                                                                              <span class="glyphicon glyphicon-tag"></span>\n                                                                                              <span>{{ group2.retail_price_differential | currency }}</span>\n                                                                                          </div>\n                                                                                      </div>\n                                                                                  </div>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class="row top-margin-20">\n                                                                        <div class="form-group col-sm-3">\n                                                                            <button type="submit" class="btn btn-primary form-control" ng-if="group.show_extra_button" ng-click="onAddExtra(group)">+ Add Optional Extras</button>\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class="row top-margin-20">\n                                                                        <div class="form-group col-sm-7">\n                                                                            <div  ng-if="group.sub_selected_extra_count">\n                                                                                <div class="panel panel-extra-and-special">\n                                                                                    <div class="panel-heading">\n                                                                                        <h3 class="panel-title">Extras for {{ group.title }}</h3>\n                                                                                    </div>\n                                                                                    <div class="panel-body">\n                                                                                        <div ng-repeat="(grp1key, group1) in group.groups">\n                                                                                            <div class="panel panel-default top-margin-20" ng-if="group1.selected_extra_count">\n                                                                                                <div class="panel-heading">\n                                                                                                    <h4 class="panel-title">{{ group1.title }}</h4>\n                                                                                                </div>\n                                                                                                <ul class="list-group">\n                                                                                                    <li class="list-group-item" ng-repeat="item in group1.extra_items" ng-if="item.is_selected">\n                                                                                                        <div class="row sku-choice">\n                                                                                                          <div class="col-sm-8">\n                                                                                                            {{ item.title }}\n                                                                                                          </div>\n                                                                                                          <div class="col-sm-4">\n                                                                                                            <span class="glyphicon glyphicon-tag"></span>\n                                                                                                            <span>{{ item.retail_price | currency }}</span>\n                                                                                                          </div>\n                                                                                                      </div>\n                                                                                                    </li>\n                                                                                                </ul>\n                                                                                            </div>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class="row top-margin-20">\n                                                                        <div class="form-group col-sm-12">\n                                                                            <div class="panel panel-extra-and-special">\n                                                                                <div class="panel-heading">\n                                                                                    <h3 class="panel-title">Request special features</h3>\n                                                                                </div>\n                                                                                <div class="panel-body">\n                                                                                    <div>\n                                                                                        <div class="form-group row">\n                                                                                            <div class="col-sm-4">\n                                                                                                <div class="form-value">\n                                                                                                    <label class="large-form-label">Feature</label>\n                                                                                                </div>\n                                                                                            </div>\n                                                                                            <div class="col-sm-4">\n                                                                                                <div class="form-value">\n                                                                                                    <label class="large-form-label">Department</label>\n                                                                                                    </select>\n                                                                                                </div>\n                                                                                            </div>\n                                                                                            <div class="col-sm-2">\n                                                                                                <div class="form-value">\n                                                                                                    <label class="large-form-label">Qty</label>\n                                                                                                </div>\n                                                                                            </div>\n                                                                                            <div class="col-sm-2">\n                                                                                                <div class="form-value">\n                                                                                                    <label class="large-form-label">R$</label>\n                                                                                                </div>\n                                                                                            </div>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div ng-repeat="feature in group.additional_expenses">\n                                                                                        <div class="form-group row">\n                                                                                            <div class="col-sm-4">\n                                                                                                <div class="form-value">\n                                                                                                    <input placeholder="e.g. Chrome finish"\n                                                                                                           ng-model="feature.notes"\n                                                                                                           type="text" class="form-control">\n                                                                                                </div>\n                                                                                            </div>\n                                                                                            <div class="col-sm-4">\n                                                                                                <div class="form-value">\n                                                                                                    <select  class="form-control"\n                                                                                                            ng-model="feature.category_id" name="model"\n                                                                                                            ng-options="group.id as group.title for group in category.groups">\n                                                                                                        <option value="">Select</option>\n                                                                                                    </select>\n                                                                                                </div>\n                                                                                            </div>\n                                                                                            <div class="col-sm-2">\n                                                                                                <div class="form-value">\n                                                                                                    <input ng-model="feature.quantity"\n                                                                                                           type="number" class="form-control">\n                                                                                                </div>\n                                                                                            </div>\n                                                                                            <div class="col-sm-2">\n                                                                                                <div class="form-value">\n                                                                                                    <input ng-model="feature.retail_charge" ng-disabled="should_feature_price_be_disabled(feature)" ng-change="on_special_feature_price_change(feature)"\n                                                                                                           type="text" class="form-control">\n                                                                                                </div>\n                                                                                            </div>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="row">\n                                                                                        <div class="col-sm-1">\n                                                                                            <div class="form-value">\n                                                                                                <button class="btn btn-default form-control" ng-click="add_special_row(group)">+</button>\n                                                                                            </div>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class="row top-margin-20">\n                                                                        <div class="form-group col-sm-12">\n                                                                            <h4>Production Notes</h4>\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class="form-group row">\n                                                                        <div class="col-sm-12">\n                                                                            <div class="form-value">\n                                                                                <input placeholder="e.g. Build Team please note that extra wiring is needed"\n                                                                                       ng-model="group.production_notes"\n                                                                                       type="text" class="form-control">\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n\n                                                                </accordion-group>\n                                                            </accordion>\n\n                                                            <div ng-repeat="(grp1key, group1) in category.groups">\n                                                                <div  ng-if="group1.item_count" class="row">\n                                                                    <div class="form-group col-sm-8">\n                                                                        <!-- Split button -->\n                                                                        <div ng-if="group1.item_count > 1" class="btn-group" dropdown>\n                                                                          <div id="{{ group1.id }}" class="btn btn-default" ng-class="{true:\'dropdown-pending-selection\', false:\'\'}[group1.selected_item.title == \'\']">\n                                                                              <div class="row sku-choice">\n                                                                                  <div class="col-sm-8" ng-if="group1.selected_item.title">\n                                                                                    {{ group1.selected_item.title }}\n                                                                                  </div>\n                                                                                  <div class="col-sm-8" ng-if="group1.selected_item.title == \'\'">\n                                                                                    Select {{ group1.title }}\n                                                                                  </div>\n                                                                                  <div class="col-sm-4" ng-if="group1.retail_price_differential">\n                                                                                      <span class="glyphicon glyphicon-tag"></span>\n                                                                                      <span>{{ group1.retail_price_differential | currency }}</span>\n                                                                                  </div>\n                                                                              </div>\n                                                                              <span class="sr-only">Toggle Dropdown</span>\n                                                                          </div>\n\n                                                                          <button type="button" class="btn btn-default"  ng-class="{true:\'btn-pending-selection\', false:\'\'}[group1.selected_item.title == \'\']" dropdown-toggle>\n                                                                            <span class="caret"></span>\n                                                                            <span class="sr-only">Toggle Dropdown</span>\n                                                                          </button>\n                                                                          <ul class="dropdown-menu sku-choice" role="menu" aria-labelledby="">\n                                                                              <li ng-repeat="item in group1.items" ng-class-odd="\'spb-item-bk-odd\'" ng-class="{true:\'selected-dropdown-item\', false:\'\'}[group1.selected_item.id==item.id]"\n                                                                                  ng-class-even="\'spb-item-bk-even\'" ng-click="OnSKUClick(group1, item)">\n\n                                                                                  <div class="row sku-choice">\n                                                                                      <div class="col-sm-3">\n                                                                                          <img ng-if="item.photo.length" class="item-thumbnail" ng-src="{{ item.photo }}" />\n                                                                                      </div>\n                                                                                      <div class="col-sm-6">\n                                                                                          <span>{{ item.title }}</span>\n                                                                                      </div>\n                                                                                      <div class="col-sm-3">\n                                                                                          <span>{{ item.retail_price - group1.standard_item.retail_price | currency}}</span>\n                                                                                      </div>\n                                                                                  </div>\n                                                                              </li>\n                                                                          </ul>\n                                                                        </div>\n\n                                                                        <!-- flat div -->\n                                                                        <div ng-if="group1.item_count == 1">\n                                                                          <div id="{{ group1.id }}" class="btn btn-default">\n                                                                              <div class="row sku-non-choice">\n                                                                                  <div class="col-sm-8">\n                                                                                    {{ group1.selected_item.title }}\n                                                                                  </div>\n                                                                                  <div class="col-sm-4" ng-if="group1.retail_price_differential">\n                                                                                      <span class="glyphicon glyphicon-tag"></span>\n                                                                                      <span>{{ group1.retail_price_differential | currency }}</span>\n                                                                                  </div>\n                                                                              </div>\n                                                                          </div>\n                                                                        </div>\n\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class="row top-margin-20">\n                                                                <div class="form-group col-sm-3">\n                                                                    <button type="submit" class="btn btn-primary form-control" ng-if="category.show_extra_button" ng-click="onAddExtra(category)">+ Add Optional Extras</button>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class="row top-margin-20">\n                                                                <div class="form-group col-sm-7">\n                                                                    <div  ng-if="category.sub_selected_extra_count">\n                                                                        <div class="panel panel-extra-and-special">\n                                                                            <div class="panel-heading">\n                                                                                <h3 class="panel-title">Extras for {{ category.title }}</h3>\n                                                                            </div>\n                                                                            <div class="panel-body">\n                                                                                <div ng-repeat="(grp1key, group1) in category.groups">\n                                                                                    <div class="panel panel-default top-margin-20" ng-if="group1.selected_extra_count">\n                                                                                        <div class="panel-heading">\n                                                                                            <h4 class="panel-title">{{ group1.title }}</h4>\n                                                                                        </div>\n                                                                                        <ul class="list-group">\n                                                                                            <li class="list-group-item" ng-repeat="item in group1.extra_items" ng-if="item.is_selected">\n                                                                                                <div class="row sku-choice">\n                                                                                                  <div class="col-sm-8">\n                                                                                                    {{ item.title }}\n                                                                                                  </div>\n                                                                                                  <div class="col-sm-4">\n                                                                                                    <span class="glyphicon glyphicon-tag"></span>\n                                                                                                    <span>{{ item.retail_price | currency }}</span>\n                                                                                                  </div>\n                                                                                              </div>\n                                                                                            </li>\n                                                                                        </ul>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class="row top-margin-20">\n                                                                <div class="form-group col-sm-12">\n                                                                    <div class="panel panel-extra-and-special">\n                                                                        <div class="panel-heading">\n                                                                            <h3 class="panel-title">Request special features</h3>\n                                                                        </div>\n                                                                        <div class="panel-body">\n                                                                            <div>\n                                                                                <div class="form-group row">\n                                                                                    <div class="col-sm-4">\n                                                                                        <div class="form-value">\n                                                                                            <label class="large-form-label">Feature</label>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="col-sm-4">\n                                                                                        <div class="form-value">\n                                                                                            <label class="large-form-label">Department</label>\n                                                                                            </select>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="col-sm-2">\n                                                                                        <div class="form-value">\n                                                                                            <label class="large-form-label">Qty</label>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="col-sm-2">\n                                                                                        <div class="form-value">\n                                                                                            <label class="large-form-label">R$</label>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                            <div ng-repeat="feature in category.additional_expenses">\n                                                                                <div class="form-group row">\n                                                                                    <div class="col-sm-4">\n                                                                                        <div class="form-value">\n                                                                                            <input placeholder="e.g. Chrome finish"\n                                                                                                   ng-model="feature.notes"\n                                                                                                   type="text" class="form-control">\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="col-sm-4">\n                                                                                        <div class="form-value">\n                                                                                            <select  class="form-control"\n                                                                                                    ng-model="feature.category_id" name="model"\n                                                                                                    ng-options="group.id as group.title for group in category.groups">\n                                                                                                <option value="">Select</option>\n                                                                                            </select>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="col-sm-2">\n                                                                                        <div class="form-value">\n                                                                                            <input ng-model="feature.quantity"\n                                                                                                   type="number" class="form-control">\n                                                                                        </div>\n                                                                                    </div>\n                                                                                    <div class="col-sm-2">\n                                                                                        <div class="form-value">\n                                                                                            <input ng-model="feature.retail_charge" ng-disabled="should_feature_price_be_disabled(feature)" ng-change="on_special_feature_price_change(feature)"\n                                                                                                           type="text" class="form-control">\n                                                                                        </div>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                            <div class="row">\n                                                                                <div class="col-sm-1">\n                                                                                    <div class="form-value">\n                                                                                        <button class="btn btn-default form-control" ng-click="add_special_row(category)">+</button>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class="row top-margin-20">\n                                                                <div class="form-group col-sm-12">\n                                                                    <h4>Production Notes</h4>\n                                                                </div>\n                                                            </div>\n                                                            <div class="form-group row">\n                                                                <div class="col-sm-12">\n                                                                    <div class="form-value">\n                                                                        <input placeholder="e.g. Build Team please note that extra wiring is needed"\n                                                                               ng-model="category.production_notes"\n                                                                               type="text" class="form-control">\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                        </accordion-group>\n                                                    </accordion>\n                                                </div>\n                                            </div>\n                                            <div class="row top-margin-20">\n                                                <div class="form-group col-sm-3">\n                                                    <button type="submit" class="btn btn-primary form-control">Update and proceed</button>\n                                                </div>\n                                            </div>\n                                            <div class="row">\n                                                <div class="alert alert-success" ng-if="quote.update_successful_message">{{ quote.update_successful_message }}</div>\n                                                <div class="alert alert-danger" ng-if="quote.update_failed_message">{{ quote.update_failed_message }}</div>\n                                            </div>\n                                        </form>\n                                    </tab>\n                                    <tab heading="Finishes / Colour">\n                                        Finishes / Colour\n                                    </tab>\n                                    <tab heading="Cost & Invoicing">\n                                        Cost & Invoicing\n                                    </tab>\n                                    <tab heading="Resources">\n                                        Resources\n                                    </tab>\n                                </tabset>\n                            </div>\n                        </div>\n                    </tab>\n                    <tab heading="Status / Documents / History">\n                        <div class="panel panel-default">\n                            <div class="panel-body">\n                                Documents\n                            </div>\n                        </div>\n                    </tab>\n                    <tab heading="Costing">\n                        <div class="panel panel-default">\n                            <div class="panel-body">\n                                Costing\n                            </div>\n                        </div>\n                    </tab>\n                </tabset>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal fade" id="extra_modal">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                            aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title">Extras for {{ data.category_for_extra.title }}</h4>\n                </div>\n                <div class="modal-body">\n                    <div ng-repeat="(grp1key, group1) in data.category_for_extra.groups" ng-if="group1.extra_item_count" class="top-margin-20 panel panel-default">\n                        <div class="panel-heading">\n                            <h3 class="panel-title">{{ group1.title }}</h3>\n                        </div>\n                        <div class="panel-body">\n                            <div class="row sku-choice" ng-repeat="item in group1.extra_items">\n                                <div class="col-sm-12">\n                                    <div class="row">\n                                        <div class="col-sm-1">\n                                            <input type="checkbox" model="item.is_selected" ng-checked="item.is_selected" ng-click="extra_checked(data.category_for_extra, group1, item)" aria-label="...">\n                                        </div>\n                                        <div class="col-sm-2">\n                                              <img ng-if="item.photo.length" class="item-thumbnail" ng-src="{{ item.photo }}" />\n                                        </div>\n                                        <div class="col-sm-6">\n                                            <span>{{ item.title }}</span>\n                                        </div>\n                                        <div class="col-sm-3">\n                                            <span>{{ item.retail_price | currency }}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary" ng-click="onAddExtraSubmit()">Update</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal fade" id="featured_totals_modal">\n        <div class="modal-dialog wide">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                            aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title">Totals</h4>\n                </div>\n                <div class="modal-body">\n                    <table class="table">\n                        <tr>\n                            <th>&nbsp;</th>\n                            <th>Manufacturing Cost</th>\n                            <th>Manufacturing Margin</th>\n                            <th>Wholesale</th>\n                            <th>Reseller Margin</th>\n                            <th>Retail</th>\n                        </tr>\n                        <tr>\n                            <td>\n                                <h5>Adjustments</h5>\n                                Please enter adjustments in these fields >\n                            </td>\n                            <td></td>\n                            <td></td>\n                            <td>\n                                <input type="text" class="form-control" ng-model="quote.wholesale_adjustment" name="wholesale_adjustment" />\n                            </td>\n                            <td></td>\n                            <td>\n                                <input type="text" class="form-control" ng-model="quote.retail_sale_adjustment" name="retail_sale_adjustment" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                Basic Caravan Prices\n                            </td>\n                            <td>{{ data.series_cost_price | currency }}</td>\n                            <td>{{ data.series_retail_price - data.series_cost_price | currency }}</td>\n                            <td>{{ data.series_wholesale_price | currency }}</td>\n                            <td>{{ data.series_retail_price - data.series_wholesale_price | currency }}</td>\n                            <td>{{ data.series_retail_price | currency }}</td>\n                        </tr>\n                        <tr>\n                            <td>\n                                Subtotal of Upgrades\n                            </td>\n                            <td>{{ quote.upgrade_cost_sum | currency }}</td>\n                            <td>{{ quote.upgrade_retail_sum - quote.upgrade_cost_sum | currency }}</td>\n                            <td>{{ quote.upgrade_wholesale_sum | currency }}</td>\n                            <td>{{ quote.upgrade_retail_sum - quote.upgrade_wholesale_sum | currency }}</td>\n                            <td>{{ quote.upgrade_retail_sum | currency }}</td>\n                        </tr>\n                        <tr>\n                            <td>\n                                Subtotal of Extras\n                            </td>\n                            <td>{{ quote.extra_cost_sum | currency }}</td>\n                            <td>{{ quote.extra_retail_sum - quote.extra_cost_sum | currency }}</td>\n                            <td>{{ quote.extra_wholesale_sum | currency }}</td>\n                            <td>{{ quote.extra_retail_sum - quote.extra_wholesale_sum | currency }}</td>\n                            <td>{{ quote.extra_retail_sum | currency }}</td>\n                        </tr>\n                        <tr>\n                            <td>\n                                Subtotal of Special Items\n                            </td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                        </tr>\n                        <tr ng-if="quote.has_special">\n                            <td>\n                                Special:\n                            </td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                            <td>{{ 0 | currency }}</td>\n                        </tr>\n                        <tr>\n                            <td class="bold">\n                                Grand Totals\n                            </td>\n                            <td>{{ data.series_cost_price + quote.upgrade_cost_sum + quote.extra_cost_sum | currency }}</td>\n                            <td>{{ (data.series_retail_price + quote.upgrade_retail_sum + quote.extra_retail_sum)\n                                    - (data.series_cost_price + quote.upgrade_cost_sum + quote.extra_cost_sum) | currency }}</td>\n                            <td>{{ data.series_wholesale_price + quote.upgrade_wholesale_sum + quote.extra_wholesale_sum | currency }}</td>\n                            <td>{{ (data.series_retail_price + quote.upgrade_retail_sum + quote.extra_retail_sum) -\n                                    (data.series_wholesale_price + quote.upgrade_wholesale_sum + quote.extra_wholesale_sum) | currency }}</td>\n                            <td>{{ data.series_retail_price + quote.upgrade_retail_sum + quote.extra_retail_sum | currency }}</td>\n                        </tr>\n                    </table>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id="photos" class="modal fade">\n        <div class="modal-dialog">\n            <div class="modal-content tall">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                            aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title"><b>{{ get_model_name() }}:</b> {{ get_series_name() }}</h4>\n                </div>\n                <div class="modal-body tall">\n                    <ul class="image-carousel" ng-if="data.series.photo_count" rn-carousel rn-carousel-controls class="image">\n                        <li ng-repeat="photo_url in data.series.photo_urls">\n                            <img ng-src="{{ photo_url }}" class="img-responsive"/>\n                        </li>\n                    </ul>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n';
}});